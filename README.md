# ๐ง Voice Bot Pipeline - YouTube to SAG v2.0 System

**ะะพะปะฝะพััะฝะบัะธะพะฝะฐะปัะฝัะน ะฟะฐะนะฟะปะฐะนะฝ ะดะปั ะฟะพะดะณะพัะพะฒะบะธ ะดะฐะฝะฝัั ะธะท YouTube-ะปะตะบัะธะน ะดะปั AI-ะฑะพัะพะฒ ั ะฒะตะบัะพัะฝัะผ ะฟะพะธัะบะพะผ, ะณัะฐั-RAG ัะธััะตะผะฐะผะธ ะธ SAG v2.0 (Structured Augmented Generation).**

## ๐ **ะะะะะ ะ ะะะะกะะ 2.0**
- **SAG v2.0**: ะกัััะบัััะธัะพะฒะฐะฝะฝะฐั ะณะตะฝะตัะฐัะธั ั ัะฐััะธัะตะฝะฝัะผะธ ะผะตัะฐะดะฐะฝะฝัะผะธ
- **๐ ะะะกะจะะะะะะะฏ ะะะะค-ะะะะะะะฆะะฏ**: 442 ัะทะปะฐ + 259 ะพัะฝะพัะตะฝะธะน (ะฒะผะตััะพ 12 ะฑะฐะทะพะฒัั)
- **๐ ะกะะะะะขะะงะะกะะะ ะะะะะะ**: ะะฒัะพะผะฐัะธัะตัะบะพะต ะฒััะฒะปะตะฝะธะต ัะฒัะทะตะน ะผะตะถะดั ะบะพะฝัะตะฟัะฐะผะธ
- **๐ง KNOWLEDGE GRAPH**: ะะฐะบัะธะผะฐะปัะฝะพ ะฟะพะปะฝัะน ะณัะฐั ะทะฝะฐะฝะธะน ัะพ ะฒัะตะผะธ ะฒะทะฐะธะผะพัะฒัะทัะผะธ ะดะปั AI-ะฑะพัะฐ
- **ะะฒัะพะผะฐัะธัะตัะบะฐั ะบะปะฐััะธัะธะบะฐัะธั**: ะขะธะฟั ะฑะปะพะบะพะฒ, ัะผะพัะธะพะฝะฐะปัะฝัะต ัะพะฝะฐ, ัะปะพะถะฝะพััั
- **ะัะฐั-ัััะฝะพััะธ**: ะะพัะผะฐะปะธะทะฐัะธั ะธ ะฐะณัะตะณะฐัะธั ะดะปั ะณัะฐัะพะฒ ะทะฝะฐะฝะธะน
- **ะะพััะพะปะพะณะธัะตัะบะฐั ะพะฑัะฐะฑะพัะบะฐ**: ะัััะบะธะน ัะทัะบ ั ะฟัะฐะฒะธะปัะฝัะผะธ ะณัะฐะผะผะฐัะธัะตัะบะธะผะธ ัะพัะผะฐะผะธ
- **ะะฐัััััะธะทะฐัะธั**: ะฃะผะฝะฐั ะบะปะฐััะธัะธะบะฐัะธั ะฟะพ ะบะพะปะปะตะบัะธัะผ ั ะผะตััะธะบะพะน ัะฒะตัะตะฝะฝะพััะธ
- **๐ฏ ะะะขะะะะะฆะะฏ "ะกะะฏะฉะะะ ะะะะะะขะ"**: ะะพะปะฝะฐั ะฐะบัะธะฒะฐัะธั ะณัะฐั-ะบะพะปะปะตะบัะธะธ ะฝะตะนัะพััะฐะปะบะธะฝะณะฐ
- **๐ ะกะะกะขะะะ ะญะะกะขะะะะขะะะะ ะะะะะะ**: 5 ะฟะพัะปะตะดะพะฒะฐัะตะปัะฝัั ััะฐะฟะพะฒ (ะฒะฐะปะธะดะฐัะธั, ะฟะฐััะตัะฝั, ัะตะฟะพัะบะธ, ะธะตัะฐััะธั, ะพัะบะตัััะฐัะธั)
- **๐ ะกะะกะขะะะ ะฃะะะะะะะะะฏ ะะะะะ-ะะะะกะขะะะ**: ะัะพะฒะตัะบะฐ ะดัะฑะปะธะบะฐัะพะฒ, ะผะตัะฐะดะฐะฝะฝัะต, ะพัะณะฐะฝะธะทะฐัะธั ะฟะพ ะดะฐัะฐะผ
- **๐ ะะะะะะะะะฆะะฏ ะคะะะะะ ะะ ะะะขะะ**: ะะฒัะพะผะฐัะธัะตัะบะฐั ััััะบัััะฐ `{year}/{month}/` ั ัะธัะฐะตะผัะผะธ ะธะผะตะฝะฐะผะธ
- **๐ ะะะะะะะะขะะะฌะะซะ LLM-ะญะะกะขะะะะขะะะซ**: 5 ัะฟะตัะธะฐะปะธะทะธัะพะฒะฐะฝะฝัั ัะบัััะฐะบัะพัะพะฒ (safety, causal chains, concept hierarchy, case studies, prerequisites)
- **๐ค API ะะะฏ AI-ะะะขะ**: ะะพัะพะฒัะต ะผะตัะพะดั ะดะปั ะฟะพะธัะบะฐ ะฟัะฐะบัะธะบ, ัะตะบะพะผะตะฝะดะฐัะธะน ัะฟัะฐะถะฝะตะฝะธะน ะธ ะฟะพัััะพะตะฝะธั reasoning chains

## ๐ ะะณะปะฐะฒะปะตะฝะธะต

1. [ะะฐะทะฝะฐัะตะฝะธะต ะฟัะพะตะบัะฐ](#-ะฝะฐะทะฝะฐัะตะฝะธะต-ะฟัะพะตะบัะฐ)
2. [SAG v2.0 - ะกัััะบัััะธัะพะฒะฐะฝะฝะฐั ะณะตะฝะตัะฐัะธั](#-sag-v20---ััััะบัััะธัะพะฒะฐะฝะฝะฐั-ะณะตะฝะตัะฐัะธั)
3. [ะกะธััะตะผะฐ ัะบัััะฐะบัะพัะพะฒ ะทะฝะฐะฝะธะน (ะญัะฐะฟั 1-5)](#-ัะธััะตะผะฐ-ัะบัััะฐะบัะพัะพะฒ-ะทะฝะฐะฝะธะน-ััะฐะฟั-1-5)
4. [ะััะธัะตะบัััะฐ ะธ ะบะพะผะฟะพะฝะตะฝัั](#-ะฐััะธัะตะบัััะฐ-ะธ-ะบะพะผะฟะพะฝะตะฝัั)
5. [ะกัััะบัััะฐ ะฟัะพะตะบัะฐ](#-ััััะบัััะฐ-ะฟัะพะตะบัะฐ)
6. [ะกะธััะตะผะฐ ัะตััะธัะพะฒะฐะฝะธั](#-ัะธััะตะผะฐ-ัะตััะธัะพะฒะฐะฝะธั)
7. [ะกัััะบัััะฐ ัะพััะฐะฝะตะฝะธั ะดะฐะฝะฝัั](#-ััััะบัััะฐ-ัะพััะฐะฝะตะฝะธั-ะดะฐะฝะฝัั)
8. [ะกะธััะตะผะฐ ัะฟัะฐะฒะปะตะฝะธั ะฒะธะดะตะพ-ัะตะตัััะพะผ](#-ัะธััะตะผะฐ-ัะฟัะฐะฒะปะตะฝะธั-ะฒะธะดะตะพ-ัะตะตัััะพะผ)
9. [ะัััััะน ััะฐัั](#-ะฑัััััะน-ััะฐัั)
10. [ะะตัะฐะปัะฝะฐั ะฝะฐัััะพะนะบะฐ](#-ะดะตัะฐะปัะฝะฐั-ะฝะฐัััะพะนะบะฐ)
11. [ะะพะผะตะฝะฝัะต ัะตะถะธะผั ะพะฑัะฐะฑะพัะบะธ](#-ะดะพะผะตะฝะฝัะต-ัะตะถะธะผั-ะพะฑัะฐะฑะพัะบะธ)
12. [ะคะพัะผะฐั ะฒััะพะดะฝัั ะดะฐะฝะฝัั](#-ัะพัะผะฐั-ะฒััะพะดะฝัั-ะดะฐะฝะฝัั)
13. [API ะธ ะธะฝัะตะณัะฐัะธั](#-api-ะธ-ะธะฝัะตะณัะฐัะธั)
14. [ะะตะบัะพัะฝะฐั ะฑะฐะทะฐ ะดะฐะฝะฝัั (ChromaDB)](#-ะฒะตะบัะพัะฝะฐั-ะฑะฐะทะฐ-ะดะฐะฝะฝัั-chromadb--sentence-transformers)
15. [ะะพะฝะธัะพัะธะฝะณ ะธ ะพัะปะฐะดะบะฐ](#-ะผะพะฝะธัะพัะธะฝะณ-ะธ-ะพัะปะฐะดะบะฐ)
16. [ะะฐััะธัะตะฝะธะต ััะฝะบัะธะพะฝะฐะปัะฝะพััะธ](#-ัะฐััะธัะตะฝะธะต-ััะฝะบัะธะพะฝะฐะปัะฝะพััะธ)
17. [ะฃัััะฐะฝะตะฝะธะต ะฝะตะฟะพะปะฐะดะพะบ](#-ััััะฐะฝะตะฝะธะต-ะฝะตะฟะพะปะฐะดะพะบ)
18. [ะะฐะทะฒะตัััะฒะฐะฝะธะต ะฝะฐ GitHub](#-ัะฐะทะฒะตัััะฒะฐะฝะธะต-ะฝะฐ-github)

---

## ๐ฏ ะะฐะทะฝะฐัะตะฝะธะต ะฟัะพะตะบัะฐ

### ะัะฝะพะฒะฝะฐั ัะตะปั
ะัะพะตะบั ะฟัะตะดะฝะฐะทะฝะฐัะตะฝ ะดะปั **ะฟะพะดะณะพัะพะฒะบะธ ะฒััะพะบะพะบะฐัะตััะฒะตะฝะฝัั ะดะฐะฝะฝัั** ะธะท YouTube-ะปะตะบัะธะน ะดะปั ัะพะทะดะฐะฝะธั AI-ะฑะพัะพะฒ, ะธัะฟะพะปัะทัััะธั:
- **ะะตะบัะพัะฝัะน ะฟะพะธัะบ** (semantic search)
- **ะัะฐั-RAG ัะธััะตะผั** (Graph Retrieval-Augmented Generation)
- **ะะธะฑัะธะดะฝัะน ะฟะพะธัะบ** (BM25 + ะฒะตะบัะพัั + ะณัะฐั ะทะฝะฐะฝะธะน)

### ะงัะพ ะดะตะปะฐะตั ัะธััะตะผะฐ
1. **ะะทะฒะปะตะบะฐะตั ััะฑัะธััั** ั YouTube (ะฐะฒัะพะผะฐัะธัะตัะบะธ, ะฒััะพะบะพะต ะบะฐัะตััะฒะพ)
2. **ะกัััะบัััะธััะตั ะฒ ัะตะผะฐะฝัะธัะตัะบะธะต ะฑะปะพะบะธ** ะพะฟัะธะผะฐะปัะฝะพะณะพ ัะฐะทะผะตัะฐ (4-8 ะผะธะฝัั, 300-500+ ัะปะพะฒ)
3. **ะกะพััะฐะฝัะตั ั ะผะตัะฐะดะฐะฝะฝัะผะธ** ะดะปั ะฒะตะบัะพัะฝัั ะะ ะธ ะณัะฐัะพะฒ ะทะฝะฐะฝะธะน
4. **ะะพะดะดะตัะถะธะฒะฐะตั ะดะพะผะตะฝะฝัั ัะฟะตัะธะฐะปะธะทะฐัะธั** (ะฝะตะนัะพััะฐะปะบะธะฝะณ/ะฝะตะพััะฐะปะบะธะฝะณ ะกะฐะปะฐะผะฐัะฐ ะกะฐััะตะบะตะฝะพะฒะฐ)

### ะะปั ัะตะณะพ ะธัะฟะพะปัะทััััั ัะตะทัะปััะฐัั
- **ะกะตะผะฐะฝัะธัะตัะบะธะน ะฟะพะธัะบ** ะฟะพ ัะพะดะตัะถะฐะฝะธั ะปะตะบัะธะน
- **RAG-ัะธััะตะผั** ะดะปั ะพัะฒะตัะพะฒ ะฝะฐ ะฒะพะฟัะพัั ั ัะธัะธัะพะฒะฐะฝะธะตะผ ะธััะพัะฝะธะบะพะฒ
- **ะงะฐั-ะฑะพัั** ั ะบะพะฝัะตะบััะพะผ ะธะท ะปะตะบัะธะน
- **ะัะฐั ะทะฝะฐะฝะธะน** ะดะปั ัะฒัะทัะฒะฐะฝะธั ะบะพะฝัะตะฟัะธะน ะธ ัะตัะผะธะฝะพะฒ
- **ะัะตะผะตะฝะฝัะต ัััะปะบะธ** ะฝะฐ ะบะพะฝะบัะตัะฝัะต ะผะพะผะตะฝัั ะฒ ะฒะธะดะตะพ
- **SAG v2.0**: ะกัััะบัััะธัะพะฒะฐะฝะฝะฐั ะณะตะฝะตัะฐัะธั ะดะปั ััะฟะตั-ัะผะฝัั ะฑะพัะพะฒ
- **ะะฒัะพะผะฐัะธัะตัะบะฐั ะบะปะฐััะธัะธะบะฐัะธั**: ะฃะผะฝะฐั ะบะฐัะตะณะพัะธะทะฐัะธั ะบะพะฝัะตะฝัะฐ
- **ะะฐัััััะธะทะฐัะธั**: ะขะพัะฝะพะต ะฝะฐะฟัะฐะฒะปะตะฝะธะต ะฒ ะฝัะถะฝัะต ะบะพะปะปะตะบัะธะธ ะทะฝะฐะฝะธะน

### ะัะฐะฝะธัั ะพัะฒะตัััะฒะตะฝะฝะพััะธ: ััะพ ะดะตะปะฐะตั ััะพั ัะตะฟะพะทะธัะพัะธะน ะธ ััะพ ะฝะตั

`voice_bot_pipeline` ะพัะฒะตัะฐะตั ัะพะปัะบะพ ะทะฐ **ะพัะปะฐะนะฝ-ะฟะพะดะณะพัะพะฒะบั ะดะฐะฝะฝัั**:
- ะธะทะฒะปะตัะตะฝะธะต ะธ ะฝะพัะผะฐะปะธะทะฐัะธั ััะฑัะธััะพะฒ;
- ัะฐะทะฑะธะตะฝะธะต ะฝะฐ ะฑะปะพะบะธ ะธ ัะฐััะตั ะผะตัะฐะดะฐะฝะฝัั;
- ะผะฐัััััะธะทะฐัะธั ะฑะปะพะบะพะฒ ะฒ ัะตะปะตะฒัะต ะบะพะปะปะตะบัะธะธ ะทะฝะฐะฝะธะน (`collection_target`, `routing_confidence`);
- ะธะฝะดะตะบัะฐัะธั ะฒ ChromaDB ะธ ะฟะพะดะณะพัะพะฒะบะฐ ะฐััะตัะฐะบัะพะฒ ะดะปั RAG.

`voice_bot_pipeline` **ะฝะต** ะพัะฒะตัะฐะตั ะทะฐ ะพะฝะปะฐะนะฝ-ะปะพะณะธะบั ะพัะฒะตัะฐ ะฟะพะปัะทะพะฒะฐัะตะปั:
- ะฐะดะฐะฟัะธะฒะฝัะน ะพัะบะตัััะฐัะพั ะพัะฒะตัะพะฒ;
- runtime-retrieval ะฟะพะปะธัะธะบะฐ ะฒ ัะฐัะต;
- SD-ัะธะปัััะฐัะธั ะพัะฒะตัะฐ ะฒ ะดะธะฐะปะพะณะต.

ะญัะฐ ะปะพะณะธะบะฐ ะฝะฐัะพะดะธััั ะฒ ัะพัะตะดะฝะตะผ ัะตะฟะพะทะธัะพัะธะธ `bot_psychologist` (ะบะปััะตะฒัะต ัะฐะนะปั: `bot_agent/answer_adaptive.py`, `bot_agent/retrieval/sd_filter.py`, `bot_agent/sd_classifier.py`).

---

## ๐ **SAG v2.0 - ะกัััะบัััะธัะพะฒะฐะฝะฝะฐั ะณะตะฝะตัะฐัะธั**

### **ะงัะพ ัะฐะบะพะต SAG v2.0?**
**SAG (Structured Augmented Generation)** - ััะพ ะฟัะพะดะฒะธะฝััะฐั ัะธััะตะผะฐ ะฟะพะดะณะพัะพะฒะบะธ ััััะบัััะธัะพะฒะฐะฝะฝัั ะดะฐะฝะฝัั ะดะปั AI-ะฑะพัะพะฒ, ะบะพัะพัะฐั ะฒััะพะดะธั ะทะฐ ัะฐะผะบะธ ะพะฑััะฝะพะณะพ RAG.

### **ะะปััะตะฒัะต ะฒะพะทะผะพะถะฝะพััะธ SAG v2.0:**

#### **1. ๐งฉ ะะฒัะพะผะฐัะธัะตัะบะฐั ะบะปะฐััะธัะธะบะฐัะธั ะฑะปะพะบะพะฒ**
- **ะขะธะฟั ะฑะปะพะบะพะฒ**: `monologue`, `dialogue`, `practice`, `theory`
- **ะญะผะพัะธะพะฝะฐะปัะฝัะต ัะพะฝะฐ**: `contemplative`, `explanatory`, `intense`, `light`
- **ะะพะฝัะตะฟััะฐะปัะฝะฐั ะณะปัะฑะธะฝะฐ**: `low`, `medium`, `high`
- **ะกะปะพะถะฝะพััั**: ะะฒัะพะผะฐัะธัะตัะบะธะน ัะฐััะตั ะพั 1.0 ะดะพ 10.0

#### **2. ๐ธ๏ธ ะัะฐั-ัััะฝะพััะธ ะธ ะฝะพัะผะฐะปะธะทะฐัะธั**
- **๐ ะะะกะจะะะะะะะฏ ะะะะะะะฆะะฏ**: 442 ัะทะปะฐ + 259 ะพัะฝะพัะตะฝะธะน (100% ะฐะบัะธะฒะธัะพะฒะฐะฝะพ!)
  - **ะัะฐั-ัะทะปั**: 442 ัะปะตะผะตะฝัะฐ (ะบะพะฝัะตะฟัั ะฝะตะนัะพััะฐะปะบะธะฝะณะฐ, ะฟัะธัะพะปะพะณะธัะตัะบะธะต ัะพััะพัะฝะธั, ะฟัะพัะตััั ััะฐะฝััะพัะผะฐัะธะธ, ะฟัะฐะบัะธะบะธ ะธ ัะตัะฝะธะบะธ)
  - **ะกะตะผะฐะฝัะธัะตัะบะธะต ะพัะฝะพัะตะฝะธั**: 259 ัะปะตะผะตะฝัะพะฒ (ัะตะผะฐะฝัะธัะตัะบะธะต, ะบะฐัะทะฐะปัะฝัะต, ะฟัะฐะบัะธัะตัะบะธะต, ะฒัะตะผะตะฝะฝัะต, ััััะบัััะฝัะต, ะบะฐัะตััะฒะตะฝะฝัะต)
  - **ะกะปะพะฒะฐัั ัะธะฝะพะฝะธะผะพะฒ**: 135 ะฟะฐั ะดะปั ัะพัะฝะพะน ะฝะพัะผะฐะปะธะทะฐัะธะธ
  - **ะกัะพะฟ-ัะปะพะฒะฐ**: 82 ัะปะตะผะตะฝัะฐ ะดะปั ัะธะปัััะฐัะธะธ
- **ะะทะฒะปะตัะตะฝะธะต ัััะฝะพััะตะน**: ะะฒัะพะผะฐัะธัะตัะบะพะต ะฒััะฒะปะตะฝะธะต ะบะปััะตะฒัั ะบะพะฝัะตะฟัะพะฒ (ะดะพ 30 ะฒะผะตััะพ 12)
- **๐ ะกะะะะะขะะงะะกะะะ ะะะะะะ**: ะะฒัะพะผะฐัะธัะตัะบะพะต ะฒััะฒะปะตะฝะธะต ัะฒัะทะตะน ะผะตะถะดั ะบะพะฝัะตะฟัะฐะผะธ ั ัะฐััะตัะพะผ ัะธะปั ัะฒัะทะธ (0.0-1.0)
- **ะะพัะผะฐะปะธะทะฐัะธั**: 135 ัะธะฝะพะฝะธะผะพะฒ, ัะธะปัััะฐัะธั 82 ััะพะฟ-ัะปะพะฒ, ะดะตะดัะฟะปะธะบะฐัะธั
- **ะะณัะตะณะฐัะธั**: ะะพะดััะตั ัะฐััะพัั ะฝะฐ ััะพะฒะฝะต ะดะพะบัะผะตะฝัะฐ ะธ ะฑะปะพะบะพะฒ
- **ะะพะดะดะตัะถะบะฐ ััััะบะพะณะพ ัะทัะบะฐ**: ะะพััะพะปะพะณะธัะตัะบะธะต ัะพัะผั ะธ ะณัะฐะผะผะฐัะธะบะฐ (pymorphy3)
- **ะัะพะธะทะฒะพะดะธัะตะปัะฝะพััั**: ะัะตะผั ะธะทะฒะปะตัะตะฝะธั <0.001ั, ะฒัะตะผั ะฐะฝะฐะปะธะทะฐ ัะฒัะทะตะน <0.001ั, ะบะฐัะตััะฒะพ ะธะทะฒะปะตัะตะฝะธั 90%+

#### **3. ๐ฏ ะฃะผะฝะฐั ะผะฐัััััะธะทะฐัะธั**
- **ะะพะปะปะตะบัะธะธ**: `neurostalking_basics`, `dialogue_sessions`, `advanced_practices`
- **ะะตััะธะบะฐ ัะฒะตัะตะฝะฝะพััะธ**: `routing_confidence` ะพั 0.0 ะดะพ 1.0
- **ะะฒัะพะผะฐัะธัะตัะบะพะต ะพะฟัะตะดะตะปะตะฝะธะต**: ะะฐ ะพัะฝะพะฒะต ัะตะผ, ะบะปััะตะฒัั ัะปะพะฒ, ะดะธะฐะปะพะณะพะฒ
- **ะขะตะบััะตะต fallback-ะฟะพะฒะตะดะตะฝะธะต**: ะตัะปะธ ะผะฐัััััะธะทะฐัะพั ะฒะพะทะฒัะฐัะฐะตั ัะพะปัะบะพ `collection_target` (ะฑะตะท ะฟะฐัั), ะฒ ะผะตัะฐะดะฐะฝะฝัะต ััะฐะฒะธััั `routing_confidence = 0.7` (ัะผ. `text_processor/sarsekenov_processor.py`).

#### **4. ๐ง Knowledge Graph - ะะฐะบัะธะผะฐะปัะฝะพ ะฟะพะปะฝะฐั ะฑะฐะทะฐ ะทะฝะฐะฝะธะน**
- **ะะฑัะตะดะธะฝะตะฝะธะต ะฒัะตั ะดะฐะฝะฝัั**: ะัะฐั ัััะพะธััั ะธะท ะฒัะตั ัะบัััะฐะบัะพัะพะฒ (graph_entities, concept_hierarchy, causal_chains, prerequisites, case_studies, semantic_relationships)
- **ะขะธะฟะธะทะธัะพะฒะฐะฝะฝัะต ัะทะปั**: CONCEPT, PRACTICE, TECHNIQUE, EXERCISE, PATTERN, PROCESS_STAGE
- **ะขะธะฟะธะทะธัะพะฒะฐะฝะฝัะต ัะฒัะทะธ**: 10+ ัะธะฟะพะฒ (ENABLES, REQUIRES, LEADS_TO, IS_PRACTICE_FOR ะธ ะดั.)
- **API ะดะปั AI-ะฑะพัะฐ**: ะะพัะพะฒัะต ะผะตัะพะดั ะดะปั ะฟะพะธัะบะฐ ะฟัะฐะบัะธะบ, ัะตะบะพะผะตะฝะดะฐัะธะน ะธ reasoning chains
- **ะะฒัะพะผะฐัะธัะตัะบะฐั ะธะฝะดะตะบัะฐัะธั**: Knowledge Graph ะธะฝะดะตะบัะธััะตััั ะฒ Vector DB ะดะปั ัะตะผะฐะฝัะธัะตัะบะพะณะพ ะฟะพะธัะบะฐ
- **ะะตัะตะบัะตััะฝัะต ัะฒัะทะธ**: ะะฒัะพะผะฐัะธัะตัะบะพะต ะฒััะฒะปะตะฝะธะต ัะฒัะทะตะน ะผะตะถะดั ะบะพะฝัะตะฟัะฐะผะธ ะธะท ัะฐะทะฝัั ะฑะปะพะบะพะฒ

#### **5. ๐ ะะฐััะธัะตะฝะฝัะต ะผะตัะฐะดะฐะฝะฝัะต**
- **ะกัะตะผะฐ v2.0**: ะกะพะฒะผะตััะธะผะพััั ั ัะพะฒัะตะผะตะฝะฝัะผะธ ะฒะตะบัะพัะฝัะผะธ ะะ
- **ะัะตะผะตะฝะฝัะต ะผะตัะบะธ**: ะขะพัะฝัะต ัััะปะบะธ ะฝะฐ YouTube ั ัะฐะนะผะบะพะดะฐะผะธ
- **ะะฐัะตััะฒะพ ััะฐะฝัะบัะธะฟัะธะธ**: ะะตััะธะบะธ ัะฒะตัะตะฝะฝะพััะธ ะธ ะพะฑัะฐะฑะพัะบะธ
- **ะะตััะธะพะฝะธัะพะฒะฐะฝะธะต**: ะััะปะตะถะธะฒะฐะฝะธะต ะธะทะผะตะฝะตะฝะธะน ะธ ัะปัััะตะฝะธะน

### **ะัะตะธะผััะตััะฒะฐ SAG v2.0:**
- **๐ฏ ะขะพัะฝะพััั**: ะกัััะบัััะธัะพะฒะฐะฝะฝัะต ะดะฐะฝะฝัะต ะดะปั ะปัััะตะณะพ ะฟะพะธัะบะฐ
- **๐ ะัะพะธะทะฒะพะดะธัะตะปัะฝะพััั**: ะะฟัะธะผะธะทะธัะพะฒะฐะฝะฝัะต ะทะฐะฟัะพัั ะบ ะะ
- **๐ ะะฐัะตััะฒะพ**: ะะฒัะพะผะฐัะธัะตัะบะฐั ะฒะฐะปะธะดะฐัะธั ะธ ะฟัะพะฒะตัะบะฐ
- **๐ ะะฐัััะฐะฑะธััะตะผะพััั**: ะะพัะพะฒะฝะพััั ะบ ะฑะพะปััะธะผ ะพะฑัะตะผะฐะผ ะดะฐะฝะฝัั
- **๐ค AI-ัะพะฒะผะตััะธะผะพััั**: ะะดะตะฐะปัะฝะพ ะดะปั ัะพะฒัะตะผะตะฝะฝัั LLM ะธ ะฑะพัะพะฒ
- **๐ง ะะฐะบัะธะผะฐะปัะฝะฐั ะฟะพะปะฝะพัะฐ**: Knowledge Graph ะพะฑัะตะดะธะฝัะตั ะฒัะต ะธััะพัะฝะธะบะธ ะดะฐะฝะฝัั ะดะปั ะผะฐะบัะธะผะฐะปัะฝะพะณะพ ะบะพะฝัะตะบััะฐ

---


### **ะงัะพ ะฐะบัะธะฒะธัะพะฒะฐะฝะพ?**

**"ะกะฟััะธะน ะณะธะณะฐะฝั" ะฟะพะปะฝะพัััั ะฟัะพะฑัะถะดะตะฝ!** SAG v2.0 ัะตะฟะตัั ะธัะฟะพะปัะทัะตั ัะฐััะธัะตะฝะฝัั ะณัะฐั-ะบะพะปะปะตะบัะธั ะธะท **442 ัะทะปะพะฒ** ะธ **259 ะพัะฝะพัะตะฝะธะน** (ะฒะผะตััะพ ะฑะฐะทะพะฒัั 12 ัััะฝะพััะตะน).

### **ะขะตะบััะธะต ะฒะพะทะผะพะถะฝะพััะธ:**

#### **๐ ะะฐะทะผะตั ะบะพะปะปะตะบัะธะธ:**
- **ะัะฐั-ัะทะปั:** 442 ัะปะตะผะตะฝัะฐ (100% ะฐะบัะธะฒะธัะพะฒะฐะฝะพ!)
- **ะกะตะผะฐะฝัะธัะตัะบะธะต ะพัะฝะพัะตะฝะธั:** 259 ัะปะตะผะตะฝัะพะฒ (100% ะฐะบัะธะฒะธัะพะฒะฐะฝะพ!)
- **ะกะปะพะฒะฐัั ัะธะฝะพะฝะธะผะพะฒ:** 135 ะฟะฐั
- **ะกัะพะฟ-ัะปะพะฒะฐ:** 82 ัะปะตะผะตะฝัะฐ

#### **๐ ะขะธะฟั ัะทะปะพะฒ:**
- **ะะพะฝัะตะฟัั ะฝะตะนัะพััะฐะปะบะธะฝะณะฐ:** 74 ัะทะปะฐ
- **ะัะธัะพะปะพะณะธัะตัะบะธะต ัะพััะพัะฝะธั:** 94 ัะทะปะฐ  
- **ะัะพัะตััั ััะฐะฝััะพัะผะฐัะธะธ:** 101 ัะทะตะป
- **ะัะฐะบัะธะบะธ ะธ ัะตัะฝะธะบะธ:** 77 ัะทะปะพะฒ
- **ะะฝััััะผะตะฝัั ะธ ะผะตัะพะดั:** 65 ัะทะปะพะฒ
- **ะกะฟะตัะธะฐะปัะฝัะต ัะทะปั SAG:** 31 ัะทะตะป

#### **๐ ะขะธะฟั ะพัะฝะพัะตะฝะธะน:**
- **ะกะตะผะฐะฝัะธัะตัะบะธะต:** 33 ะพัะฝะพัะตะฝะธั
- **ะะฐัะทะฐะปัะฝัะต:** 40 ะพัะฝะพัะตะฝะธะน
- **ะัะฐะบัะธัะตัะบะธะต:** 39 ะพัะฝะพัะตะฝะธะน
- **ะัะตะผะตะฝะฝัะต:** 36 ะพัะฝะพัะตะฝะธะน
- **ะกัััะบัััะฝัะต:** 36 ะพัะฝะพัะตะฝะธะน
- **ะะฐัะตััะฒะตะฝะฝัะต:** 29 ะพัะฝะพัะตะฝะธะน
- **ะกะฟะตัะธะฐะปัะฝัะต ะฝะตะนัะพััะฐะปะบะธะฝะณ:** 38 ะพัะฝะพัะตะฝะธะน

### **ะะพะฒัะต ะฒะพะทะผะพะถะฝะพััะธ:**

#### **1. ๐ฏ ะฃะผะฝะฐั ะฟัะธะพัะธัะธะทะฐัะธั:**
- ะะพะฝัะตะฟัั ะฝะตะนัะพััะฐะปะบะธะฝะณะฐ ะฟะพะปััะฐัั ะฒัััะธะน ะฟัะธะพัะธัะตั
- ะะฒัะพะผะฐัะธัะตัะบะฐั ัะพััะธัะพะฒะบะฐ ะฟะพ ะฒะฐะถะฝะพััะธ
- ะะธะผะธั ัะฒะตะปะธัะตะฝ ั 12 ะดะพ 30 ัััะฝะพััะตะน

#### **2. ๐ ะกะตะผะฐะฝัะธัะตัะบะธะน ะฐะฝะฐะปะธะท ัะฒัะทะตะน:**
- ะะฒัะพะผะฐัะธัะตัะบะพะต ะฒััะฒะปะตะฝะธะต ัะฒัะทะตะน ะผะตะถะดั ะบะพะฝัะตะฟัะฐะผะธ
- ะะฐััะตั ัะธะปั ัะฒัะทะธ (0.0 - 1.0)
- ะะปะฐััะธัะธะบะฐัะธั ะฟะพ ัะธะฟะฐะผ: ะบะพะฝัะตะฟััะฐะปัะฝัะต, ะบะฐัะทะฐะปัะฝัะต, ะฟัะฐะบัะธัะตัะบะธะต

#### **3. ๐ ะะฐััะธัะตะฝะฝะฐั ะฝะพัะผะฐะปะธะทะฐัะธั:**
- 135 ัะธะฝะพะฝะธะผะพะฒ ะดะปั ัะพัะฝะพะน ะฝะพัะผะฐะปะธะทะฐัะธะธ
- ะฃะผะฝะฐั ัะธะปัััะฐัะธั ััะพะฟ-ัะปะพะฒ
- ะะตะดัะฟะปะธะบะฐัะธั ะธ ะฟัะธะพัะธัะธะทะฐัะธั

### **ะะตััะธะบะธ ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััะธ:**
- **ะัะตะผั ะธะทะฒะปะตัะตะฝะธั:** <0.001ั
- **ะัะตะผั ะฐะฝะฐะปะธะทะฐ ัะฒัะทะตะน:** <0.001ั
- **ะะฑัะตะต ะฒัะตะผั:** <0.002ั
- **ะะฐัะตััะฒะพ ะธะทะฒะปะตัะตะฝะธั:** 90%+
- **ะฃะฒะตะปะธัะตะฝะธะต ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััะธ:** ะฒ 37 ัะฐะท!
- **๐ฏ ะะพะปะฝะฐั ะฐะบัะธะฒะฐัะธั:** 100% ะณัะฐั-ะบะพะปะปะตะบัะธะธ ะทะฐะณััะถะตะฝะพ

---



---

## ๐ง **KNOWLEDGE GRAPH - ะะะะกะะะะะฌะะ ะะะะะะฏ ะะะะ ะะะะะะ**

### **ะะฑะทะพั**

ะะตะฐะปะธะทะพะฒะฐะฝะฐ ัะธััะตะผะฐ ะฟะพัััะพะตะฝะธั ะผะฐะบัะธะผะฐะปัะฝะพ ะฟะพะปะฝะพะณะพ Knowledge Graph, ะพะฑัะตะดะธะฝัััะฐั ะฒัะต ะดะฐะฝะฝัะต ะธะท ัะบัััะฐะบัะพัะพะฒ SAG v2.0 ะดะปั ัะพะทะดะฐะฝะธั ะฑะฐะทั ะทะฝะฐะฝะธะน ั ะผะฐะบัะธะผะฐะปัะฝัะผ ะบะพะฝัะตะบััะพะผ ะธ ะฒะทะฐะธะผะพัะฒัะทัะผะธ ะดะปั AI-ะฑะพัะฐ ะฟัะธัะพะปะพะณะฐ.

### **ะงัะพ ะพะฑัะตะดะธะฝัะตั Knowledge Graph:**

1. **graph_entities** (rule-based ะธะทะฒะปะตัะตะฝะธะต) - 442 ัะทะปะฐ + 259 ะพัะฝะพัะตะฝะธะน
2. **concept_hierarchy** (ะธะตัะฐััะธั ะบะพะฝัะตะฟัะพะฒ) - ััััะบัััะธัะพะฒะฐะฝะฝัะต ะบะพะฝัะตะฟัั
3. **causal_chains** (ะฟัะธัะธะฝะฝะพ-ัะปะตะดััะฒะตะฝะฝัะต ัะตะฟะพัะบะธ) - ะฟัะพัะตััั ะธ ััะฐะฟั
4. **prerequisites** (ะฟัะตะดะฟะพััะปะบะธ) - ะฟะพัะปะตะดะพะฒะฐัะตะปัะฝะพััะธ ะพะฑััะตะฝะธั
5. **case_studies** (ะบะตะนัั) - ะฟัะธะผะตัั ะธ ัะธััะฐัะธะธ
6. **semantic_relationships** (ัะตะผะฐะฝัะธัะตัะบะธะต ัะฒัะทะธ) - ะฐะฒัะพะผะฐัะธัะตัะบะธะต ัะฒัะทะธ
7. **cooccurrence** (ัะพะฒะผะตััะฝัะต ะฟะพัะฒะปะตะฝะธั) - ะฟะตัะตะบัะตััะฝัะต ัะฒัะทะธ ะผะตะถะดั ะฑะปะพะบะฐะผะธ

### **ะขะธะฟะธะทะฐัะธั ัะทะปะพะฒ ะธ ัะฒัะทะตะน**

#### **ะขะธะฟั ัะทะปะพะฒ:**
- `CONCEPT` - ะบะพะฝัะตะฟัั ะธ ะฟะพะฝััะธั
- `PRACTICE` - ะฟัะฐะบัะธะบะธ
- `TECHNIQUE` - ัะตัะฝะธะบะธ
- `EXERCISE` - ัะฟัะฐะถะฝะตะฝะธั
- `PATTERN` - ะฟะฐััะตัะฝั
- `PROCESS_STAGE` - ััะฐะฟั ะฟัะพัะตััะพะฒ

#### **ะขะธะฟั ัะฒัะทะตะน:**
- `IS_CORE_COMPONENT_OF` - ะธะตัะฐััะธัะตัะบะธะต ัะฒัะทะธ
- `IS_PRACTICE_FOR` - ะฟัะฐะบัะธะบะฐ ะดะปั ะบะพะฝัะตะฟัะฐ
- `IS_TECHNIQUE_FOR` - ัะตัะฝะธะบะฐ ะดะปั ะฟัะฐะบัะธะบะธ
- `IS_EXERCISE_FOR` - ัะฟัะฐะถะฝะตะฝะธะต ะดะปั ัะตัะฝะธะบะธ
- `ENABLES` - ะฟะพะทะฒะพะปัะตั/ะฒะบะปััะฐะตั
- `REQUIRES` - ััะตะฑัะตั/ะฟัะตะดะฟะพััะปะบะฐ
- `LEADS_TO` - ะฒะตะดะตั ะบ
- `TRANSFORMS_INTO` - ััะฐะฝััะพัะผะธััะตััั ะฒ
- `EMERGES_FROM` - ะฒะพะทะฝะธะบะฐะตั ะธะท
- `RELATED_TO` - ัะฒัะทะฐะฝ ั

### **API ะผะตัะพะดั ะดะปั AI-ะฑะพัะฐ**

#### `find_practices_for_concept(concept: str, knowledge_graph: Dict) -> List[Dict]`
ะะฐัะพะดะธั ะฟัะฐะบัะธะบะธ ะดะปั ัะฐะฑะพัั ั ะบะพะฝัะตะฟัะพะผ/ัะธะผะฟัะพะผะพะผ.

**ะัะธะผะตั:**
```python
practices = processor.find_practices_for_concept("ะพะฑะธะดะฐ", knowledge_graph)
# โ [{"practice": "ะผะตัะฐะฝะฐะฑะปัะดะตะฝะธะต", "relation": "ENABLES", ...}]
```

#### `get_concept_chain(from_concept: str, to_concept: str, knowledge_graph: Dict) -> Optional[List[Dict]]`
ะะพะปััะฐะตั ัะตะฟะพัะบั ัะฒัะทะตะน ะผะตะถะดั ะดะฒัะผั ะบะพะฝัะตะฟัะฐะผะธ (BFS ะฟะพะธัะบ ะฟััะธ).

**ะัะธะผะตั:**
```python
chain = processor.get_concept_chain("ัััะฐะดะฐะฝะธะต", "ะพัะฒะพะฑะพะถะดะตะฝะธะต", knowledge_graph)
# โ [{"from": "ัััะฐะดะฐะฝะธะต", "to": "ะพัะพะทะฝะฐะฒะฐะฝะธะต", "relation": "LEADS_TO", ...}, ...]
```

#### `recommend_exercise_for_practice(practice: str, knowledge_graph: Dict, duration: Optional[str]) -> Optional[Dict]`
ะะตะบะพะผะตะฝะดัะตั ัะฟัะฐะถะฝะตะฝะธะต ะดะปั ะฟัะฐะบัะธะบะธ.

**ะัะธะผะตั:**
```python
exercise = processor.recommend_exercise_for_practice("ะผะตัะฐะฝะฐะฑะปัะดะตะฝะธะต", knowledge_graph, "5 ะผะธะฝัั")
# โ {"exercise": "ะฝะฐะฑะปัะดะตะฝะธะต ะทะฐ ะดััะฐะฝะธะตะผ", "duration": "5-10 ะผะธะฝัั", ...}
```

### **ะะฝะดะตะบัะฐัะธั ะฒ Vector DB**

Knowledge Graph ะฐะฒัะพะผะฐัะธัะตัะบะธ ะธะฝะดะตะบัะธััะตััั ะฒ ะพัะดะตะปัะฝัั ะบะพะปะปะตะบัะธั ChromaDB (`knowledge_graph`):

- ะะฐะถะดัะน ัะทะตะป ะธะฝะดะตะบัะธััะตััั ั ะบะพะฝัะตะบััะพะผ ะตะณะพ ัะฒัะทะตะน
- ะะตัะฐะดะฐะฝะฝัะต ะฒะบะปััะฐัั ัะธะฟ ัะทะปะฐ, ะบะพะปะธัะตััะฒะพ ัะฒัะทะตะน, ะธััะพัะฝะธะบะธ ะธะทะฒะปะตัะตะฝะธั
- ะะพัััะฟะตะฝ ะดะปั ัะตะผะฐะฝัะธัะตัะบะพะณะพ ะฟะพะธัะบะฐ ะฒะผะตััะต ั ะดััะณะธะผะธ ะบะพะปะปะตะบัะธัะผะธ

### **ะัะตะธะผััะตััะฒะฐ**

1. **ะะฐะบัะธะผะฐะปัะฝะฐั ะฟะพะปะฝะพัะฐ**: ะะฑัะตะดะธะฝะตะฝะธะต ะฒัะตั ะธััะพัะฝะธะบะพะฒ ะดะฐะฝะฝัั
2. **ะขะธะฟะธะทะธัะพะฒะฐะฝะฝัะต ัะฒัะทะธ**: ะงะตัะบะฐั ััััะบัััะฐ ัะทะปะพะฒ ะธ ะพัะฝะพัะตะฝะธะน
3. **ะะพะฝัะตะบัั**: ะะฐะถะดะฐั ัะฒัะทั ะธะผะตะตั ะพะฑัััะฝะตะฝะธะต ะธ ัะฒะตัะตะฝะฝะพััั
4. **API ะดะปั ะฑะพัะฐ**: ะะพัะพะฒัะต ะผะตัะพะดั ะดะปั ะฟะพะธัะบะฐ ะธ ัะตะบะพะผะตะฝะดะฐัะธะน
5. **ะะตะบัะพัะฝัะน ะฟะพะธัะบ**: ะะฝะดะตะบัะฐัะธั ะฒ ChromaDB ะดะปั ัะตะผะฐะฝัะธัะตัะบะพะณะพ ะฟะพะธัะบะฐ
6. **ะััะปะตะถะธะฒะฐะฝะธะต ะธััะพัะฝะธะบะพะฒ**: ะะตัะฐะดะฐะฝะฝัะต ะฟะพะบะฐะทัะฒะฐัั ะพัะบัะดะฐ ะธะทะฒะปะตัะตะฝ ะบะฐะถะดัะน ัะทะตะป

### **ะะตะทัะปััะฐั**

ะขะตะฟะตัั ะบะฐะถะดัะน ะพะฑัะฐะฑะพัะฐะฝะฝัะน ะฒะธะดะตะพ ัะพะดะตัะถะธั:

- โ ะะพะปะฝัะน Knowledge Graph ัะพ ะฒัะตะผะธ ะฒะทะฐะธะผะพัะฒัะทัะผะธ
- โ ะขะธะฟะธะทะธัะพะฒะฐะฝะฝัะต ัะทะปั ะธ ัะฒัะทะธ
- โ ะะพะฝัะตะบัั ะดะปั ะบะฐะถะดะพะณะพ ัะทะปะฐ
- โ ะะพัะพะฒัะต API ะผะตัะพะดั ะดะปั AI-ะฑะพัะฐ
- โ ะะฝะดะตะบัะฐัะธั ะฒ Vector DB ะดะปั ัะตะผะฐะฝัะธัะตัะบะพะณะพ ะฟะพะธัะบะฐ

**ะะฐะบัะธะผะฐะปัะฝะพ ะฟะพะปะฝะฐั ะฑะฐะทะฐ ะทะฝะฐะฝะธะน ะดะปั ััะฟะตั-ัะผะฝะพะณะพ AI-ะฑะพัะฐ ะฟัะธัะพะปะพะณะฐ!** ๐งโจ

---

## ๐ **ะกะะกะขะะะ ะญะะกะขะะะะขะะะะ ะะะะะะ (ะญะขะะะซ 1-5)**

### **ะะฑะทะพั ัะธััะตะผั**

ะกะธััะตะผะฐ ะฒะบะปััะฐะตั **5 ะฟะพัะปะตะดะพะฒะฐัะตะปัะฝัั ััะฐะฟะพะฒ** ะธะทะฒะปะตัะตะฝะธั ะทะฝะฐะฝะธะน, ะบะพัะพััะต ัะฐะฑะพัะฐัั ะฒะผะตััะต ั **SAG v2.0 ะณัะฐั-ะบะพะปะปะตะบัะธะตะน** (442 ัะทะปะฐ + 259 ะพัะฝะพัะตะฝะธะน) ะดะปั ัะพะทะดะฐะฝะธั ะผะฐะบัะธะผะฐะปัะฝะพ ะฟะพะปะฝะพะน ะบะฐััะธะฝั ะทะฝะฐะฝะธะน ะธะท ะปะตะบัะธะน.

### **ะะฐะบ ัะฐะฑะพัะฐัั ัะธััะตะผั ะฒะผะตััะต**

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ               SARSEKENOV_PROCESSOR (ะณะปะฐะฒะฝัะน ะฟัะพัะตััะพั)      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                             โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ   SAG v2.0 ะะะะค      โ    โ  ะญะะกะขะะะะขะะะซ (1-5)      โ   โ
โ  โ   ะะะะะะะฆะะฏ          โ    โ  (ะฟะพัะปะตะดะพะฒะฐัะตะปัะฝัะต)     โ   โ
โ  โ  (ะฒัััะพะตะฝะฝะฐั)        โ    โ  (LLM-based)            โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ           โ                             โ                   โ
โ           โผ                             โผ                   โ
โ  โโโโโโโโโโโโโโโโโโโโโ      โโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ ะะฒัะพะผะฐัะธัะตัะบะธะน    โ      โ ะญัะฐะฟ 1: ะะฐะปะธะดะฐัะธั        โ   โ
โ  โ ะฐะฝะฐะปะธะท ัะตะบััะฐ     โ      โ ะญัะฐะฟ 2: ะะฐััะตัะฝั         โ   โ
โ  โ (rule-based +     โ      โ ะญัะฐะฟ 3: ะฆะตะฟะพัะบะธ           โ   โ
โ  โ graph matching)   โ      โ ะญัะฐะฟ 4: ะะตัะฐััะธั         โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโ      โ ะญัะฐะฟ 5: ะัะบะตัััะฐัะธั     โ   โ
โ           โ                   โโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ           โผ                             โ                   โ
โ  โโโโโโโโโโโโโโโโโโโโโ                  โ                   โ
โ  โ graph_entities   โ                  โ                   โ
โ  โ semantic_links    โ                  โ                   โ
โ  โโโโโโโโโโโโโโโโโโโโโ                  โ                   โ
โ           โ                             โ                   โ
โ           โโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโ                   โ
โ                      โผ                                      โ
โ            โโโโโโโโโโโโโโโโโโโโโโโ                          โ
โ            โ ะคะะะะะฌะะซะ JSON      โ                          โ
โ            โ (ะฒัะต ะดะฐะฝะฝัะต ะฒะผะตััะต) โ                          โ
โ            โโโโโโโโโโโโโโโโโโโโโโโ                          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### **ะะปััะตะฒัะต ะพัะปะธัะธั ัะธััะตะผ**

| ะัะฟะตะบั | SAG v2.0 ะัะฐั-ะะพะปะปะตะบัะธั | ะญะบัััะฐะบัะพัั (ะญัะฐะฟั 1-5) |
| :-- | :-- | :-- |
| **ะะตัะพะด** | Rule-based matching + ะผะพััะพะปะพะณะธั | LLM-based (GPT ะฟัะพะผะฟัั) |
| **API** | ะะตั (ะฒัััะพะตะฝะฝะฐั ัะธััะตะผะฐ) | ะะฐ (OpenAI GPT API) |
| **ะกะบะพัะพััั** | ะะณะฝะพะฒะตะฝะฝะพ (<0.002ั) | ~2-5 ัะตะบัะฝะด ะฝะฐ ะฑะปะพะบ |
| **ะขะพัะฝะพััั** | ะััะพะบะฐั ะดะปั ะธะทะฒะตััะฝัั ัะตัะผะธะฝะพะฒ | ะััะพะบะฐั ะดะปั ัะปะพะถะฝัั ััััะบััั |
| **ะะฐััะฐัั** | ะะตัะฟะปะฐัะฝะพ | ~$0.01-0.05 ะทะฐ ะฑะปะพะบ |
| **ะงัะพ ะธะทะฒะปะตะบะฐะตั** | ะกััะฝะพััะธ + ัะฒัะทะธ | ะกะฟะตัะธะฐะปะธะทะธัะพะฒะฐะฝะฝัะต ััััะบัััั |
| **ะะดะต ะฒ ะบะพะดะต** | `sarsekenov_processor.py` | `text_processor/extractors/` |

---

### **๐ ะญะขะะ โ1: TerminologyValidator โ "ะััะฐะฝะฝะธะบ ะฝะฐ ะฒัะพะดะต"**

#### **๐ฏ ะงัะพ ะดะตะปะฐะตั?**

**TerminologyValidator** โ ััะพ ัะธะปััั ะบะฐัะตััะฒะฐ, ะบะพัะพััะน ะฟัะพะฒะตััะตั, ัะพะพัะฒะตัััะฒัะตั ะปะธ ัะตะบัั ััะตะฝะธั ะกะฐััะตะบะตะฝะพะฒะฐ ะฟะตัะตะด ะดะฐะปัะฝะตะนัะตะน ะพะฑัะฐะฑะพัะบะพะน.

**ะะฝะฐะปะพะณะธั:** ะะพะฝััะพะปัั ะบะฐัะตััะฒะฐ ะฝะฐ ัะฐะฑัะธะบะต, ะบะพัะพััะน ะฟัะพะฒะตััะตั ััััั ะฟะตัะตะด ะฟัะพะธะทะฒะพะดััะฒะพะผ.

#### **๐ ะงัะพ ะฟัะพะฒะตััะตััั?**

1. **ะะปะพัะฝะพััั ัะตัะผะธะฝะพะฒ ะกะฐััะตะบะตะฝะพะฒะฐ** โ ะผะธะฝะธะผัะผ 15% ัะตะบััะฐ ะดะพะปะถะฝั ัะพััะฐะฒะปััั ัะฟะตัะธะฐะปัะฝัะต ัะตัะผะธะฝั
2. **ะะฐะปะธัะธะต ะบะปััะตะฒัั ัะตัะผะธะฝะพะฒ** โ ะฟะพะธัะบ ัะตัะผะธะฝะพะฒ ะธะท 6 ััะพะฒะฝะตะน ัะตัะผะธะฝะพะปะพะณะธะธ:
   - `tier_1_root`: ะฝะตะนัะพ-ััะฐะปะบะธะฝะณ, ะฝะตะพ-ััะฐะปะบะธะฝะณ, ััะฐะปะบะธะฝะณ ัะผะฐ
   - `tier_2_domain`: ะฟะพะปะต ะฒะฝะธะผะฐะฝะธั, ัะธััะพะต ะพัะพะทะฝะฐะฒะฐะฝะธะต, ะฟัะธัััััะฒะธะต
   - `tier_3_practice`: ะผะตัะฐะฝะฐะฑะปัะดะตะฝะธะต, ัะฐะทะพัะพะถะดะตััะฒะปะตะฝะธะต, ัะตะฝััะธัะพะฒะฐะฝะธะต
   - `tier_4_diagnostic`: ะฏ-ะพะฑัะฐะท, ะฐะฒัะพะผะฐัะธะทะผั ะฟัะธัะธะบะธ, ะทะฐัะฒะฐั ะฒะฝะธะผะฐะฝะธั
   - `tier_5_agents`: ะัััะธะน, ะฝะฐะฑะปัะดะฐััะตะต ัะพะทะฝะฐะฝะธะต
   - `tier_6_states`: ะฑััะธะต, ะทะดะตัั-ะธ-ัะตะนัะฐั, ััะฝะพััั
3. **Forbidden terms** โ ะฟัะพะฒะตัะบะฐ ะฝะฐ ะทะฐะฟัะตััะฝะฝัะต ัะตัะผะธะฝั (ัะณะพ, ะผะตะดะธัะฐัะธั, ััะตะฒะพะณะฐ ะธ ะดั.)

#### **๐จ ะะตะถะธะผั ะฒะฐะปะธะดะฐัะธะธ**

- **๐ข SMART** (ัะตะบะพะผะตะฝะดัะตะผัะน): ะะธะฝะธะผัะผ 15% ะฟะปะพัะฝะพััะธ, forbidden terms ะธะณะฝะพัะธัััััั
- **๐ก SOFT**: ะะธะฝะธะผัะผ 25% ะฟะปะพัะฝะพััะธ, forbidden terms ัะฐะทัะตัะตะฝั ั ะบะพะฝัะตะบััะพะผ
- **๐ด STRICT**: ะะธะฝะธะผัะผ 25% ะฟะปะพัะฝะพััะธ, ะปัะฑัะต forbidden terms ะฑะปะพะบะธัััั
- **โช OFF**: ะะธะฝะธะผัะผ 15% ะฟะปะพัะฝะพััะธ, ะฑะตะท ะพะณัะฐะฝะธัะตะฝะธะน

#### **๐ ะัะธะผะตั ัะตะทัะปััะฐัะฐ**

```json
{
  "is_valid": true,
  "reason": "ะะฐะปะธะดะฝัะน ัะตะบัั (ะฟะปะพัะฝะพััั: 52.2%)",
  "metrics": {
    "density": 0.522,
    "sarsekenov_occurrences": 12,
    "total_significant_words": 23
  },
  "sarsekenov_entities": [
    "ะัััะธะน", "ะผะตัะฐะฝะฐะฑะปัะดะตะฝะธะต", "ะทะฐัะฒะฐั ะฒะฝะธะผะฐะฝะธั",
    "ะฏ-ะพะฑัะฐะท", "ัะฐะทะพัะพะถะดะตััะฒะปะตะฝะธะต", "ัะธััะพะต ะพัะพะทะฝะฐะฒะฐะฝะธะต"
  ],
  "forbidden_terms_found": []
}
```

#### **๐ฏ ะะพะปั ะฒ ะฟัะพะตะบัะต**

- **ะัะพะด:** ะัะฑะพะน ัะตะบัั (ะปะตะบัะธั, ััะฐััั, ัะปััะฐะนะฝัะน ัะตะบัั)
- **ะัะพัะตัั:** ะัะพะฒะตัะบะฐ ะฟะปะพัะฝะพััะธ ัะตัะผะธะฝะพะฒ ะกะฐััะตะบะตะฝะพะฒะฐ
- **ะััะพะด:** ะขะพะปัะบะพ ะฒะฐะปะธะดะฝัะต ัะตะบััั ั โฅ15% ัะฟะตัะธะฐะปัะฝะพะน ัะตัะผะธะฝะพะปะพะณะธะธ
- **ะะฐัะตะผ:** ะงัะพะฑั AI-ะฑะพั ััะธะปัั ะขะะะฌะะ ะฝะฐ ะผะฐัะตัะธะฐะปะฐั ะกะฐััะตะบะตะฝะพะฒะฐ

---

### **๐ ะญะขะะ โ2: NeurostalkingPatternExtractor โ "ะะตัะตะบัะพั ะฟะฐััะตัะฝะพะฒ"**

#### **๐ฏ ะงัะพ ะดะตะปะฐะตั?**

**NeurostalkingPatternExtractor** ัะฐัะฟะพะทะฝะฐัั ัะฝะธะบะฐะปัะฝัะต ะฟะฐััะตัะฝั ััะตะฝะธั ะกะฐััะตะบะตะฝะพะฒะฐ ะฒ ัะตะบััะต.

**ะะฝะฐะปะพะณะธั:** Shazam ะดะปั ะผัะทัะบะธ, ะฝะพ ะฒะผะตััะพ ะฟะตัะตะฝ โ ะฟะฐััะตัะฝั ััะตะฝะธั.

#### **๐ ะงัะพ ัะฐะบะพะต "ะฟะฐััะตัะฝ"?**

**ะะฐััะตัะฝ** = ะฃะทะฝะฐะฒะฐะตะผัะน ัะฟะพัะพะฑ ะพะฟะธัะฐะฝะธั ะฟัะพัะตััะฐ

**ะัะธะผะตั:** ะะฐััะตัะฝ "ะขัะธะฐะดะฐ ััะฐะฝััะพัะผะฐัะธะธ":
- ะะฐะฑะปัะดะตะฝะธะต โ ะัะพะทะฝะฐะฒะฐะฝะธะต โ ะขัะฐะฝััะพัะผะฐัะธั

#### **๐จ 4 ะบะฐัะตะณะพัะธะธ ะฟะฐััะตัะฝะพะฒ**

1. **๐ ะขัะธะฐะดะฐ ััะฐะฝััะพัะผะฐัะธะธ** โ ะบะฐะบ ัะฐะทะฒะธะฒะฐะตััั ะฟัะพัะตัั
   - ะะปััะตะฒัะต ัะตัะผะธะฝั: ะฝะฐะฑะปัะดะตะฝะธะต, ะพัะพะทะฝะฐะฒะฐะฝะธะต, ััะฐะฝััะพัะผะฐัะธั, ะผะตัะฐะฝะฐะฑะปัะดะตะฝะธะต
   
2. **๐๏ธ ะะฐะฑะพัะฐ ั ะฒะฝะธะผะฐะฝะธะตะผ** โ ััะพ ะฟัะพะธััะพะดะธั ั ะฟะพะปะตะผ ะฒะพัะฟัะธััะธั
   - ะะปััะตะฒัะต ัะตัะผะธะฝั: ะฟะพะปะต ะฒะฝะธะผะฐะฝะธั, ัะฒะพะฑะพะดะฝะพะต ะฒะฝะธะผะฐะฝะธะต, ะทะฐัะฒะฐั ะฒะฝะธะผะฐะฝะธั
   
3. **๐ญ ะะฐะทะพัะพะถะดะตััะฒะปะตะฝะธะต** โ ะพัะดะตะปะตะฝะธะต ะพั ะปะพะถะฝะพะน ัะฐะผะพััะธ
   - ะะปััะตะฒัะต ัะตัะผะธะฝั: ัะฐะทะพัะพะถะดะตััะฒะปะตะฝะธะต, ะฏ-ะพะฑัะฐะท, ะปะพะถะฝะฐั ัะฐะผะพััั, ะฐะฒัะพะผะฐัะธะทะผั
   
4. **๐ ะกะพััะพัะฝะธั ัะพะทะฝะฐะฝะธั** โ ัะธััะพะต ะฟัะธัััััะฒะธะต
   - ะะปััะตะฒัะต ัะตัะผะธะฝั: ัะธััะพะต ะพัะพะทะฝะฐะฒะฐะฝะธะต, ะฟัะธัััััะฒะธะต, ะถะธะฒะพะต ะฟะตัะตะถะธะฒะฐะฝะธะต, ะฑััะธะต

#### **๐ ะัะธะผะตั ัะตะทัะปััะฐัะฐ**

```json
{
  "valid": true,
  "patterns": [
    {
      "pattern_category": "ััะธะฐะดะฐ_ััะฐะฝััะพัะผะฐัะธะธ",
      "pattern_name": "ะผะตัะฐะฝะฐะฑะปัะดะตะฝะธะต ะธ ะพัะพะทะฝะฐะฒะฐะฝะธะต",
      "description": "ะัััะธะน ะฟัะฐะบัะธะบัะตั ะผะตัะฐะฝะฐะฑะปัะดะตะฝะธะต, ะฝะฐะฑะปัะดะฐะตั...",
      "key_terms": [
        "ะัััะธะน", "ะผะตัะฐะฝะฐะฑะปัะดะตะฝะธะต", "ะฝะฐะฑะปัะดะตะฝะธะต",
        "ะพัะพะทะฝะฐะฒะฐะฝะธะต", "ะฐะฒัะพะผะฐัะธะทะผั ะฟัะธัะธะบะธ", "ััะฐะฝััะพัะผะฐัะธั"
      ],
      "related_practices": ["ะผะตัะฐะฝะฐะฑะปัะดะตะฝะธะต"],
      "confidence": 0.75
    }
  ],
  "metrics": {
    "density": 0.52,
    "sarsekenov_occurrences": 9
  }
}
```

#### **๐ฏ ะะพะปั ะฒ ะฟัะพะตะบัะต**

- **ะัะพะด:** ะะฐะปะธะดะธัะพะฒะฐะฝะฝัะน ัะตะบัั (ะฟัะพััะป ะญัะฐะฟ โ1)
- **ะัะพัะตัั:** ะะพะธัะบ 4 ัะธะฟะพะฒ ะฟะฐััะตัะฝะพะฒ ะฒ ะฟัะตะดะปะพะถะตะฝะธัั
- **ะััะพะด:** ะกัััะบัััะธัะพะฒะฐะฝะฝัะต ะฟะฐััะตัะฝั ั ัะฒะตัะตะฝะฝะพัััั
- **ะะฐัะตะผ:** ะงัะพะฑั AI-ะฑะพั ะทะฝะฐะป "ะะะ ะะซะะะฏะะฏะข" ะฟัะพัะตััั ะกะฐััะตะบะตะฝะพะฒะฐ

---

### **๐ ะญะขะะ โ3: CausalChainExtractor โ "ะะฝะฐะปะธะทะฐัะพั ะฟัะพัะตััะพะฒ"**

#### **๐ฏ ะงัะพ ะดะตะปะฐะตั?**

**CausalChainExtractor** ะธะทะฒะปะตะบะฐะตั ะฟะพัะฐะณะพะฒัะต ะฟัะธัะธะฝะฝะพ-ัะปะตะดััะฒะตะฝะฝัะต ัะตะฟะพัะบะธ ะฟัะพัะตััะพะฒ ััะฐะฝััะพัะผะฐัะธะธ.

**ะะฝะฐะปะพะณะธั:** ะะฝะฐะปะธะท ัะตัะตะฟัะพะฒ ะฝะฐ ัะฐะณะธ โ ะพั ะธะฝะณัะตะดะธะตะฝัะพะฒ ะดะพ ะณะพัะพะฒะพะณะพ ะฑะปัะดะฐ.

#### **๐ ะงัะพ ะธะทะฒะปะตะบะฐะตััั?**

1. **ะญัะฐะฟั ะฟัะพัะตััะฐ** โ ะฟะพัะปะตะดะพะฒะฐัะตะปัะฝะพััั ัะฐะณะพะฒ (1 โ 2 โ 3 โ 4)
2. **ะกะธััะตะผะฝัะต ัะฒัะทะธ** โ `emerges_from` (ะพัะบัะดะฐ ััะพ ะฒะพะทะฝะธะบะฐะตั)
3. **ะขะพัะบะธ ะฒะผะตัะฐัะตะปัััะฒะฐ** โ ะณะดะต ะผะพะถะฝะพ ะฟัะธะผะตะฝะธัั ะฟัะฐะบัะธะบะธ
4. **ะขะธะฟ ะฟัะพัะตััะฐ** โ ะปะธะฝะตะนะฝัะน ะธะปะธ ัะธะบะปะธัะตัะบะธะน

#### **๐ ะัะธะผะตั ัะตะทัะปััะฐัะฐ**

```json
{
  "process_name": "ะัะพัะตัั ััะฐะฝััะพัะผะฐัะธะธ ัะตัะตะท ััะธะฐะดั",
  "process_category": "ััะธะฐะดะฐ_ััะฐะฝััะพัะผะฐัะธะธ",
  "stages": [
    {
      "stage": 1,
      "stage_name": "ะผะตัะฐะฝะฐะฑะปัะดะตะฝะธะต ะธ ะฝะฐะฑะปัะดะตะฝะธะต",
      "description": "ะัััะธะน ะฟัะฐะบัะธะบัะตั ะผะตัะฐะฝะฐะฑะปัะดะตะฝะธะต...",
      "sarsekenov_terms": ["ะผะตัะฐะฝะฐะฑะปัะดะตะฝะธะต", "ะฝะฐะฑะปัะดะตะฝะธะต"]
    },
    {
      "stage": 2,
      "stage_name": "ะพัะพะทะฝะฐะฒะฐะฝะธะต ะธ ะฐะฒัะพะผะฐัะธะทะผั ะฟัะธัะธะบะธ",
      "description": "ะะฐัะตะผ ะฟัะพะธััะพะดะธั ะพัะพะทะฝะฐะฒะฐะฝะธะต...",
      "emerges_from": [1],
      "sarsekenov_terms": ["ะพัะพะทะฝะฐะฒะฐะฝะธะต", "ะฐะฒัะพะผะฐัะธะทะผั ะฟัะธัะธะบะธ"]
    },
    {
      "stage": 3,
      "stage_name": "ััะฐะฝััะพัะผะฐัะธั ะธ ัะฐะทะพัะพะถะดะตััะฒะปะตะฝะธะต",
      "description": "ะญัะพ ะฒะตะดะตั ะบ ััะฐะฝััะพัะผะฐัะธะธ...",
      "emerges_from": [2],
      "sarsekenov_terms": ["ััะฐะฝััะพัะผะฐัะธั", "ัะฐะทะพัะพะถะดะตััะฒะปะตะฝะธะต"]
    }
  ],
  "intervention_points": [
    {
      "at_stage": 1,
      "practice": "ะผะตัะฐะฝะฐะฑะปัะดะตะฝะธะต ะทะฐ ะฟัะพัะตััะพะผ",
      "expected_outcome": "ะฒะพะทะฝะธะบะฝะพะฒะตะฝะธะต ะพัะพะทะฝะฐะฒะฐะฝะธั"
    }
  ],
  "confidence": 0.92,
  "is_cyclical": false
}
```

#### **๐ฏ ะะพะปั ะฒ ะฟัะพะตะบัะต**

- **ะัะพะด:** ะขะตะบัั ะปะตะบัะธะธ ะกะฐััะตะบะตะฝะพะฒะฐ
- **ะัะพัะตัั:** ะะฐัะพะดะธั ะฟะพัะฐะณะพะฒัะต ะฟัะพัะตััั (ัะตะฟะพัะบะธ)
- **ะััะพะด:** ะกัััะบัััะธัะพะฒะฐะฝะฝัะต ััะฐะฟั ั ัะฒัะทัะผะธ
- **ะะฐัะตะผ:** ะงัะพะฑั AI-ะฑะพั ะผะพะณ ะพะฑัััะฝััั ะฟัะพัะตััั ะฟะพัะฐะณะพะฒะพ, ะบะฐะบ ะกะฐััะตะบะตะฝะพะฒ

**ะะตะท ะญัะฐะฟะฐ โ3:** ะะพั ะทะฝะฐะตั "ััะพ", ะฝะพ ะฝะต ะทะฝะฐะตั "ะบะฐะบ ะธะผะตะฝะฝะพ".  
**ะก ะญัะฐะฟะพะผ โ3:** ะะพั ะทะฝะฐะตั ัะพัะฝัั ะฟะพัะปะตะดะพะฒะฐัะตะปัะฝะพััั ััะฐะฝััะพัะผะฐัะธะธ! ๐ฏ

---

### **๐ ะญะขะะ โ4: ConceptHierarchyExtractor โ "ะััะธัะตะบัะพั ะทะฝะฐะฝะธะน"**

#### **๐ฏ ะงัะพ ะดะตะปะฐะตั?**

**ConceptHierarchyExtractor** ัะพะทะดะฐัั ะธะตัะฐััะธัะตัะบัั ััััะบัััั ะบะพะฝัะตะฟัะพะฒ ััะตะฝะธั.

**ะะฝะฐะปะพะณะธั:** ะัะณะฐะฝะธะทะฐัะธะพะฝะฝะฐั ััััะบัััะฐ ะบะพะผะฟะฐะฝะธะธ โ ะพั CEO ะดะพ ััะดะพะฒัั ัะพัััะดะฝะธะบะพะฒ.

#### **๐ 5 ััะพะฒะฝะตะน ะธะตัะฐััะธะธ**

1. **๐ข Root (ะบะพัะตะฝั)**: ะะตะนัะพ-ััะฐะปะบะธะฝะณ
2. **๐ Domain (ะดะพะผะตะฝ)**: ะะพะปะต ะฒะฝะธะผะฐะฝะธั
3. **๐๏ธ Practice (ะฟัะฐะบัะธะบะฐ)**: ะะตัะฐะฝะฐะฑะปัะดะตะฝะธะต
4. **๐ง Technique (ัะตัะฝะธะบะฐ)**: ะะฐะฑะปัะดะตะฝะธะต ะผััะปะธัะตะปัะฝะพะณะพ ะฟะพัะพะบะฐ
5. **๐๏ธ Exercise (ัะฟัะฐะถะฝะตะฝะธะต)**: 5 ะผะธะฝัั ะฝะฐะฑะปัะดะตะฝะธั ัััะพะผ

#### **๐ ะัะธะผะตั ัะตะทัะปััะฐัะฐ**

```json
{
  "root": {
    "name": "ะฝะตะนัะพ-ััะฐะปะบะธะฝะณ",
    "level": "root"
  },
  "domains": [
    {
      "name": "ะฟะพะปะต ะฒะฝะธะผะฐะฝะธั",
      "level": "domain",
      "parent": "ะฝะตะนัะพ-ััะฐะปะบะธะฝะณ",
      "relation": "is_core_component_of"
    }
  ],
  "practices": [
    {
      "name": "ะผะตัะฐะฝะฐะฑะปัะดะตะฝะธะต",
      "level": "practice",
      "parent": "ะฟะพะปะต ะฒะฝะธะผะฐะฝะธั",
      "relation": "is_practice_for"
    }
  ],
  "techniques": [
    {
      "name": "ะฝะฐะฑะปัะดะตะฝะธะต ะผััะปะธัะตะปัะฝะพะณะพ ะฟะพัะพะบะฐ",
      "level": "technique",
      "parent": "ะผะตัะฐะฝะฐะฑะปัะดะตะฝะธะต",
      "relation": "is_technique_for"
    }
  ],
  "exercises": [
    {
      "name": "ะฃะฟัะฐะถะฝะตะฝะธะต ะดะปั ะฝะฐะฑะปัะดะตะฝะธั...",
      "level": "exercise",
      "parent": "ะฝะฐะฑะปัะดะตะฝะธะต ะผััะปะธัะตะปัะฝะพะณะพ ะฟะพัะพะบะฐ",
      "duration": "5 ะผะธะฝัั",
      "frequency": "3 ัะฐะทะฐ ะฒ ะดะตะฝั"
    }
  ]
}
```

#### **๐ฏ ะะพะปั ะฒ ะฟัะพะตะบัะต**

- **ะัะพะด:** ะขะตะบัั ะปะตะบัะธะธ
- **ะัะพัะตัั:** ะะฐัะบะปะฐะดัะฒะฐะตั ัะตัะผะธะฝั ะฟะพ ะฟะพะปะพัะบะฐะผ (5 ััะพะฒะฝะตะน)
- **ะััะพะด:** ะะตัะตะฒะพ ะทะฝะฐะฝะธะน (ะะตัะฐััะธั)
- **ะะฐัะตะผ:** ะงัะพะฑั ะฑะพั ะฟะพะฝะธะผะฐะป ััััะบัััั ััะตะฝะธั, ะฐ ะฝะต ะฟัะพััะพ ะฝะฐะฑะพั ัะปะพะฒ

**ะะตะท ะญัะฐะฟะฐ โ4:** ะะพั ะทะฝะฐะตั ัะปะพะฒะฐ, ะฝะพ ะฝะต ะทะฝะฐะตั ะณัะฐะผะผะฐัะธะบั ััะตะฝะธั.  
**ะก ะญัะฐะฟะพะผ โ4:** ะะพั ะฟะพะฝะธะผะฐะตั ััััะบัััั ะธ ััะฑะพัะดะธะฝะฐัะธั ะฟะพะฝััะธะน! ๐ฏ

---

### **๐ ะญะขะะ โ5: SarsekenovProcessor (ะัะบะตัััะฐัะพั) โ "ะะธัะธะถัั ะพัะบะตัััะฐ"**

#### **๐ฏ ะงัะพ ะดะตะปะฐะตั?**

**SarsekenovProcessor** โ ััะพ ะณะปะฐะฒะฝัะน ะพัะบะตัััะฐัะพั, ะบะพัะพััะน ัะฟัะฐะฒะปัะตั ะฒัะตะผะธ ะฟัะตะดัะดััะธะผะธ ััะฐะฟะฐะผะธ ะธ ะพะฑัะตะดะธะฝัะตั ะธั ัะตะทัะปััะฐัั.

**ะะฝะฐะปะพะณะธั:** ะะธัะธะถัั ัะธะผัะพะฝะธัะตัะบะพะณะพ ะพัะบะตัััะฐ, ะบะพัะพััะน ัะฟัะฐะฒะปัะตั ะผัะทัะบะฐะฝัะฐะผะธ ะธ ัะพะทะดะฐัั ะตะดะธะฝะพะต ะฟัะพะธะทะฒะตะดะตะฝะธะต.

#### **๐ ะงัะพ ะบะพะฝะบัะตัะฝะพ ะฟัะพะธััะพะดะธั?**

1. **ะะฐะปะธะดะฐัะธั** โ ะทะฐะฟััะบะฐะตั ะญัะฐะฟ โ1 (TerminologyValidator)
2. **ะะทะฒะปะตัะตะฝะธะต** โ ะทะฐะฟััะบะฐะตั ะญัะฐะฟั โ2, โ3, โ4 (Patterns, Chains, Hierarchy)
3. **ะกะปะธัะฝะธะต (Merging)** โ ะพะฑัะตะดะธะฝัะตั ะดัะฑะปะธััััะธะตัั ะบะพะฝัะตะฟัั ะธะท ัะฐะทะฝัั ะปะตะบัะธะน
4. **ะะพัััะพะตะฝะธะต ะัะฐัะฐ** โ ัะพะทะดะฐัั ัะตัั ัะฒัะทะตะน ะผะตะถะดั ะบะพะฝัะตะฟัะฐะผะธ
5. **ะญะบัะฟะพัั** โ ัะฟะฐะบะพะฒัะฒะฐะตั ะฒัั ะฒ ัะพัะผะฐั ะดะปั RAG-ัะธััะตะผั

#### **๐ธ๏ธ ะะพัััะพะตะฝะธะต Knowledge Graph**

ะกะธััะตะผะฐ ัะพะทะดะฐัั ะณัะฐั ะทะฝะฐะฝะธะน, ะณะดะต:
- **ะฃะทะปั** = ะบะพะฝัะตะฟัั, ะฟัะฐะบัะธะบะธ, ัะตัะฝะธะบะธ
- **ะกะฒัะทะธ** = ะพัะฝะพัะตะฝะธั ะผะตะถะดั ะฝะธะผะธ
- **ะะฑัะตะดะธะฝะตะฝะธะต** = ะตัะปะธ "ะผะตัะฐะฝะฐะฑะปัะดะตะฝะธะต" ะฒัััะตัะฐะตััั ะฒ ัะฐะทะฝัั ะปะตะบัะธัั, ะพะฝะธ ะพะฑัะตะดะธะฝััััั ะฒ ะพะดะธะฝ ัะทะตะป

#### **๐ฏ ะะพะปั ะฒ ะฟัะพะตะบัะต**

- **ะกะพะฑะธัะฐะตั** ะฒัั ะฒะพะตะดะธะฝะพ
- **ะกะฒัะทัะฒะฐะตั** ัะฐะทัะพะทะฝะตะฝะฝัะต ะทะฝะฐะฝะธั
- **ะะฑัะตะดะธะฝัะตั** ะดัะฑะปะธะบะฐัั
- **ะฃะฟะฐะบะพะฒัะฒะฐะตั** ะดะปั ะธัะฟะพะปัะทะพะฒะฐะฝะธั

**ะะตะท ะญัะฐะฟะฐ โ5:** ะััะฐ ะพัะดะตะปัะฝัั ัะฐะนะปะพะฒ ั ัะตะทัะปััะฐัะฐะผะธ.  
**ะก ะญัะฐะฟะพะผ โ5:** ะะดะธะฝะฐั ะบะฐััะฐ ะทะฝะฐะฝะธะน ะดะปั ัะผะฝะพะณะพ ะฑะพัะฐ! ๐

---

### **๐ ะกะฒัะทั ะฒัะตั ะฟััะธ ััะฐะฟะพะฒ**

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ               PIPELINE ะะะะะะงะะะะฏ ะะะะะะ                    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                             โ
โ  ะญะขะะ โ1: TerminologyValidator                              โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  ๐ฏ ะะพะปั: ะคะะะฌะขะ ะบะฐัะตััะฒะฐ                                   โ
โ  โ ะะพะฟัะพั: "ะญัะพ ัะตะบัั ะกะฐััะตะบะตะฝะพะฒะฐ?"                        โ
โ  โ ะะตะทัะปััะฐั: ะขะพะปัะบะพ ะฒะฐะปะธะดะฝัะต ัะตะบััั (โฅ15% ะฟะปะพัะฝะพััะธ)      โ
โ                                                             โ
โ            โผ                                                โ
โ                                                             โ
โ  ะญะขะะ โ2: NeurostalkingPatternExtractor                     โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  ๐ฏ ะะพะปั: ะะะขะะะขะะ ะฟะฐััะตัะฝะพะฒ                                โ
โ  โ ะะพะฟัะพั: "ะะะ ะะซะะะฏะะฏะข ะฟัะพัะตััั?"                        โ
โ  โ ะะตะทัะปััะฐั: 4 ัะธะฟะฐ ะฟะฐััะตัะฝะพะฒ ั confidence                โ
โ                                                             โ
โ            โผ                                                โ
โ                                                             โ
โ  ะญะขะะ โ3: CausalChainExtractor                              โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  ๐ฏ ะะพะปั: ะะะะะะะะขะะ ะฟัะพัะตััะพะฒ                              โ
โ  โ ะะพะฟัะพั: "ะะะ ะะะะะะะะฎะขะกะฏ ะฟัะพัะตััั?"                     โ
โ  โ ะะตะทัะปััะฐั: ะะพัะฐะณะพะฒัะต ัะตะฟะพัะบะธ ั ัะธััะตะผะฝัะผะธ ัะฒัะทัะผะธ       โ
โ                                                             โ
โ            โผ                                                โ
โ                                                             โ
โ  ะญะขะะ โ4: ConceptHierarchyExtractor                         โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  ๐ฏ ะะพะปั: ะะะฅะะขะะะขะะ ะทะฝะฐะฝะธะน                                 โ
โ  โ ะะพะฟัะพั: "ะะะ ะฃะกะขะะะะะ ััะตะฝะธะต?"                          โ
โ  โ ะะตะทัะปััะฐั: ะะตัะฐััะธั ะบะพะฝัะตะฟัะพะฒ (5 ััะพะฒะฝะตะน)               โ
โ                                                             โ
โ            โผ                                                โ
โ                                                             โ
โ  ะญะขะะ โ5: SarsekenovProcessor (ะัะบะตัััะฐัะพั)                โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  ๐ฏ ะะพะปั: ะะะะะะะ ะพัะบะตัััะฐ                                  โ
โ  โ ะะพะฟัะพั: "ะะฐะบ ะพะฑัะตะดะธะฝะธัั ะฒัั ะฒ ะตะดะธะฝัั ัะธััะตะผั?"          โ
โ  โ ะะตะทัะปััะฐั: Knowledge Graph + RAG-ready ะดะฐะฝะฝัะต            โ
โ                                                             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

### **๐ฏ ะะฐัะตะผ ะดะฒะต ัะธััะตะผั? (SAG v2.0 ะัะฐั + ะญะบัััะฐะบัะพัั)**

**ะะพะฟะพะปะฝััั ะดััะณ ะดััะณะฐ:**

1. **SAG v2.0 ะัะฐั** โ ะััััะพะต ะธะทะฒะปะตัะตะฝะธะต ะพัะฝะพะฒะฝัั ะบะพะฝัะตะฟัะพะฒ
   - ะฅะพัะพัะพ ะดะปั: ะบะปััะตะฒัั ัะตัะผะธะฝะพะฒ, ะฑะฐะทะพะฒัั ัะฒัะทะตะน
   - ะะปะพัะพ ะดะปั: ัะปะพะถะฝัั ััััะบััั, ะบะพะฝัะตะบััะฐ

2. **ะญะบัััะฐะบัะพัั (1-5)** โ ะะปัะฑะพะบะธะน ะฐะฝะฐะปะธะท ัะฟะตัะธะฐะปะธะทะธัะพะฒะฐะฝะฝัั ััััะบััั
   - ะฅะพัะพัะพ ะดะปั: ะฑะตะทะพะฟะฐัะฝะพััะธ, ะฟัะธัะธะฝะฝะพ-ัะปะตะดััะฒะตะฝะฝัั ัะตะฟะพัะตะบ, ะธะตัะฐััะธะธ
   - ะะปะพัะพ ะดะปั: ัะบะพัะพััะธ, ะทะฐััะฐั

**ะะตะทัะปััะฐั:**
- **ะะพะปะฝะพัะฐ**: ะะทะฒะปะตะบะฐัััั ะธ ะฟัะพัััะต ัะตัะผะธะฝั, ะธ ัะปะพะถะฝัะต ััััะบัััั
- **ะะฟัะธะผะธะทะฐัะธั**: ะะพัะพะณะธะต LLM-ะทะฐะฟัะพัั ัะพะปัะบะพ ะดะปั ัะฟะตัะธะฐะปะธะทะธัะพะฒะฐะฝะฝัั ะทะฐะดะฐั
- **ะะฐัะตััะฒะพ**: ะะฒะฐ ะฝะตะทะฐะฒะธัะธะผัั ะฟะพะดัะพะดะฐ ะฒะฐะปะธะดะธัััั ะดััะณ ะดััะณะฐ

---

### **๐ ะะดะต ัะพััะฐะฝััััั ะดะฐะฝะฝัะต**

ะัะต ะดะฐะฝะฝัะต ัะพััะฐะฝััััั ะฒ ะพะดะฝะพะผ ัะธะฝะฐะปัะฝะพะผ JSON:

```
data/sag_final/{year}/{month}/{date}_{video_id}_{title}.for_vector.json
```

**ะกัััะบัััะฐ:**
- **ะะตัะฐะดะฐะฝะฝัะต ะดะพะบัะผะตะฝัะฐ**: `document_metadata` (SAG v2.0)
- **ะัะฐั-ัััะฝะพััะธ**: `graph_entities` (SAG v2.0, ะฐะฒัะพะผะฐัะธัะตัะบะพะต)
- **ะกะตะผะฐะฝัะธัะตัะบะธะต ัะฒัะทะธ**: `semantic_relationships` (SAG v2.0)
- **๐ง Knowledge Graph**: `knowledge_graph` (ะฟะพะปะฝัะน ะณัะฐั ัะพ ะฒัะตะผะธ ะฒะทะฐะธะผะพัะฒัะทัะผะธ)
- **ะะปะพะบะธ**: `blocks[]` ั ะดะฐะฝะฝัะผะธ ะฒัะตั ัะบัััะฐะบัะพัะพะฒ:
  - `safety` (ะญัะฐะฟ 1-5 ัะตัะตะท LLM)
  - `causal_chains` (ะญัะฐะฟ 3)
  - `concept_hierarchy` (ะญัะฐะฟ 4)
  - `case_studies` (ะดะพะฟะพะปะฝะธัะตะปัะฝัะน ัะบัััะฐะบัะพั)
  - `prerequisites` (ะดะพะฟะพะปะฝะธัะตะปัะฝัะน ัะบัััะฐะบัะพั)

---

### **โ ะงะขะ ะฃะะ ะะะะะะะะะะะ:**

#### **1. ๐ ะะพะปะฝะฐั ะฐะบัะธะฒะฐัะธั ะณัะฐั-ะบะพะปะปะตะบัะธะธ**
- **ะัะฐั-ัะทะปั**: 442 ัะปะตะผะตะฝัะฐ (100% ะทะฐะณััะถะตะฝะพ)
- **ะกะตะผะฐะฝัะธัะตัะบะธะต ะพัะฝะพัะตะฝะธั**: 259 ัะปะตะผะตะฝัะพะฒ (100% ะทะฐะณััะถะตะฝะพ)
- **ะกะปะพะฒะฐัั ัะธะฝะพะฝะธะผะพะฒ**: 135 ะฟะฐั
- **ะกัะพะฟ-ัะปะพะฒะฐ**: 82 ัะปะตะผะตะฝัะฐ
- **ะะฑัะฐั ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััั**: ะฃะฒะตะปะธัะตะฝะธะต ะฒ 37 ัะฐะท!

#### **2. ๐ ะกะตะผะฐะฝัะธัะตัะบะธะน ะฐะฝะฐะปะธะท ัะฒัะทะตะน**
- **ะะพะฝัะตะฟััะฐะปัะฝัะต ัะฒัะทะธ**: ะะฒัะพะผะฐัะธัะตัะบะพะต ะฒััะฒะปะตะฝะธะต
- **ะะฐัะทะฐะปัะฝัะต ัะฒัะทะธ**: ะัะธัะธะฝะฝะพ-ัะปะตะดััะฒะตะฝะฝัะต ะพัะฝะพัะตะฝะธั
- **ะัะฐะบัะธัะตัะบะธะต ัะฒัะทะธ**: ะัะธะบะปะฐะดะฝัะต ะฟัะธะผะตะฝะตะฝะธั
- **ะะฐััะตั ัะธะปั ัะฒัะทะธ**: ะะตััะธะบะฐ ะพั 0.0 ะดะพ 1.0

#### **3. ๐ฏ ะฃะผะฝะฐั ะฟัะธะพัะธัะธะทะฐัะธั**
- **ะะธะผะธั ัััะฝะพััะตะน**: ะฃะฒะตะปะธัะตะฝ ั 12 ะดะพ 30
- **ะัะธะพัะธัะตั ะฝะตะนัะพััะฐะปะบะธะฝะณะฐ**: ะะปััะตะฒัะต ะบะพะฝัะตะฟัั ะฟะพะปััะฐัั ะฒัััะธะน ัะฐะฝะณ
- **ะะฒัะพะผะฐัะธัะตัะบะฐั ัะพััะธัะพะฒะบะฐ**: ะะพ ะฒะฐะถะฝะพััะธ ะธ ัะตะปะตะฒะฐะฝัะฝะพััะธ

#### **4. ๐ ะะฐััะธัะตะฝะฝะฐั ะฝะพัะผะฐะปะธะทะฐัะธั**
- **ะกะธะฝะพะฝะธะผะธะทะฐัะธั**: 135 ะฟะฐั ะดะปั ัะพัะฝะพะน ะฝะพัะผะฐะปะธะทะฐัะธะธ
- **ะคะธะปัััะฐัะธั**: 82 ััะพะฟ-ัะปะพะฒะฐ ะดะปั ะพัะธััะบะธ
- **ะะตะดัะฟะปะธะบะฐัะธั**: ะฃัััะฐะฝะตะฝะธะต ะดัะฑะปะธััััะธััั ัััะฝะพััะตะน

### **๐ ะขะะะฃะฉะะ ะะะะะะะะะกะขะ:**
- **ะัะตะผั ะธะทะฒะปะตัะตะฝะธั**: <0.001ั
- **ะัะตะผั ะฐะฝะฐะปะธะทะฐ ัะฒัะทะตะน**: <0.001ั
- **ะะฐัะตััะฒะพ ะธะทะฒะปะตัะตะฝะธั**: 90%+
- **ะะพัะพะฒะฝะพััั ัะธััะตะผั**: 90% (ะัะพัะตััะธะพะฝะฐะปัะฝัะน ััะพะฒะตะฝั)

### **๐ ะงะขะ ะะะะะะะฃะะขะกะฏ ะ ะะฃะะฃะฉะะ:**
- **ะญัะฐะฟ 2**: ะะพะปะฝะฐั ะฐะบัะธะฒะฐัะธั (1-2 ะฝะตะดะตะปะธ)
  - ะะพะฑะฐะฒะธัั ะฝะตะดะพััะฐััะธะต ัะทะปั (70 ะดะพ 442)
  - ะะพะฑะฐะฒะธัั ะฝะตะดะพััะฐััะธะต ะพัะฝะพัะตะฝะธั (8 ะดะพ 259)
  - ะะตะฐะปะธะทะพะฒะฐัั ะณัะฐั-ััะฐะฒะตัั ะดะปั ะฟะพะธัะบะฐ ัะฒัะทะฐะฝะฝัั ะบะพะฝัะตะฟัะพะฒ
  - ะะพะฑะฐะฒะธัั ะฒะตัะพะฒัะต ะบะพัััะธัะธะตะฝัั ะดะปั ัะฒัะทะตะน (ะพัะปะพะถะตะฝะพ)
- **ะญัะฐะฟ 3**: SAG Pipeline (2-4 ะฝะตะดะตะปะธ)
  - ะะฝัะตะณัะธัะพะฒะฐัั ะฒะตะบัะพัะฝัะน ะฟะพะธัะบ
  - ะะตะฐะปะธะทะพะฒะฐัั ะบะพะฝัะตะบััะฝัะน ัะธะฝัะตะท
  - ะะพะฑะฐะฒะธัั ะฟะตััะพะฝะฐะปะธะทะฐัะธั ะพัะฒะตัะพะฒ
  - ะะฝะตะดัะธัั ะฒะฐะปะธะดะฐัะธั ะบะฐัะตััะฒะฐ

---



---

## ๐ **ะกะขะะฃะะขะฃะะ ะกะะฅะะะะะะะฏ ะะะะะซะฅ**

### **ะัะดะฐ ัะพััะฐะฝััััั ะฒัะต ะฒะฝะพะฒั ะธะทะฒะปะตัะตะฝะฝัะต ะดะฐะฝะฝัะต**

ะัะต ะดะฐะฝะฝัะต ัะพััะฐะฝััััั ะฒ ััััะบัััะธัะพะฒะฐะฝะฝะพะผ ะฒะธะดะต ั ะพัะณะฐะฝะธะทะฐัะธะตะน ะฟะพ ะดะฐัะฐะผ ะฟัะฑะปะธะบะฐัะธะธ ะฒะธะดะตะพ:

#### **1. ะกัััะต ััะฑัะธััั** (`data/raw_subtitles/`)

**ะกัััะบัััะฐ:** `{year}/{month}/{date}_{video_id}_{safe_title}.{ext}`

**ะัะธะผะตั:**
```
data/raw_subtitles/
โโโ 2024/
โ   โโโ 03/
โ   โ   โโโ 2024-03-15_HndVzdJuAz0_ะัะพัะตัั_ะธััะตะปะตะฝะธั.json  # ะกัััะบัััะธัะพะฒะฐะฝะฝัะต ะดะฐะฝะฝัะต
โ   โ   โโโ 2024-03-15_HndVzdJuAz0_ะัะพัะตัั_ะธััะตะปะตะฝะธั.srt   # ะกัะฐะฝะดะฐััะฝัะต ััะฑัะธััั
โ   โ   โโโ 2024-03-15_HndVzdJuAz0_ะัะพัะตัั_ะธััะตะปะตะฝะธั.txt   # ะงะธัััะน ัะตะบัั
โ   โโโ 04/
โ       โโโ ...
โโโ 2025/
    โโโ 07/
    โ   โโโ 2025-07-17_tHrRgOw8CU0_ะะดะต_ัะผ_ัะฐะผ_ะธ_ะบะปะฐะด.json
    โโโ 09/
        โโโ 2025-09-02_iBEbF8zuhQ8_ะะฟัั_ะฝะธัั_ะัะธะฐะดะฝั.json
```

**ะงัะพ ัะพััะฐะฝัะตััั:**
- JSON ัะฐะนะป ั ะผะตัะฐะดะฐะฝะฝัะผะธ ะธ ััะฑัะธััะฐะผะธ
- SRT ัะฐะนะป (ััะฐะฝะดะฐััะฝัะน ัะพัะผะฐั ััะฑัะธััะพะฒ)
- TXT ัะฐะนะป (ัะธัััะน ัะตะบัั ะฑะตะท ะฒัะตะผะตะฝะฝัั ะผะตัะพะบ)

#### **2. SAG v2.0 ัะตะทัะปััะฐัั** (`data/sag_final/`)

**ะกัััะบัััะฐ:** `{year}/{month}/{date}_{video_id}_{safe_title}.{ext}`

**ะัะธะผะตั:**
```
data/sag_final/
โโโ 2024/
โ   โโโ 03/
โ   โ   โโโ 2024-03-15_HndVzdJuAz0_ะัะพัะตัั_ะธััะตะปะตะฝะธั.for_vector.json  # ะะปั ะฒะตะบัะพัะฝะพะน ะะ
โ   โ   โโโ 2024-03-15_HndVzdJuAz0_ะัะพัะตัั_ะธััะตะปะตะฝะธั.for_review.md    # ะะปั ะฟัะพัะผะพััะฐ
โ   โโโ 04/
โโโ 2025/
    โโโ 07/
    โ   โโโ 2025-07-17_tHrRgOw8CU0_ะะดะต_ัะผ_ัะฐะผ_ะธ_ะบะปะฐะด.for_vector.json
    โ   โโโ 2025-07-17_tHrRgOw8CU0_ะะดะต_ัะผ_ัะฐะผ_ะธ_ะบะปะฐะด.for_review.md
    โโโ 09/
        โโโ 2025-09-02_iBEbF8zuhQ8_ะะฟัั_ะฝะธัั_ะัะธะฐะดะฝั.for_vector.json
        โโโ 2025-09-02_iBEbF8zuhQ8_ะะฟัั_ะฝะธัั_ะัะธะฐะดะฝั.for_review.md
```

**ะงัะพ ัะพััะฐะฝัะตััั:**
- `*.for_vector.json` - ััััะบัััะธัะพะฒะฐะฝะฝัะต ะดะฐะฝะฝัะต ะดะปั ะฒะตะบัะพัะฝะพะน ะะ (ChromaDB)
- `*.for_review.md` - Markdown ัะฐะนะป ะดะปั ัะตะปะพะฒะตัะตัะบะพะณะพ ะฟัะพัะผะพััะฐ

**๐ ะะพะฟะพะปะฝะธัะตะปัะฝัะต ะดะฐะฝะฝัะต ัะบัััะฐะบัะพัะพะฒ ะฒ JSON:**

ะัะต ะดะฐะฝะฝัะต ะธะท ะดะพะฟะพะปะฝะธัะตะปัะฝัั ัะบัััะฐะบัะพัะพะฒ ัะพััะฐะฝััััั **ะฟััะผะพ ะฒ ะฑะปะพะบะธ** ัะธะฝะฐะปัะฝะพะณะพ JSON ัะฐะนะปะฐ (`*.for_vector.json`):

```json
{
  "blocks": [
    {
      "block_id": "...",
      "content": "...",
      
      // ๐ ะะฐะฝะฝัะต ัะบัััะฐะบัะพัะพะฒ (ะตัะปะธ ะฒะบะปััะตะฝั ะฒ config.yaml):
      
      "safety": {
        "contraindications": [...],
        "limitations": [...],
        "when_to_stop": [...],
        "when_to_seek_professional_help": [...],
        "notes": []
      },
      
      "causal_chains": [
        {
          "name": "ะฝะฐะทะฒะฐะฝะธะต ะฟัะพัะตััะฐ",
          "steps": [
            {"step": 1, "event": "...", "description": "..."}
          ],
          "intervention_points": [
            {
              "after_step": 2,
              "practice": "ะผะตัะฐะฝะฐะฑะปัะดะตะฝะธะต",
              "effect": "ััะพ ะผะตะฝัะตััั",
              "related_concepts": ["ะพัะพะทะฝะฐะฒะฐะฝะธะต", "ะฟะฐััะตัะฝั"]
            }
          ]
        }
      ],
      
      "concept_hierarchy": [
        {
          "name": "ะพัะพะทะฝะฐะฒะฐะฝะธะต",
          "level": "domain",
          "parent": "ะฝะตะนัะพััะฐะปะบะธะฝะณ",
          "relationship": "is_core_component_of"
        }
      ],
      
      "case_studies": [
        {
          "id": "case_local_1",
          "situation": "ะพะฟะธัะฐะฝะธะต ัะธััะฐัะธะธ",
          "root_cause": "ะบะพัะฝะตะฒะฐั ะฟัะธัะธะฝะฐ",
          "applied_practices": ["ะฟัะฐะบัะธะบะฐ1", "ะฟัะฐะบัะธะบะฐ2"],
          "process": ["ัะฐะณ 1", "ัะฐะณ 2"],
          "outcome": "ัะตะทัะปััะฐั",
          "lessons": "ะฒัะฒะพะดั",
          "related_concepts": ["ะบะพะฝัะตะฟั1"]
        }
      ],
      
      "prerequisites": {
        "prerequisites": [
          {
            "concept": "ะพัะฝะพะฒะฐ ะพัะพะทะฝะฐะฒะฐะฝะธั",
            "level": "beginner",
            "why_needed": "ะฟะพัะตะผั ะฝะตะพะฑัะพะดะธะผะพ"
          }
        ],
        "recommended_sequence": [
          "ะพัะพะทะฝะฐะฒะฐะฝะธะต โ ะผะตัะฐะฝะฐะฑะปัะดะตะฝะธะต โ ัะฐัะฟะพะทะฝะฐะฒะฐะฝะธะต ะฟะฐััะตัะฝะพะฒ"
        ],
        "common_mistakes": ["ัะธะฟะธัะฝะฐั ะพัะธะฑะบะฐ"]
      }
    }
  ]
}
```

**ะะพัััะฟะฝัะต ัะบัััะฐะบัะพัั:**
- `safety_extractor.py` โ ะฟะพะปะต `safety` ะฒ ะบะฐะถะดะพะผ ะฑะปะพะบะต
- `causal_chain_extractor.py` โ ะฟะพะปะต `causal_chains` ะฒ ะบะฐะถะดะพะผ ะฑะปะพะบะต
- `concept_hierarchy_extractor.py` โ ะฟะพะปะต `concept_hierarchy` ะฒ ะบะฐะถะดะพะผ ะฑะปะพะบะต
- `case_study_extractor.py` โ ะฟะพะปะต `case_studies` ะฒ ะบะฐะถะดะพะผ ะฑะปะพะบะต
- `prerequisite_extractor.py` โ ะฟะพะปะต `prerequisites` ะฒ ะบะฐะถะดะพะผ ะฑะปะพะบะต

**ะะฐัััะพะนะบะฐ ัะบัััะฐะบัะพัะพะฒ (config.yaml):**
```yaml
pipeline:
  sag_v2:
    use_safety_extractor: true
    use_causal_chain_extractor: true
    use_concept_hierarchy_extractor: true
    use_case_study_extractor: true
    use_prerequisite_extractor: true
    models:
      safety: gpt-4o-mini
      causal: gpt-4o-mini
      hierarchy: gpt-4o-mini
      case_study: gpt-4o-mini
      prerequisite: gpt-4o-mini
```

#### **3. ะะตะตััั ะฒะธะดะตะพ** (`data/video_registry.json`)

**ะะดะธะฝัะน ัะฐะนะป** ัะพ ะฒัะตะน ะธะฝัะพัะผะฐัะธะตะน ะพ ะฒะธะดะตะพ:
- ะะตัะฐะดะฐะฝะฝัะต (ะฝะฐะทะฒะฐะฝะธะต, ะบะฐะฝะฐะป, ะดะฐัะฐ ะฟัะฑะปะธะบะฐัะธะธ)
- ะกัะฐัััั ะพะฑัะฐะฑะพัะบะธ
- ะััะพัะธั ะพะฑัะฐะฑะพัะบะธ
- ะััะธ ะบ ัะฐะนะปะฐะผ
- ะกัะฐัะธััะธะบะฐ (ะฑะปะพะบะธ, ัััะฝะพััะธ, ะทะฐััะฐัั API)

#### **4. ะะพะณะธ ะฟะฐะนะฟะปะฐะนะฝะฐ** (`data/raw_subtitles/`)

**Batch ัะตะทัะปััะฐัั:**
- `batch_pipeline_results_{timestamp}.json` - ัะตะทัะปััะฐัั ะฟะฐะบะตัะฝะพะน ะพะฑัะฐะฑะพัะบะธ
- ะะฒัะพะผะฐัะธัะตัะบะธ ัะพััะฐะฝััััั ะฟะพัะปะตะดะฝะธะต 2 ัะฐะนะปะฐ

**ะะพะณะธ ะฒัะฟะพะปะฝะตะฝะธั:**
- `pipeline.log` - ะพัะฝะพะฒะฝะพะน ะปะพะณ-ัะฐะนะป (ะฒ ะบะพัะฝะต ะฟัะพะตะบัะฐ)

#### **5. ะะตะบัะพัะฝะฐั ะฑะฐะทะฐ ะดะฐะฝะฝัั** (`data/chromadb/`)

**ะะพะบะฐะปัะฝะฐั ChromaDB:**
- ะัะต ัะผะฑะตะดะดะธะฝะณะธ ะดะพะบัะผะตะฝัะพะฒ, ะฑะปะพะบะพะฒ ะธ ะณัะฐั-ัััะฝะพััะตะน
- ะะฒัะพะผะฐัะธัะตัะบะธ ัะพะทะดะฐะตััั ะฟัะธ ะฟะตัะฒะพะน ะธะฝะดะตะบัะฐัะธะธ
- ะะพะปะปะตะบัะธะธ: `sag_v2_documents`, `sag_v2_blocks`, `sag_v2_graph_entities`

### **ะัะตะธะผััะตััะฒะฐ ัะฐะบะพะน ััััะบัััั:**

โ **ะัะณะฐะฝะธะทะฐัะธั ะฟะพ ะดะฐัะฐะผ** - ะปะตะณะบะพ ะฝะฐะนัะธ ะฒะธะดะตะพ ะพะฟัะตะดะตะปะตะฝะฝะพะณะพ ะฟะตัะธะพะดะฐ  
โ **ะงะธัะฐะตะผัะต ะธะผะตะฝะฐ** - ััะฐะทั ะฒะธะดะฝะพ, ััะพ ะทะฐ ัะฐะนะป  
โ **ะะฐัััะฐะฑะธััะตะผะพััั** - ััััะบัััะฐ ะฝะต ัะฐะทะฒะฐะปะธััั ะฝะฐ 1000+ ะฒะธะดะตะพ  
โ **ะะตะณะบะฐั ะพัะธััะบะฐ** - ะผะพะถะฝะพ ัะดะฐะปะธัั ััะฐััะต ะดะฐะฝะฝัะต ะฟะพ ะฟะฐะฟะบะฐะผ  
โ **ะัะบะฐะฟ-ััะตะฝะดะปะธ** - ะฟะฐะฟะบะธ ะฟะพ ะดะฐัะฐะผ ัะดะพะฑะฝะพ ะฐััะธะฒะธัะพะฒะฐัั  
โ **ะะฒัะพะผะฐัะธัะตัะบะฐั ะพัะณะฐะฝะธะทะฐัะธั** - ะฝะต ะฝัะถะฝะพ ะฒัััะฝัั ัะพะทะดะฐะฒะฐัั ะฟะฐะฟะบะธ  

### **ะะฐัััะพะนะบะฐ ะฟััะตะน (config.yaml):**

```yaml
pipeline:
  subtitles:
    output_dir: "data/raw_subtitles"  # ะกัััะต ััะฑัะธััั
  text_processing:
    output_dir: "data/sag_final"      # SAG v2.0 ัะตะทัะปััะฐัั
```

---

## ๐ **ะกะะกะขะะะ ะฃะะะะะะะะะฏ ะะะะะ-ะะะะกะขะะะ**

### **ะะฑะทะพั**

ะะตะฐะปะธะทะพะฒะฐะฝะฐ ะฟัะพัะตััะธะพะฝะฐะปัะฝะฐั ัะธััะตะผะฐ ัะฟัะฐะฒะปะตะฝะธั ะฒะธะดะตะพ-ะดะฐะฝะฝัะผะธ ะดะปั ะผะฐัััะฐะฑะธัะพะฒะฐะฝะธั ะดะพ 500+ ะฒะธะดะตะพ. ะกะธััะตะผะฐ ะพะฑะตัะฟะตัะธะฒะฐะตั:

- โ **ะัะพะฒะตัะบั ะดัะฑะปะธะบะฐัะพะฒ** - ะฐะฒัะพะผะฐัะธัะตัะบะฐั ะฟัะพะฒะตัะบะฐ ะฟะตัะตะด ะพะฑัะฐะฑะพัะบะพะน
- โ **ะะพะปะฝัะต ะผะตัะฐะดะฐะฝะฝัะต** - ะฟะพะปััะตะฝะธะต ัะตัะตะท YouTube Data API v3
- โ **ะัะณะฐะฝะธะทะฐัะธั ะฟะพ ะดะฐัะฐะผ** - ัะฐะนะปั ัะพััะฐะฝััััั ะฒ ััััะบัััะต `{year}/{month}/`
- โ **ะงะธัะฐะตะผัะต ะธะผะตะฝะฐ ัะฐะนะปะพะฒ** - ัะพัะผะฐั `{date}_{video_id}_{safe_title}.{ext}`
- โ **ะััะพัะธั ะพะฑัะฐะฑะพัะบะธ** - ะฟะพะปะฝะฐั ะธััะพัะธั ะบะฐะถะดะพะณะพ ะฒะธะดะตะพ
- โ **CLI ัะฟัะฐะฒะปะตะฝะธะต** - ัะดะพะฑะฝัะต ะบะพะผะฐะฝะดั ะดะปั ะผะพะฝะธัะพัะธะฝะณะฐ

### **ะะพะผะฟะพะฝะตะฝัั ัะธััะตะผั**

#### **1. Video Registry (`utils/video_registry.py`)**

ะฆะตะฝััะฐะปัะฝัะน ัะตะตััั ะฒัะตั ะฒะธะดะตะพ ั ะผะตัะฐะดะฐะฝะฝัะผะธ ะธ ะธััะพัะธะตะน ะพะฑัะฐะฑะพัะบะธ.

**ะัะฝะพะฒะฝัะต ะฒะพะทะผะพะถะฝะพััะธ:**
- ะัะพะฒะตัะบะฐ ะดัะฑะปะธะบะฐัะพะฒ ะฟะตัะตะด ะพะฑัะฐะฑะพัะบะพะน
- ะััะปะตะถะธะฒะฐะฝะธะต ััะฐัััะพะฒ: `pending`, `processing`, `processed`, `failed`, `skipped`
- ะััะพัะธั ะพะฑัะฐะฑะพัะบะธ ั ะผะตััะธะบะฐะผะธ (ะฑะปะพะบะธ, ัััะฝะพััะธ, ะฒัะตะผั, ััะพะธะผะพััั API)
- ะกะพััะฐะฝะตะฝะธะต ะฟััะตะน ะบ ัะฐะนะปะฐะผ (raw_subtitles, sag_json, sag_md)
- ะะตัะฐะปัะฝะฐั ััะฐัะธััะธะบะฐ ัะตะตัััะฐ

**ะคะพัะผะฐั ัะตะตัััะฐ:**
```json
{
  "version": "1.0",
  "last_updated": "2025-12-04T14:11:00+05:00",
  "total_videos": 500,
  "processed": 3,
  "failed": 0,
  "pending": 497,
  "videos": {
    "HndVzdJuAz0": {
      "video_id": "HndVzdJuAz0",
      "title": "ะััะผะพะน ััะธั: ะัะพัะตัั ะธััะตะปะตะฝะธั ะฑะตะท ะณะตัะพะธะทะผะฐ",
      "channel": "Salamat Sarsekenov",
      "published_date": "2024-03-15T18:30:00Z",
      "duration_seconds": 2340,
      "url": "https://www.youtube.com/watch?v=HndVzdJuAz0",
      "status": "processed",
      "processing_history": [...],
      "files": {
        "raw_subtitles": "data/raw_subtitles/2024/03/2024-03-15_HndVzdJuAz0_ะัะพัะตัั_ะธััะตะปะตะฝะธั.json",
        "sag_json": "data/sag_final/2024/03/2024-03-15_HndVzdJuAz0.for_vector.json",
        "sag_md": "data/sag_final/2024/03/2024-03-15_HndVzdJuAz0.for_review.md"
      },
      "metadata": {...}
    }
  }
}
```

#### **2. YouTube Metadata Fetcher (`utils/youtube_metadata_fetcher.py`)**

ะะพะปััะตะฝะธะต ะฟะพะปะฝัั ะผะตัะฐะดะฐะฝะฝัั ะฒะธะดะตะพ ัะตัะตะท YouTube Data API v3.

**ะะพะทะผะพะถะฝะพััะธ:**
- ะะพะปััะตะฝะธะต ะฝะฐะทะฒะฐะฝะธั, ะบะฐะฝะฐะปะฐ, ะดะฐัั ะฟัะฑะปะธะบะฐัะธะธ, ะดะปะธัะตะปัะฝะพััะธ
- ะะทะฒะปะตัะตะฝะธะต ะพะฟะธัะฐะฝะธั ะธ ัะตะณะพะฒ
- ะัะพะฒะตัะบะฐ ะฝะฐะปะธัะธั ััะฑัะธััะพะฒ ะธ ะธั ัะธะฟะฐ
- Fallback ะฝะฐ ะฑะฐะทะพะฒัะต ะผะตัะฐะดะฐะฝะฝัะต ะฟัะธ ะฝะตะดะพัััะฟะฝะพััะธ API

**ะขัะตะฑะพะฒะฐะฝะธั:**
- API ะบะปัั YouTube Data API v3 ะฒ ะฟะตัะตะผะตะฝะฝะพะน ะพะบััะถะตะฝะธั `YOUTUBE_API_KEY`
- ะะธะฑะปะธะพัะตะบะฐ `google-api-python-client`

#### **3. File Utils (`utils/file_utils.py`)**

ะฃัะธะปะธัั ะดะปั ัะฐะฑะพัั ั ะธะผะตะฝะฐะผะธ ัะฐะนะปะพะฒ ะธ ะฟัััะผะธ.

**ะคัะฝะบัะธะธ:**
- `create_safe_filename()` - ะพัะธััะบะฐ ะฝะฐะทะฒะฐะฝะธะน ะพั ัะฟะตััะธะผะฒะพะปะพะฒ
- `create_filename()` - ัะพะทะดะฐะฝะธะต ะธะผะตะฝ ะฒ ัะพัะผะฐัะต `{date}_{video_id}_{safe_title}.{ext}`
- `get_date_paths()` - ัะพะทะดะฐะฝะธะต ะฟััะตะน ะฟะพ ะดะฐัะฐะผ `{year}/{month}/`

#### **4. Channel List Parser (`utils/channel_list_parser.py`)**

ะฃัะธะปะธัะฐ ะดะปั ะฟะฐััะธะฝะณะฐ ะฝะพะผะตัะพะฒ ะฒะธะดะตะพ ะธะท ัะฟะธัะบะฐ ะบะฐะฝะฐะปะฐ ะธ ะฟัะตะพะฑัะฐะทะพะฒะฐะฝะธั ะธั ะฒ URL.

**ะคัะฝะบัะธะธ:**
- `get_video_by_number()` - ะฟะพะปััะตะฝะธะต ะฒะธะดะตะพ ะฟะพ ะฝะพะผะตัั ะธะท ัะฟะธัะบะฐ
- `resolve_numbers_to_urls()` - ะฟัะตะพะฑัะฐะทะพะฒะฐะฝะธะต ะฝะพะผะตัะพะฒ ะฒ YouTube URL
- `parse_number_spec()` - ะฟะฐััะธะฝะณ ัะฐะทะปะธัะฝัั ัะพัะผะฐัะพะฒ ะฝะพะผะตัะพะฒ (ะพะดะธะฝะพัะฝัะต, ะดะธะฐะฟะฐะทะพะฝั, ัะฟะธัะบะธ)
- `parse_urls_file()` - ะฟะฐััะธะฝะณ ัะฐะนะปะฐ `urls.txt` ั ะฟะพะดะดะตัะถะบะพะน ะฝะพะผะตัะพะฒ ะธ URL

**ะะพะดะดะตัะถะธะฒะฐะตะผัะต ัะพัะผะฐัั ะฝะพะผะตัะพะฒ:**
- ะะดะธะฝะพัะฝัะต: `5`
- ะะธะฐะฟะฐะทะพะฝั: `1-10`
- ะกะฟะธัะบะธ: `1,3,5`
- ะะพะผะฑะธะฝะฐัะธะธ: `1-5,10,15-20`

**ะะฝัะตะณัะฐัะธั:**
- ะะฒัะพะผะฐัะธัะตัะบะธ ะธัะฟะพะปัะทัะตััั ะฒ `pipeline_orchestrator.py` ะฟัะธ ะพะฑัะฐะฑะพัะบะต `urls.txt`
- ะะฐัััะพะนะบะธ ะฒ `config.yaml` โ `channel_list.use_channel_list`

#### **5. Markdown Updater (`utils/markdown_updater.py`)**

ะฃัะธะปะธัะฐ ะดะปั ะพะฑะฝะพะฒะปะตะฝะธั Markdown ัะฐะนะปะฐ ัะพ ัะฟะธัะบะพะผ ะฒะธะดะตะพ ะบะฐะฝะฐะปะฐ ััะฐัััะฐะผะธ ะพะฑัะฐะฑะพัะบะธ.

**ะคัะฝะบัะธะธ:**
- `update_status_columns()` - ะพะฑะฝะพะฒะปะตะฝะธะต ะบะพะปะพะฝะพะบ "ะกัะฐััั" ะธ "ะะฐัะฐ ะพะฑัะฐะฑะพัะบะธ"
- ะกะธะฝััะพะฝะธะทะฐัะธั ั `video_registry.json`
- ะะพะดะดะตัะถะบะฐ ัะฐะทะปะธัะฝัั ัะพัะผะฐัะพะฒ Markdown ัะฐะฑะปะธั

**ะัะฟะพะปัะทะพะฒะฐะฝะธะต:**
```python
from utils.markdown_updater import MarkdownUpdater

updater = MarkdownUpdater(
    markdown_path="data/channel_video_list/channel_videos_list.md",
    registry_path="data/video_registry.json"
)
updater.update_status_columns()
```

### **ะกัััะบัััะฐ ะดะฐะฝะฝัั**

#### **ะัะณะฐะฝะธะทะฐัะธั ัะฐะนะปะพะฒ ะฟะพ ะดะฐัะฐะผ:**

```
data/
โโโ video_registry.json                 # ะะปะฐะฒะฝัะน ัะตะตััั
โโโ channel_video_list/                 # ๐ ะกะฟะธัะพะบ ะฒะธะดะตะพ ะบะฐะฝะฐะปะฐ
โ   โโโ channel_videos_list.json        # ะกัััะบัััะธัะพะฒะฐะฝะฝัะน ัะฟะธัะพะบ ะฒัะตั ะฒะธะดะตะพ
โ   โโโ channel_videos_list.md          # Markdown ะฟัะตะดััะฐะฒะปะตะฝะธะต ัะพ ััะฐัััะฐะผะธ
โโโ raw_subtitles/                      # ะััะพะดะฝัะต ััะฑัะธััั
โ   โโโ 2024/
โ   โ   โโโ 03/
โ   โ   โ   โโโ 2024-03-15_HndVzdJuAz0_ะัะพัะตัั_ะธััะตะปะตะฝะธั.json
โ   โ   โ   โโโ 2024-03-20_WQnmT1vqFUs_ะะฐะฑะพัะฐ_ั_ะฟะฐััะตัะฝะฐะผะธ.json
โ   โ   โโโ 04/
โ   โโโ 2025/
โโโ sag_final/                          # SAG v2.0 ัะตะทัะปััะฐัั
โ   โโโ 2024/
โ   โ   โโโ 03/
โ   โ   โ   โโโ 2024-03-15_HndVzdJuAz0.for_vector.json
โ   โ   โ   โโโ 2024-03-15_HndVzdJuAz0.for_review.md
โ   โ   โ   โโโ ...
โ   โ   โโโ 04/
โ   โโโ 2025/
โโโ chromadb/                           # ะะตะบัะพัะฝะฐั ะะ
```

**ะัะตะธะผััะตััะฒะฐ:**
- โ ะัะณะฐะฝะธะทะฐัะธั ะฟะพ ะดะฐัะฐะผ - ะปะตะณะบะพ ะฝะฐะนัะธ ะฒะธะดะตะพ ะพะฟัะตะดะตะปะตะฝะฝะพะณะพ ะฟะตัะธะพะดะฐ
- โ ะงะธัะฐะตะผัะต ะธะผะตะฝะฐ - ััะฐะทั ะฒะธะดะฝะพ, ััะพ ััะพ ะทะฐ ะฒะธะดะตะพ
- โ ะะฐัััะฐะฑะธััะตะผะพััั - ััััะบัััะฐ ะฝะต ัะฐะทะฒะฐะปะธััั ะฝะฐ 1000+ ะฒะธะดะตะพ
- โ ะะตะณะบะฐั ะพัะธััะบะฐ - ะผะพะถะฝะพ ัะดะฐะปะธัั ััะฐััะต ะดะฐะฝะฝัะต ะฟะพ ะฟะฐะฟะบะฐะผ
- โ ะัะบะฐะฟ-ััะตะฝะดะปะธ - ะฟะฐะฟะบะธ ะฟะพ ะดะฐัะฐะผ ัะดะพะฑะฝะพ ะฐััะธะฒะธัะพะฒะฐัั

### **ะะฝัะตะณัะฐัะธั ะฒ Pipeline**

ะกะธััะตะผะฐ ะฟะพะปะฝะพัััั ะธะฝัะตะณัะธัะพะฒะฐะฝะฐ ะฒ `pipeline_orchestrator.py`:

1. **ะะตัะตะด ะพะฑัะฐะฑะพัะบะพะน:**
   - ะะทะฒะปะตัะตะฝะธะต video_id ะธะท URL
   - ะัะพะฒะตัะบะฐ ะดัะฑะปะธะบะฐัะพะฒ (`registry.is_processed()`)
   - ะะพะปััะตะฝะธะต ะผะตัะฐะดะฐะฝะฝัั ัะตัะตะท YouTube API
   - ะะพะฑะฐะฒะปะตะฝะธะต ะฒ ัะตะตััั (ะตัะปะธ ะฝะพะฒะพะต)

2. **ะะพ ะฒัะตะผั ะพะฑัะฐะฑะพัะบะธ:**
   - ะะฑะฝะพะฒะปะตะฝะธะต ััะฐัััะฐ ะฝะฐ `processing`
   - ะกะพััะฐะฝะตะฝะธะต ัะฐะนะปะพะฒ ั ะดะฐัะฐะผะธ ะธ ะฝะฐะทะฒะฐะฝะธัะผะธ
   - ะะฐะฟะธัั ะฟััะตะน ะบ ัะฐะนะปะฐะผ ะฒ ัะตะตััั

3. **ะะพัะปะต ะพะฑัะฐะฑะพัะบะธ:**
   - ะกะพะทะดะฐะฝะธะต ะทะฐะฟะธัะธ ะพะฑ ะพะฑัะฐะฑะพัะบะต (ProcessingRecord)
   - ะะพะดััะตั ะผะตััะธะบ (ะฑะปะพะบะธ, ัััะฝะพััะธ, ะฒัะตะผั, ััะพะธะผะพััั)
   - ะะฑะฝะพะฒะปะตะฝะธะต ััะฐัััะฐ ะฝะฐ `processed` ะธะปะธ `failed`

### **CLI ะดะปั ัะฟัะฐะฒะปะตะฝะธั ัะตะตัััะพะผ**

#### **ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน:**

```powershell
pip install click google-api-python-client
```

#### **ะัะฟะพะปัะทะพะฒะฐะฝะธะต:**

```powershell
# ะกัะฐัะธััะธะบะฐ ัะตะตัััะฐ
python scripts/manage_registry.py stats

# ะะฝัะพัะผะฐัะธั ะพ ะบะพะฝะบัะตัะฝะพะผ ะฒะธะดะตะพ
python scripts/manage_registry.py info HndVzdJuAz0

# ะกะฟะธัะพะบ ะฝะตะพะฑัะฐะฑะพัะฐะฝะฝัั ะฒะธะดะตะพ
python scripts/manage_registry.py pending

# ะกะฟะธัะพะบ ะฟัะพะฑะปะตะผะฝัั ะฒะธะดะตะพ
python scripts/manage_registry.py failed
```

**ะัะธะผะตั ะฒัะฒะพะดะฐ `stats`:**
```
๐ ะกัะฐัะธััะธะบะฐ ัะตะตัััะฐ ะฒะธะดะตะพ:
==================================================
ะัะตะณะพ ะฒะธะดะตะพ:      500
ะะฑัะฐะฑะพัะฐะฝะพ:       3
ะัะธะฑะพะบ:           0
ะ ะพัะตัะตะดะธ:        497
ะัะตะณะพ ะฑะปะพะบะพะฒ:     15
ะัะตะณะพ ัััะฝะพััะตะน:  37
ะะฐััะฐัั API:      $0.05
ะกัะตะดะฝะธะน ะฑะปะพะบะพะฒ/ะฒะธะดะตะพ: 5.0
==================================================
```

### **ะะธะณัะฐัะธั ัััะตััะฒัััะธั ะดะฐะฝะฝัั**

ะะปั ะดะพะฑะฐะฒะปะตะฝะธั ัะถะต ะพะฑัะฐะฑะพัะฐะฝะฝัั ะฒะธะดะตะพ ะฒ ัะตะตััั:

```powershell
python scripts/migrate_existing_videos.py
```

ะกะบัะธะฟั:
- ะะฐัะพะดะธั ะฒัะต ะพะฑัะฐะฑะพัะฐะฝะฝัะต ะฒะธะดะตะพ ะฒ `data/sag_final/`
- ะะพะปััะฐะตั ะธั ะผะตัะฐะดะฐะฝะฝัะต ัะตัะตะท YouTube API
- ะะพะฑะฐะฒะปัะตั ะฒ ัะตะตััั ั ะธััะพัะธะตะน ะพะฑัะฐะฑะพัะบะธ
- ะกะพััะฐะฝัะตั ะฟััะธ ะบ ัะฐะนะปะฐะผ

### **ะะฐัััะพะนะบะฐ**

#### **1. ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั (.env):**

```env
# ะะปัั ะดะปั YouTube Data API v3 (ะพะฑัะทะฐัะตะปัะฝะพ ะดะปั ะฟะพะปะฝัั ะผะตัะฐะดะฐะฝะฝัั)
YOUTUBE_API_KEY=AIzaSyD7VKqPUiiJYI3XYy6nwYFwUcfZNblQU4w
```

**ะะพะปััะตะฝะธะต API ะบะปััะฐ:**
1. ะะตัะตะนะดะธัะต ะฝะฐ https://console.cloud.google.com/apis/credentials
2. ะกะพะทะดะฐะนัะต ะฝะพะฒัะน ะฟัะพะตะบั ะธะปะธ ะฒัะฑะตัะธัะต ัััะตััะฒัััะธะน
3. ะะบะปััะธัะต YouTube Data API v3
4. ะกะพะทะดะฐะนัะต API ะบะปัั
5. ะะพะฑะฐะฒััะต ะฒ `.env` ัะฐะนะป

#### **2. ะะพะฝัะธะณััะฐัะธั (config.yaml):**

```yaml
pipeline:
  # ะััั ะบ ัะฐะนะปั ัะตะตัััะฐ (ะพะฟัะธะพะฝะฐะปัะฝะพ)
  registry_path: "data/video_registry.json"  # ะะพ ัะผะพะปัะฐะฝะธั
```

### **ะัะตะธะผััะตััะฒะฐ ะฝะพะฒะพะน ัะธััะตะผั**

โ **ะะฐัะธัะฐ ะพั ะดัะฑะปะธะบะฐัะพะฒ** - ะฐะฒัะพะผะฐัะธัะตัะบะฐั ะฟัะพะฒะตัะบะฐ ะฟะตัะตะด ะพะฑัะฐะฑะพัะบะพะน  
โ **ะะพะปะฝะฐั ะธััะพัะธั** - ะบะพะณะดะฐ ะธ ะบะฐะบ ะพะฑัะฐะฑะฐััะฒะฐะปะพัั ะบะฐะถะดะพะต ะฒะธะดะตะพ  
โ **ะงะธัะฐะตะผัะต ะธะผะตะฝะฐ** - ััะฐะทั ะฟะพะฝััะฝะพ, ััะพ ะทะฐ ัะฐะนะป  
โ **ะะฐัััะฐะฑะธััะตะผะพััั** - ััััะบัััะฐ ะฝะต ัะฐะทะฒะฐะปะธััั ะฝะฐ 1000+ ะฒะธะดะตะพ  
โ **ะะตะณะบะธะน ะฟะพะธัะบ** - ะพัะณะฐะฝะธะทะฐัะธั ะฟะพ ะดะฐัะฐะผ  
โ **ะััะปะตะถะธะฒะฐะฝะธะต ะทะฐััะฐั** - ัะบะพะปัะบะพ ะฟะพััะฐัะตะฝะพ ะฝะฐ API  
โ **ะะพะทะพะฑะฝะพะฒะปะตะฝะธะต ะพะฑัะฐะฑะพัะบะธ** - ะฒะธะดะฝะพ, ััะพ ะพััะฐะปะพัั ะพะฑัะฐะฑะพัะฐัั  
โ **CLI ัะฟัะฐะฒะปะตะฝะธะต** - ัะดะพะฑะฝัะต ะบะพะผะฐะฝะดั ะดะปั ะผะพะฝะธัะพัะธะฝะณะฐ  

### **ะะฑัะฐัะฝะฐั ัะพะฒะผะตััะธะผะพััั**

- ะกััะตััะฒัััะธะต ัะฐะนะปั ะพััะฐัััั ะฝะฐ ะผะตััะต
- ะะพะฒัะต ัะฐะนะปั ัะพะทะดะฐัััั ะฟะพ ะฝะพะฒะพะน ััััะบัััะต ั ะดะฐัะฐะผะธ
- ะกัะฐััะต ัะฐะนะปั ะผะพะถะฝะพ ะผะธะณัะธัะพะฒะฐัั ัะตัะตะท `migrate_existing_videos.py`
- ะะตะตััั ะฐะฒัะพะผะฐัะธัะตัะบะธ ัะพะทะดะฐะตััั ะฟัะธ ะฟะตัะฒะพะผ ะทะฐะฟััะบะต

---

## ๐ ะััะธัะตะบัััะฐ ะธ ะบะพะผะฟะพะฝะตะฝัั

### ะกัะตะผะฐ ัะฐะฑะพัั
```
YouTube URL โ ะกัะฑัะธััั โ ะกะตะผะฐะฝัะธัะตัะบะธะต ะฑะปะพะบะธ โ JSON ะดะปั ะฒะตะบัะพัะฝะพะน ะะ
     โ              โ                โ                    โ
1. ะะทะฒะปะตัะตะฝะธะต    2. ะงะธััะบะฐ      3. ะกัััะบัััะฐ      4. ะะตัะฐะดะฐะฝะฝัะต
   ััะฑัะธััะพะฒ       ัะตะบััะฐ         + ัะฐะนะผะบะพะดั        + ID + ัััะปะบะธ
```

### ะะปััะตะฒัะต ะบะพะผะฟะพะฝะตะฝัั

#### 1. **Subtitle Extractor** (`subtitle_extractor/`)
- **ะะฐะทะฝะฐัะตะฝะธะต**: ะะทะฒะปะตัะตะฝะธะต ััะฑัะธััะพะฒ ั YouTube
- **ะขะตัะฝะพะปะพะณะธั**: `youtube-transcript-api`
- **ะะพะดะดะตัะถะธะฒะฐะตะผัะต ัะพัะผะฐัั**:
  - ะะฑััะฝัะต ะฒะธะดะตะพ: `youtube.com/watch?v=ID`
  - ะะพัะพัะบะธะต ัััะปะบะธ: `youtu.be/ID`
  - Live-ััะฐะฝัะปััะธะธ: `youtube.com/live/ID`
- **ะััะพะดะฝัะต ัะพัะผะฐัั**: JSON (ััััะบัััะธัะพะฒะฐะฝะฝัะน), SRT (ััะฐะฝะดะฐััะฝัะน), TXT (ัะธัััะน ัะตะบัั)

#### 2. **Text Processor** (`text_processor/`)
- **ะะฐะทะฝะฐัะตะฝะธะต**: ะัะตะพะฑัะฐะทะพะฒะฐะฝะธะต ััะฑัะธััะพะฒ ะฒ ัะตะผะฐะฝัะธัะตัะบะธะต ะฑะปะพะบะธ ั SAG v2.0
- **ะะพัััะฟะฝัะต ะฟัะพัะตััะพัั**:
  - `sarsekenov_processor.py` โ **SAG v2.0 ะดะพะผะตะฝะฝัะน** (ะฝะตะนัะพััะฐะปะบะธะฝะณ/ะฝะตะพััะฐะปะบะธะฝะณ)
  - `subtitles_to_blocks.py` โ ัะฝะธะฒะตััะฐะปัะฝัะน
- **ะะ-ะผะพะดะตะปะธ**: OpenAI GPT (ะฝะฐัััะฐะธะฒะฐะตะผัะต ัะตัะตะท .env)
- **SAG v2.0 ะฒะพะทะผะพะถะฝะพััะธ**:
  - ะะฒัะพะผะฐัะธัะตัะบะฐั ะบะปะฐััะธัะธะบะฐัะธั ะฑะปะพะบะพะฒ
  - ะะทะฒะปะตัะตะฝะธะต ะณัะฐั-ัััะฝะพััะตะน (442 ัะทะปะฐ + 259 ะพัะฝะพัะตะฝะธะน)
  - ะะพััะพะปะพะณะธัะตัะบะฐั ะพะฑัะฐะฑะพัะบะฐ ััััะบะพะณะพ ัะทัะบะฐ
  - ะฃะผะฝะฐั ะผะฐัััััะธะทะฐัะธั ะฟะพ ะบะพะปะปะตะบัะธัะผ
- **๐ ะกะธััะตะผะฐ ัะบัััะฐะบัะพัะพะฒ ะทะฝะฐะฝะธะน (5 ััะฐะฟะพะฒ)**:
  - **ะญัะฐะฟ 1**: `TerminologyValidator` โ ัะธะปััั ะบะฐัะตััะฒะฐ ัะตัะผะธะฝะพะฒ
  - **ะญัะฐะฟ 2**: `NeurostalkingPatternExtractor` โ ะดะตัะตะบัะพั ะฟะฐััะตัะฝะพะฒ
  - **ะญัะฐะฟ 3**: `CausalChainExtractor` โ ะฟัะธัะธะฝะฝะพ-ัะปะตะดััะฒะตะฝะฝัะต ัะตะฟะพัะบะธ
  - **ะญัะฐะฟ 4**: `ConceptHierarchyExtractor` โ ะธะตัะฐััะธั ะบะพะฝัะตะฟัะพะฒ
  - **ะญัะฐะฟ 5**: `SarsekenovProcessor` โ ะพัะบะตัััะฐัะพั (ะพะฑัะตะดะธะฝัะตั ะฒัั)
- **๐ ะะพะฟะพะปะฝะธัะตะปัะฝัะต ัะบัััะฐะบัะพัั** (LLM-based ะผะพะดัะปะธ):
  - `safety_extractor.py` โ ะะฝัะพัะผะฐัะธั ะพ ะฑะตะทะพะฟะฐัะฝะพััะธ ะธ ะฟัะพัะธะฒะพะฟะพะบะฐะทะฐะฝะธัั
  - `causal_chain_extractor.py` โ ะัะธัะธะฝะฝะพ-ัะปะตะดััะฒะตะฝะฝัะต ัะตะฟะพัะบะธ ะฟัะพัะตััะพะฒ
  - `concept_hierarchy_extractor.py` โ ะะตัะฐััะธั ะบะพะฝัะตะฟัะพะฒ (root/domain/practice/technique)
  - `case_study_extractor.py` โ ะกัััะบัััะธัะพะฒะฐะฝะฝัะต ะบะตะนัั ะฟัะธะผะตะฝะตะฝะธั ะฟัะฐะบัะธะบ
  - `prerequisite_extractor.py` โ ะัะตะดะฟะพััะปะบะธ ะธ ะฟะพัะปะตะดะพะฒะฐัะตะปัะฝะพััั ะพะฑััะตะฝะธั
- **ะะดะต ัะพััะฐะฝััััั ะดะฐะฝะฝัะต ัะบัััะฐะบัะพัะพะฒ**: ะััะผะพ ะฒ ะฑะปะพะบะธ ัะธะฝะฐะปัะฝะพะณะพ JSON (`data/sag_final/{year}/{month}/*.for_vector.json`)

#### 3. **Vector Database** (`vector_db/`)
- **ะะฐะทะฝะฐัะตะฝะธะต**: ะกะตะผะฐะฝัะธัะตัะบะธะน ะฟะพะธัะบ ะฟะพ ะพะฑัะฐะฑะพัะฐะฝะฝัะผ ะดะฐะฝะฝัะผ
- **ะขะตัะฝะพะปะพะณะธั**: ChromaDB + Sentence-Transformers
- **ะะพะดะตะปั ัะผะฑะตะดะดะธะฝะณะพะฒ**: `intfloat/multilingual-e5-large` (1024 dim, ะปะพะบะฐะปัะฝะฐั ะณะตะฝะตัะฐัะธั)
- **ะะพะทะผะพะถะฝะพััะธ**:
  - ะะฝะพะณะพััะพะฒะฝะตะฒะฐั ะธะฝะดะตะบัะฐัะธั (ะดะพะบัะผะตะฝัั, ะฑะปะพะบะธ, ะณัะฐั-ัััะฝะพััะธ)
  - ะกะตะผะฐะฝัะธัะตัะบะธะน ะฟะพะธัะบ ะฟะพ ัะผััะปั
  - ะะธะฑัะธะดะฝัะน ะฟะพะธัะบ ะฟะพ ะฒัะตะผ ะบะพะปะปะตะบัะธัะผ
  - ะคะธะปัััะฐัะธั ะฟะพ ะผะตัะฐะดะฐะฝะฝัะผ
- **ะัะตะธะผััะตััะฒะฐ**: ะะตั ะทะฐััะฐั ะฝะฐ API, ะฝะตั rate limits, ะปะพะบะฐะปัะฝะฐั ะพะฑัะฐะฑะพัะบะฐ

#### 4. **Pipeline Orchestrator** (`pipeline_orchestrator.py`)
- **ะะฐะทะฝะฐัะตะฝะธะต**: ะะพะพัะดะธะฝะฐัะธั ะฒัะตะณะพ ะฟัะพัะตััะฐ
- **ะคัะฝะบัะธะธ**: ะะพะณะธัะพะฒะฐะฝะธะต, ะพะฑัะฐะฑะพัะบะฐ ะพัะธะฑะพะบ, ะฑะฐัั-ัะตะถะธะผ, ะพะฟัะธะพะฝะฐะปัะฝะฐั ะธะฝะดะตะบัะฐัะธั ะฒ ะฒะตะบัะพัะฝัั ะะ
- **ะะพะฝัะธะณััะฐัะธั**: YAML-ัะฐะนะป ั ะฝะฐัััะพะนะบะฐะผะธ

### **ะััะธัะตะบัััะฐ ะพะฑัะฐะฑะพัะบะธ**

```
YouTube URL
    โ
[Subtitle Extractor] โ ะกัััะต ััะฑัะธััั (JSON/SRT/TXT)
    โ
[Text Processor + OpenAI GPT] โ ะกัััะบัััะธัะพะฒะฐะฝะฝัะต ะฑะปะพะบะธ SAG v2.0 (JSON)
    โ
[๐ ะกะธััะตะผะฐ ัะบัััะฐะบัะพัะพะฒ ะทะฝะฐะฝะธะน (5 ััะฐะฟะพะฒ)] โ ะะปัะฑะพะบะฐั ััััะบัััะธะทะฐัะธั
    โโโ ะญัะฐะฟ 1: TerminologyValidator โ ะคะธะปััั ะบะฐัะตััะฒะฐ ัะตัะผะธะฝะพะฒ
    โโโ ะญัะฐะฟ 2: NeurostalkingPatternExtractor โ ะะตัะตะบัะพั ะฟะฐััะตัะฝะพะฒ
    โโโ ะญัะฐะฟ 3: CausalChainExtractor โ ะัะธัะธะฝะฝะพ-ัะปะตะดััะฒะตะฝะฝัะต ัะตะฟะพัะบะธ
    โโโ ะญัะฐะฟ 4: ConceptHierarchyExtractor โ ะะตัะฐััะธั ะบะพะฝัะตะฟัะพะฒ
    โโโ ะญัะฐะฟ 5: SarsekenovProcessor โ ะัะบะตัััะฐัะธั ะธ ะพะฑัะตะดะธะฝะตะฝะธะต
    โ
[๐ SAG v2.0 ะัะฐั-ะบะพะปะปะตะบัะธั] โ ะะฒัะพะผะฐัะธัะตัะบะพะต ะธะทะฒะปะตัะตะฝะธะต (ะฟะฐัะฐะปะปะตะปัะฝะพ)
    โโโ ะัะฐั-ัััะฝะพััะธ (442 ัะทะปะฐ)
    โโโ ะกะตะผะฐะฝัะธัะตัะบะธะต ัะฒัะทะธ (259 ะพัะฝะพัะตะฝะธะน)
    โโโ ะะพัะผะฐะปะธะทะฐัะธั ะธ ะฐะณัะตะณะฐัะธั
    โ
[๐ ะะพะฟะพะปะฝะธัะตะปัะฝัะต LLM-ัะบัััะฐะบัะพัั] โ ะะฐััะธัะตะฝะฝัะต ะดะฐะฝะฝัะต
    โโโ Safety Extractor โ ะะฝัะพัะผะฐัะธั ะพ ะฑะตะทะพะฟะฐัะฝะพััะธ
    โโโ Causal Chain Extractor โ ะัะธัะธะฝะฝะพ-ัะปะตะดััะฒะตะฝะฝัะต ัะตะฟะพัะบะธ
    โโโ Concept Hierarchy Extractor โ ะะตัะฐััะธั ะบะพะฝัะตะฟัะพะฒ
    โโโ Case Study Extractor โ ะกัััะบัััะธัะพะฒะฐะฝะฝัะต ะบะตะนัั
    โโโ Prerequisite Extractor โ ะัะตะดะฟะพััะปะบะธ ะธ ะฟะพัะปะตะดะพะฒะฐัะตะปัะฝะพััั
    โ
[Sentence-Transformers] โ ะญะผะฑะตะดะดะธะฝะณะธ (1024 dim, ะปะพะบะฐะปัะฝะพ)
    โ
[ChromaDB] โ ะะตะบัะพัะฝะฐั ะฑะฐะทะฐ ะดะฐะฝะฝัั (ัะตะผะฐะฝัะธัะตัะบะธะน ะฟะพะธัะบ)
```

**ะะฐะถะฝะพ:** 
- **OpenAI API** ะธัะฟะพะปัะทัะตััั ะดะปั ัะตะบััะพะฒะพะน ะพะฑัะฐะฑะพัะบะธ ะธ ัะฐะฑะพัั ัะบัััะฐะบัะพัะพะฒ (ะฟัะตะพะฑัะฐะทะพะฒะฐะฝะธะต ัััะพะณะพ ัะตะบััะฐ ะฒ ััััะบัััะธัะพะฒะฐะฝะฝัะน JSON)
- **Sentence-Transformers** ะธัะฟะพะปัะทัะตััั ะดะปั ะฒะตะบัะพัะธะทะฐัะธะธ (ะปะพะบะฐะปัะฝะฐั ะณะตะฝะตัะฐัะธั ัะผะฑะตะดะดะธะฝะณะพะฒ)
- **SAG v2.0 ะัะฐั-ะบะพะปะปะตะบัะธั** ัะฐะฑะพัะฐะตั ะฐะฒัะพะผะฐัะธัะตัะบะธ (rule-based, ะฑะตะท API)
- **ะกะธััะตะผะฐ ัะบัััะฐะบัะพัะพะฒ (1-5)** ัะฐะฑะพัะฐะตั ะฟะพัะปะตะดะพะฒะฐัะตะปัะฝะพ ัะตัะตะท LLM
- **ะะฐะฝะฝัะต ัะบัััะฐะบัะพัะพะฒ** ัะพััะฐะฝััััั ะฟััะผะพ ะฒ ะฑะปะพะบะธ ัะธะฝะฐะปัะฝะพะณะพ JSON ัะฐะนะปะฐ

---

## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
voice_bot_pipeline/
โโโ ๐ subtitle_extractor/      # ะะพะดัะปั ะธะทะฒะปะตัะตะฝะธั ััะฑัะธััะพะฒ
โ   โโโ ๐ get_subtitles.py     # ะัะฝะพะฒะฝะพะน ัะบัะธะฟั ะทะฐะณััะทะบะธ
โ   โโโ ๐ README.md            # ะะพะบัะผะตะฝัะฐัะธั ะผะพะดัะปั
โ   โโโ ๐ฆ requirements.txt     # ะะฐะฒะธัะธะผะพััะธ ะผะพะดัะปั
โ   โโโ ๐ scripts/             # ะกะบัะธะฟัั ะฝะฐัััะพะนะบะธ
โ       โโโ ๐ง setup_subtitles.ps1
โ
โโโ ๐ text_processor/          # ะะพะดัะปั ะพะฑัะฐะฑะพัะบะธ ัะตะบััะฐ
โ   โโโ ๐ sarsekenov_processor.py    # ะะพะผะตะฝะฝัะน ะฟัะพัะตััะพั (ะกะฐััะตะบะตะฝะพะฒ) - legacy
โ   โโโ ๐ subtitles_to_blocks.py     # ะฃะฝะธะฒะตััะฐะปัะฝัะน ะฟัะพัะตััะพั
โ   โโโ ๐ transcript_to_json_md.py   # Legacy ะฟัะพัะตััะพั
โ   โโโ ๐ safety_extractor.py        # ๐ ะญะบัััะฐะบัะพั ะฑะตะทะพะฟะฐัะฝะพััะธ
โ   โโโ ๐ case_study_extractor.py    # ๐ ะญะบัััะฐะบัะพั ะบะตะนัะพะฒ
โ   โโโ ๐ prerequisite_extractor.py  # ๐ ะญะบัััะฐะบัะพั ะฟัะตะดะฟะพััะปะพะบ
โ   โโโ ๐ extractors/          # ๐ ะญะบัััะฐะบัะพัั ะทะฝะฐะฝะธะน (ะญัะฐะฟั 1-4)
โ   โ   โโโ ๐ causal_chain_extractor.py      # ะญัะฐะฟ 3: ะัะธัะธะฝะฝะพ-ัะปะตะดััะฒะตะฝะฝัะต ัะตะฟะพัะบะธ
โ   โ   โโโ ๐ concept_hierarchy_extractor.py # ะญัะฐะฟ 4: ะะตัะฐััะธั ะบะพะฝัะตะฟัะพะฒ
โ   โ   โโโ ๐ neurostalking_pattern_extractor.py # ะญัะฐะฟ 2: ะะฐััะตัะฝั ะฝะตะนัะพััะฐะปะบะธะฝะณะฐ
โ   โโโ ๐ orchestrator/        # ๐ ะัะบะตัััะฐัะพั (ะญัะฐะฟ 5)
โ   โ   โโโ ๐ knowledge_graph_builder.py # ะะธะปะดะตั Knowledge Graph (ัะธะฟะธะทะธัะพะฒะฐะฝะฝัะต ะบะปะฐััั)
โ   โ   โโโ ๐ knowledge_graph.py     # ะกัััะบัััะฐ ะดะฐะฝะฝัั ะณัะฐัะฐ ะทะฝะฐะฝะธะน
โ   โโโ ๐ export/              # ๐ ะญะบัะฟะพัั ะดะฐะฝะฝัั
โ   โ   โโโ ๐ rag_formatter.py      # ะคะพัะผะฐัะธัะพะฒะฐะฝะธะต ะดะปั RAG-ัะธััะตะผ
โ   โโโ ๐ validators/          # ๐ ะะฐะปะธะดะฐัะพัั (ะญัะฐะฟ 1)
โ   โ   โโโ ๐ terminology_validator.py # ะะฐะปะธะดะฐัะธั ัะตัะผะธะฝะพะปะพะณะธะธ
โ   โโโ ๐ scripts/             # ะกะบัะธะฟัั ะฝะฐัััะพะนะบะธ
โ       โโโ ๐ง setup_tp.ps1
โ
โโโ ๐ vector_db/               # ๐ ะะพะดัะปั ะฒะตะบัะพัะฝะพะน ะฑะฐะทั ะดะฐะฝะฝัั
โ   โโโ ๐ chromadb_manager.py  # ะะตะฝะตะดะถะตั ChromaDB
โ   โโโ ๐ embedding_service.py # ะกะตัะฒะธั ัะผะฑะตะดะดะธะฝะณะพะฒ (Sentence-Transformers)
โ   โโโ ๐ vector_indexer.py    # ะะฝะดะตะบัะฐัะธั ะฒ ะฒะตะบัะพัะฝัั ะะ
โ   โโโ ๐ vector_search.py     # ะกะตะผะฐะฝัะธัะตัะบะธะน ะฟะพะธัะบ
โ
โโโ ๐ data/                    # ะะฐะฝะฝัะต ะฟัะพะตะบัะฐ
โ   โโโ ๐ video_registry.json  # ๐ ะะตะตััั ะฒัะตั ะฒะธะดะตะพ
โ   โโโ ๐ raw_subtitles/       # ะกัััะต ััะฑัะธััั ะธ ะปะพะณะธ ะฟะฐะนะฟะปะฐะนะฝะฐ
โ   โ   โโโ ๐ {year}/{month}/  # ๐ ะัะณะฐะฝะธะทะฐัะธั ะฟะพ ะดะฐัะฐะผ
โ   โ   โ   โโโ ๐ {date}_{video_id}_{title}.json
โ   โ   โ   โโโ ๐ {date}_{video_id}_{title}.srt
โ   โ   โ   โโโ ๐ {date}_{video_id}_{title}.txt
โ   โ   โโโ ๐ batch_pipeline_results_*.json # ะะพะณะธ ะฟะฐะบะตัะฝะพะน ะพะฑัะฐะฑะพัะบะธ
โ   โโโ ๐ sag_final/           # ะคะธะฝะฐะปัะฝัะต SAG v2.0 ะดะฐะฝะฝัะต
โ   โ   โโโ ๐ {year}/{month}/  # ๐ ะัะณะฐะฝะธะทะฐัะธั ะฟะพ ะดะฐัะฐะผ
โ   โ   โ   โโโ ๐ {date}_{video_id}_{title}.for_vector.json
โ   โ   โ   โโโ ๐ {date}_{video_id}_{title}.for_review.md
โ   โโโ ๐ chromadb/            # ะะตะบัะพัะฝะฐั ะฑะฐะทะฐ ะดะฐะฝะฝัั ChromaDB
โ
โโโ ๐ scripts/                 # ะกะบัะธะฟัั ัะฟัะฐะฒะปะตะฝะธั
โ   โโโ ๐ง setup_all.ps1        # ะะพะปะฝะฐั ะฝะฐัััะพะนะบะฐ ะพะบััะถะตะฝะธั
โ   โโโ ๐ง run_full_pipeline.ps1 # ะัััััะน ะทะฐะฟััะบ
โ   โโโ ๐ manage_registry.py   # ๐ CLI ะดะปั ัะฟัะฐะฒะปะตะฝะธั ัะตะตัััะพะผ
โ   โโโ ๐ migrate_existing_videos.py # ๐ ะะธะณัะฐัะธั ัััะตััะฒัััะธั ะดะฐะฝะฝัั
โ   โโโ ๐ index_existing_files.py   # ๐ ะะฝะดะตะบัะฐัะธั ัััะตััะฒัััะธั ัะฐะนะปะพะฒ
โ   โโโ ๐ reset_vector_db.py   # ๐ ะกะฑัะพั ะฒะตะบัะพัะฝะพะน ะะ
โ   โโโ ๐ find_sarsekenov_urls.py   # ๐ ะะพะธัะบ URL ะฒะธะดะตะพ ะกะฐััะตะบะตะฝะพะฒะฐ
โ   โโโ ๐ test_vector_search.py     # ๐ ะขะตััะธัะพะฒะฐะฝะธะต ะฒะตะบัะพัะฝะพะณะพ ะฟะพะธัะบะฐ
โ   โโโ ๐ test_vectorization_speed.py # ๐ ะขะตัั ัะบะพัะพััะธ ะฒะตะบัะพัะธะทะฐัะธะธ
โ
โโโ ๐ utils/                   # ๐ ะฃัะธะปะธัั ะดะปั ัะฟัะฐะฒะปะตะฝะธั ะฒะธะดะตะพ
โ   โโโ ๐ video_registry.py    # ๐ ะะตะตััั ะฒะธะดะตะพ
โ   โโโ ๐ youtube_metadata_fetcher.py # ๐ ะะพะปััะตะฝะธะต ะผะตัะฐะดะฐะฝะฝัั
โ   โโโ ๐ file_utils.py        # ๐ ะฃัะธะปะธัั ะดะปั ัะฐะนะปะพะฒ
โ   โโโ ๐ channel_list_parser.py # ๐ ะะฐััะตั ัะฟะธัะบะฐ ะฒะธะดะตะพ ะบะฐะฝะฐะปะฐ
โ   โโโ ๐ markdown_updater.py  # ๐ ะะฑะฝะพะฒะปะตะฝะธะต Markdown ัะพ ััะฐัััะฐะผะธ
โ
โโโ ๐ tests/                   # ๐ ะขะตััั ะฟัะพะตะบัะฐ
โ   โโโ ๐ extractors/          # ะขะตััั ัะบัััะฐะบัะพัะพะฒ (96 ัะตััะพะฒัั ััะฝะบัะธะน)
โ   โ   โโโ ๐ test_terminology_validator.py      # 13 ัะตััะพะฒ: ะฒะฐะปะธะดะฐัะธั ัะตัะผะธะฝะพะฒ, ัะตะถะธะผั (SMART/SOFT/STRICT/OFF)
โ   โ   โโโ ๐ test_neurostalking_pattern_extractor.py  # 12 ัะตััะพะฒ: ะฟะฐััะตัะฝั ััะธะฐะดั, ะฒะฝะธะผะฐะฝะธั, ัะฐะทะพัะพะถะดะตััะฒะปะตะฝะธั, ัะพััะพัะฝะธะน
โ   โ   โโโ ๐ test_causal_chain_extractor.py     # 20 ัะตััะพะฒ: ัะตะฟะพัะบะธ, ัะธััะตะผะฝัะต ัะฒัะทะธ, ัะพัะบะธ ะฒะผะตัะฐัะตะปัััะฒะฐ, ัะธะบะปั
โ   โ   โโโ ๐ test_concept_hierarchy_extractor.py # 8 ัะตััะพะฒ: 5 ััะพะฒะฝะตะน ะธะตัะฐััะธะธ, ัะฒัะทะธ ัะพะดะธัะตะปั-ะฟะพัะพะผะพะบ, ัะฟัะฐะถะฝะตะฝะธั
โ   โ   โโโ ๐ run_causal_chain_tests.py          # ะกะบัะธะฟั ะทะฐะฟััะบะฐ ัะตััะพะฒ ัะตะฟะพัะตะบ ั ัะตะฐะปัะฝัะผะธ ัะตะบััะฐะผะธ
โ   โโโ ๐ orchestrator/        # ะขะตััั ะพัะบะตัััะฐัะพัะฐ (11 ัะตััะพะฒัั ััะฝะบัะธะน)
โ   โ   โโโ ๐ test_sarsekenov_processor.py       # 11 ัะตััะพะฒ: ะฟะพะปะฝัะน workflow, ะณัะฐั ะทะฝะฐะฝะธะน, ะฟะพะธัะบ ะฟัะฐะบัะธะบ, ัะตะบะพะผะตะฝะดะฐัะธะธ
โ   โ   โโโ ๐ test_knowledge_graph.py            # 12 ัะตััะพะฒ: ัะทะปั, ัะฒัะทะธ, ะฟััะธ, ััะฐัะธััะธะบะฐ, ัะตัะธะฐะปะธะทะฐัะธั
โ   โ   โโโ ๐ test_rag_formatter.py              # 10 ัะตััะพะฒ: ัะพัะผะฐัะธัะพะฒะฐะฝะธะต ะดะปั RAG, ัะบัะฟะพัั JSON, ัะผะฑะตะดะดะธะฝะณะธ
โ   โโโ ๐ integration/         # ะะฝัะตะณัะฐัะธะพะฝะฝัะต ัะตััั (7 ัะตััะพะฒัั ััะฝะบัะธะน)
โ   โ   โโโ ๐ test_all_extractors.py            # 7 ัะตััะพะฒ: ะฟะพะปะฝัะน pipeline ะฒัะตั ัะบัััะฐะบัะพัะพะฒ, ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััั
โ   โโโ ๐ fixtures/            # ะขะตััะพะฒัะต ะดะฐะฝะฝัะต
โ       โโโ ๐ real_sarsekenov_texts.py           # ะะตะฐะปัะฝัะต ัะตะบััั ะธะท ะปะตะบัะธะน ะกะฐััะตะบะตะฝะพะฒะฐ ะดะปั ัะตััะธัะพะฒะฐะฝะธั
โ
โโโ ๐ config/                  # ๐ ะะพะฝัะธะณััะฐัะธะพะฝะฝัะต ัะฐะนะปั
โ   โโโ ๐ extractors_config.yaml # ะะพะฝัะธะณััะฐัะธั ัะบัััะฐะบัะพัะพะฒ
โ   โโโ ๐ terminology/         # ะขะตัะผะธะฝะพะปะพะณะธั ะดะปั ะฒะฐะปะธะดะฐัะธะธ
โ       โโโ ๐ forbidden_terms.json
โ       โโโ ๐ sarsekenov_terms.json
โ       โโโ ๐ term_categories.json
โ
โโโ โ๏ธ config.yaml              # ะะพะฝัะธะณััะฐัะธั ะฟะฐะนะฟะปะฐะนะฝะฐ
โโโ ๐ pipeline_orchestrator.py # ะะปะฐะฒะฝัะน ะพัะบะตัััะฐัะพั (๐ ะธะฝัะตะณัะธัะพะฒะฐะฝ ัะตะตััั)
โโโ ๐ env_utils.py             # ะฃัะธะปะธัั ะพะบััะถะตะฝะธั
โโโ ๐ run_test.py              # ๐ ะกะบัะธะฟั ะทะฐะฟััะบะฐ ัะตััะพะฒ
โโโ ๐ run_chain_test.py        # ๐ ะขะตัั ัะตะฟะพัะตะบ
โโโ ๐ฆ requirements.txt         # ะัะฝะพะฒะฝัะต ะทะฐะฒะธัะธะผะพััะธ (๐ ะดะพะฑะฐะฒะปะตะฝั click, google-api-python-client)
โโโ ๐ urls.txt                 # ะกะฟะธัะพะบ URL ะดะปั ะพะฑัะฐะฑะพัะบะธ
โโโ ๐ .env                     # ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั (๐ ะดะพะฑะฐะฒะปะตะฝ YOUTUBE_API_KEY)
โโโ ๐ BATCH_PROCESSING_GUIDE.md # ๐ ะัะบะพะฒะพะดััะฒะพ ะฟะพ ะฟะฐะบะตัะฝะพะน ะพะฑัะฐะฑะพัะบะต
โโโ ๐ DEVELOPMENT_GUIDELINES.md # ๐ ะัะบะพะฒะพะดััะฒะพ ะฟะพ ัะฐะทัะฐะฑะพัะบะต
โโโ ๐ EXTRACTORS_DEVELOPMENT_REPORT.md # ๐ ะััะตั ะพ ัะฐะทัะฐะฑะพัะบะต ัะบัััะฐะบัะพัะพะฒ
โโโ ๐ pipeline.log             # ะะพะณ ะฒัะฟะพะปะฝะตะฝะธั ะฟะฐะนะฟะปะฐะนะฝะฐ
โโโ ๐ test_results.txt         # ๐ ะะตะทัะปััะฐัั ัะตััะพะฒ
โโโ ๐ embedding_test_results.json # ๐ ะะตะทัะปััะฐัั ัะตััะพะฒ ัะผะฑะตะดะดะธะฝะณะพะฒ
โโโ ๐ README.md               # ะญัะฐ ะดะพะบัะผะตะฝัะฐัะธั
```

---

## ๐งช ะกะธััะตะผะฐ ัะตััะธัะพะฒะฐะฝะธั

### ะะฑะทะพั ัะตััะพะฒ

ะัะพะตะบั ะฒะบะปััะฐะตั **96+ ัะตััะพะฒัั ััะฝะบัะธะน**, ะฟะพะบััะฒะฐััะธั ะฒัะต ะพัะฝะพะฒะฝัะต ะบะพะผะฟะพะฝะตะฝัั ัะธััะตะผั:

#### **ะขะตััั ัะบัััะฐะบัะพัะพะฒ** (`tests/extractors/`)
- **test_terminology_validator.py** (13 ัะตััะพะฒ): ะัะพะฒะตัะบะฐ ะฒะฐะปะธะดะฐัะธะธ ัะตัะผะธะฝะพะฒ ะกะฐััะตะบะตะฝะพะฒะฐ, ัะตะถะธะผั ัะฐะฑะพัั (SMART/SOFT/STRICT/OFF), ะธะทะฒะปะตัะตะฝะธะต ัััะฝะพััะตะน, ะทะฐะผะตะฝะฐ ะทะฐะฟัะตััะฝะฝัั ัะตัะผะธะฝะพะฒ
- **test_neurostalking_pattern_extractor.py** (12 ัะตััะพะฒ): ะะทะฒะปะตัะตะฝะธะต ะฟะฐััะตัะฝะพะฒ ััะธะฐะดั ััะฐะฝััะพัะผะฐัะธะธ, ัะฐะฑะพัั ั ะฒะฝะธะผะฐะฝะธะตะผ, ัะฐะทะพัะพะถะดะตััะฒะปะตะฝะธั, ัะพััะพัะฝะธะน ัะพะทะฝะฐะฝะธั
- **test_causal_chain_extractor.py** (20 ัะตััะพะฒ): ะัะธัะธะฝะฝะพ-ัะปะตะดััะฒะตะฝะฝัะต ัะตะฟะพัะบะธ, ัะธััะตะผะฝัะต ัะฒัะทะธ `emerges_from`, ัะพัะบะธ ะฒะผะตัะฐัะตะปัััะฒะฐ, ัะธะบะปะธัะตัะบะธะต ะฟัะพัะตััั
- **test_concept_hierarchy_extractor.py** (8 ัะตััะพะฒ): 5 ััะพะฒะฝะตะน ะธะตัะฐััะธะธ (root/domain/practice/technique/exercise), ัะฒัะทะธ ัะพะดะธัะตะปั-ะฟะพัะพะผะพะบ, ะฟะฐัะฐะผะตััั ัะฟัะฐะถะฝะตะฝะธะน
- **run_causal_chain_tests.py**: ะกะบัะธะฟั ะดะปั ะทะฐะฟััะบะฐ ัะตััะพะฒ ัะตะฟะพัะตะบ ั ัะตะฐะปัะฝัะผะธ ัะตะบััะฐะผะธ ะธะท ะปะตะบัะธะน

#### **ะขะตััั ะพัะบะตัััะฐัะพัะฐ** (`tests/orchestrator/`)
- **test_sarsekenov_processor.py** (11 ัะตััะพะฒ): ะะพะปะฝัะน workflow ะพะฑัะฐะฑะพัะบะธ, ะฟะพัััะพะตะฝะธะต ะณัะฐัะฐ ะทะฝะฐะฝะธะน, ะฟะพะธัะบ ะฟัะฐะบัะธะบ ะดะปั ัะธะผะฟัะพะผะพะฒ, ัะตะบะพะผะตะฝะดะฐัะธะธ ัะฟัะฐะถะฝะตะฝะธะน
- **test_knowledge_graph.py** (12 ัะตััะพะฒ): ะะพะฑะฐะฒะปะตะฝะธะต ัะทะปะพะฒ ะธ ัะฒัะทะตะน, ะฟะพะธัะบ ะฟััะตะน ะผะตะถะดั ะบะพะฝัะตะฟัะฐะผะธ, ะฟะพัััะพะตะฝะธะต ัะตะฟะพัะตะบ ัะฐัััะถะดะตะฝะธะน, ััะฐัะธััะธะบะฐ ะณัะฐัะฐ
- **test_rag_formatter.py** (10 ัะตััะพะฒ): ะคะพัะผะฐัะธัะพะฒะฐะฝะธะต ะดะฐะฝะฝัั ะดะปั RAG-ัะธััะตะผ, ัะบัะฟะพัั ะฒ JSON, ะฟะพะดะณะพัะพะฒะบะฐ ะดะปั ัะผะฑะตะดะดะธะฝะณะพะฒ

#### **ะะฝัะตะณัะฐัะธะพะฝะฝัะต ัะตััั** (`tests/integration/`)
- **test_all_extractors.py** (7 ัะตััะพะฒ): ะะพะปะฝัะน pipeline ะฒัะตั ัะบัััะฐะบัะพัะพะฒ ะฒะผะตััะต, ะฟัะพะฒะตัะบะฐ ัะพะฒะผะตััะธะผะพััะธ, ัะตััะธัะพะฒะฐะฝะธะต ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััะธ

#### **ะขะตััะพะฒัะต ะดะฐะฝะฝัะต** (`tests/fixtures/`)
- **real_sarsekenov_texts.py**: ะะตะฐะปัะฝัะต ััะฐะณะผะตะฝัั ะธะท ะปะตะบัะธะน ะกะฐะปะฐะผะฐัะฐ ะกะฐััะตะบะตะฝะพะฒะฐ ะดะปั ะธะฝัะตะณัะฐัะธะพะฝะฝะพะณะพ ัะตััะธัะพะฒะฐะฝะธั

### ะะฐะฟััะบ ัะตััะพะฒ

```powershell
# ะะบัะธะฒะฐัะธั ะพะบััะถะตะฝะธั
.\.venv\Scripts\Activate.ps1

# ะะฐะฟััะบ ะฒัะตั ัะตััะพะฒ
pytest tests/ -v

# ะะฐะฟััะบ ัะตััะพะฒ ะบะพะฝะบัะตัะฝะพะณะพ ะผะพะดัะปั
pytest tests/extractors/test_terminology_validator.py -v

# ะะฐะฟััะบ ัะตััะพะฒ ั ะฟะพะบัััะธะตะผ
pytest tests/ --cov=text_processor --cov-report=html

# ะะฐะฟััะบ ะธะฝัะตะณัะฐัะธะพะฝะฝัั ัะตััะพะฒ
pytest tests/integration/ -v

# ะะฐะฟััะบ ัะตััะพะฒ ัะตะฟะพัะตะบ ั ัะตะฐะปัะฝัะผะธ ัะตะบััะฐะผะธ
python tests/extractors/run_causal_chain_tests.py
```

### ะะพะบัััะธะต ัะตััะฐะผะธ

- **ะญะบัััะฐะบัะพัั**: 100% ะฟะพะบัััะธะต ะพัะฝะพะฒะฝัั ััะฝะบัะธะน
- **ะะฐะปะธะดะฐัะพัั**: 100% ะฟะพะบัััะธะต ะฒัะตั ัะตะถะธะผะพะฒ ัะฐะฑะพัั
- **ะัะบะตัััะฐัะพั**: ะัะฝะพะฒะฝัะต workflow ะฟะพะบัััั ัะตััะฐะผะธ
- **ะะฝัะตะณัะฐัะธั**: ะะพะปะฝัะน pipeline ะฟัะพัะตััะธัะพะฒะฐะฝ ะฝะฐ ัะตะฐะปัะฝัั ะดะฐะฝะฝัั

---

## ๐ ะัััััะน ััะฐัั

### ๐ **ะะพะฒัะต ะฒะพะทะผะพะถะฝะพััะธ SAG v2.0:**
- **ะะฒัะพะผะฐัะธัะตัะบะฐั ะบะปะฐััะธัะธะบะฐัะธั**: ะขะธะฟั ะฑะปะพะบะพะฒ, ัะผะพัะธะพะฝะฐะปัะฝัะต ัะพะฝะฐ, ัะปะพะถะฝะพััั
- **ะัะฐั-ัััะฝะพััะธ**: ะะพัะผะฐะปะธะทะฐัะธั ะธ ะฐะณัะตะณะฐัะธั ะดะปั ะณัะฐัะพะฒ ะทะฝะฐะฝะธะน
- **ะะพััะพะปะพะณะธัะตัะบะฐั ะพะฑัะฐะฑะพัะบะฐ**: ะัััะบะธะน ัะทัะบ ั ะฟัะฐะฒะธะปัะฝัะผะธ ะณัะฐะผะผะฐัะธัะตัะบะธะผะธ ัะพัะผะฐะผะธ
- **ะฃะผะฝะฐั ะผะฐัััััะธะทะฐัะธั**: ะะปะฐััะธัะธะบะฐัะธั ะฟะพ ะบะพะปะปะตะบัะธัะผ ั ะผะตััะธะบะพะน ัะฒะตัะตะฝะฝะพััะธ

### ะจะฐะณ 1: ะะพะดะณะพัะพะฒะบะฐ ะพะบััะถะตะฝะธั

```powershell
# ะะฒัะพะผะฐัะธัะตัะบะฐั ะฝะฐัััะพะนะบะฐ (ัะตะบะพะผะตะฝะดัะตััั)
.\scripts\setup_all.ps1
```

**ะงัะพ ะดะตะปะฐะตั ัะบัะธะฟั:**
- ะัะพะฒะตััะตั ะฝะฐะปะธัะธะต Python 3.8+
- ะกะพะทะดะฐะตั ะฒะธัััะฐะปัะฝะพะต ะพะบััะถะตะฝะธะต `.venv`
- ะฃััะฐะฝะฐะฒะปะธะฒะฐะตั ะฒัะต ะทะฐะฒะธัะธะผะพััะธ
- ะกะพะทะดะฐะตั ะฝะตะพะฑัะพะดะธะผัะต ะฟะฐะฟะบะธ
- ะัะพะฒะตััะตั ะดะพัััะฟะฝะพััั FFmpeg (ะฟัะธ ะฝะตะพะฑัะพะดะธะผะพััะธ)

### ะจะฐะณ 2: ะะฐัััะพะนะบะฐ API ะบะปััะตะน ะธ ะผะพะดะตะปะตะน

ะกะพะทะดะฐะนัะต ัะฐะนะป `.env` ะฒ ะบะพัะฝะต ะฟัะพะตะบัะฐ:

```env
# ========================================
# ะะกะะะะะซะ ะะะกะขะะะะะ
# ========================================

# ะะปัั OpenAI API (ะะะฏะะะขะะะฌะะ ะดะปั ัะตะบััะพะฒะพะน ะพะฑัะฐะฑะพัะบะธ)
# ะัะฟะพะปัะทัะตััั ะฒ text_processor/ ะดะปั ะฟัะตะพะฑัะฐะทะพะฒะฐะฝะธั ัััะพะณะพ ัะตะบััะฐ ะฒ JSON
OPENAI_API_KEY=sk-proj-ะฒะฐั_ะบะปัั_ะทะดะตัั

# ๐ ะะปัั ะดะปั YouTube Data API v3 (ะะะฏะะะขะะะฌะะ ะดะปั ะฟะพะปะฝัั ะผะตัะฐะดะฐะฝะฝัั)
# ะะพะปััะธัั ะฝะฐ: https://console.cloud.google.com/apis/credentials
YOUTUBE_API_KEY=AIzaSyD7VKqPUiiJYI3XYy6nwYFwUcfZNblQU4w

# ========================================
# ะะะะะะ ะะะฏ ะะะะะะะขะะ ะขะะะกะขะ (OpenAI)
# ========================================

# ะัะฝะพะฒะฝะฐั ะผะพะดะตะปั ะดะปั ัะฐะทะฑะธะฒะบะธ ะฝะฐ ะฑะปะพะบะธ
# ะะตะบะพะผะตะฝะดัะตััั: gpt-4o-mini (ะฑััััะพ + ะดะตัะตะฒะพ)
PRIMARY_MODEL=gpt-4o-mini

# ========================================
# ะะะะะะ ะะะฏ ะญะะะะะะะะะะ (Sentence-Transformers)
# ========================================

# ะัะพะฒะฐะนะดะตั ัะผะฑะตะดะดะธะฝะณะพะฒ
MODEL_EMBEDDING=sentence-transformers

# ะะพะดะตะปั Sentence-Transformers ะดะปั ะฒะตะบัะพัะธะทะฐัะธะธ
# ะะตะบะพะผะตะฝะดัะตััั: intfloat/multilingual-e5-large (ะปัััะตะต ะบะฐัะตััะฒะพ ะดะปั ััััะบะพะณะพ ัะทัะบะฐ)
SENTENCE_TRANSFORMERS_MODEL=intfloat/multilingual-e5-large

# ะฃัััะพะนััะฒะพ ะดะปั ะพะฑัะฐะฑะพัะบะธ (cuda/cpu/mps ะธะปะธ ะฟัััะพ ะดะปั ะฐะฒัะพะพะฟัะตะดะตะปะตะฝะธั)
# ะะฒัะพะผะฐัะธัะตัะบะธ ะธัะฟะพะปัะทัะตั GPU ะตัะปะธ ะดะพัััะฟะตะฝ, ะธะฝะฐัะต CPU
# SENTENCE_TRANSFORMERS_DEVICE=cuda  # ะะฐัะบะพะผะผะตะฝัะธััะนัะต ะดะปั ะฟัะธะฝัะดะธัะตะปัะฝะพะณะพ ะธัะฟะพะปัะทะพะฒะฐะฝะธั GPU

# ะะพะดะตะปั ะดะปั ะฟะพะปะธัะพะฒะบะธ ัะตะทัะปััะฐัะพะฒ (ะพะฟัะธะพะฝะฐะปัะฝะพ)
# ะะตะบะพะผะตะฝะดัะตััั: gpt-4o-mini (ะผะพะดะตะปะธ gpt-5 ะตัั ะฝะต ัััะตััะฒัะตั!)
# ะััะฐะฒััะต ะฟััััะผ ะดะปั ะพัะบะปััะตะฝะธั
REFINE_MODEL=gpt-4o-mini

# ========================================
# OpenAI API Settings (ะพะฟัะธะผะธะทะธัะพะฒะฐะฝะฝัะต ะทะฝะฐัะตะฝะธั)
# ========================================

# ะขะฐะนะผะฐัั ะพะถะธะดะฐะฝะธั ะพัะฒะตัะฐ ะพั API (ะฒ ัะตะบัะฝะดะฐั)
# ะะตะบะพะผะตะฝะดัะตััั 180 ัะตะบ ะดะปั ะดะปะธะฝะฝัั ะปะตะบัะธะน (ะฑะพะปััะธะต ัะฐะฝะบะธ ััะตะฑััั ะฑะพะปััะต ะฒัะตะผะตะฝะธ)
OPENAI_API_TIMEOUT=180.0

# ะะฐะดะตัะถะบะฐ ะผะตะถะดั ะทะฐะฟัะพัะฐะผะธ ะบ OpenAI API (ะฒ ัะตะบัะฝะดะฐั)
# ะะตะบะพะผะตะฝะดัะตััั 2.0 ะดะปั ััะฐะฑะธะปัะฝะพะน ัะฐะฑะพัั
OPENAI_API_DELAY=2.0

# ะะพะปะธัะตััะฒะพ ะฟะพะฒัะพัะฝัั ะฟะพะฟััะพะบ ะฟัะธ ะพัะธะฑะบะฐั (429, 500, 503, timeout)
OPENAI_API_MAX_RETRIES=3

# ะะฐะทะฐ ะดะปั ัะบัะฟะพะฝะตะฝัะธะฐะปัะฝะพะณะพ backoff (ัะตะบัะฝะดั)
# ะัะธ base=2.0: ะทะฐะดะตัะถะบะธ ะฑัะดัั 2, 4, 8 ัะตะบัะฝะด ะผะตะถะดั retry
OPENAI_API_RETRY_BACKOFF_BASE=2.0

# ========================================
# ะะะะะะะะขะะะฌะะซะ ะะะกะขะะะะะ (ะพะฟัะธะพะฝะฐะปัะฝะพ)
# ========================================

# ะะปั Neo4j (ะตัะปะธ ะฟะปะฐะฝะธััะตัะต ะณัะฐั-ะะ)
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=password

# Google Cloud (ะตัะปะธ ะฝัะถะฝะพ)
GOOGLE_CLOUD_PROJECT=your-project-id
```

### ะจะฐะณ 3: ะะพะดะณะพัะพะฒะบะฐ URL

ะะพะฑะฐะฒััะต ัััะปะบะธ ะฒ ัะฐะนะป `urls.txt` (ะฟะพ ะพะดะฝะพะน ะฝะฐ ัััะพะบั):

```text
https://youtu.be/R39dqh5wA9U
https://youtube.com/watch?v=VIDEO_ID_2
https://youtube.com/live/LIVE_ID_3
```

### ะจะฐะณ 4: ะะฐะฟััะบ

```powershell
# ะะบัะธะฒะฐัะธั ะพะบััะถะตะฝะธั
.\.venv\Scripts\Activate.ps1

# ๐ SAG v2.0 ะะฐะฟััะบ ะฟะพะปะฝะพะณะพ ะฟะฐะนะฟะปะฐะนะฝะฐ
python pipeline_orchestrator.py --config config.yaml

# ๐ SAG v2.0 ะััะผะฐั ะพะฑัะฐะฑะพัะบะฐ ั ะดะพะผะตะฝะฝัะผ ะฟัะพัะตััะพัะพะผ
python -m text_processor.sarsekenov_processor --input data/subtitles/VIDEO_ID.json --output data/sag_final --primary-model gpt-4o-mini --refine-model gpt-4o-mini
```

**๐ฏ ะงัะพ ะฟัะพะธััะพะดะธั:**
1. ะงะธัะฐะตั URL ะธะท `urls.txt`
2. ๐ **ะัะพะฒะตััะตั ัะตะตััั ะฝะฐ ะดัะฑะปะธะบะฐัั** - ะฟัะพะฟััะบะฐะตั ัะถะต ะพะฑัะฐะฑะพัะฐะฝะฝัะต
3. ๐ **ะะพะปััะฐะตั ะผะตัะฐะดะฐะฝะฝัะต ัะตัะตะท YouTube API** - ะฝะฐะทะฒะฐะฝะธะต, ะบะฐะฝะฐะป, ะดะฐัะฐ ะฟัะฑะปะธะบะฐัะธะธ
4. ะะฐะณััะถะฐะตั ััะฑัะธััั ั YouTube
5. ๐ **ะกะพััะฐะฝัะตั ัะฐะนะปั ั ะดะฐัะฐะผะธ ะธ ะฝะฐะทะฒะฐะฝะธัะผะธ** - ััััะบัััะฐ `{year}/{month}/`
6. ๐ **SAG v2.0 ะะฑัะฐะฑะฐััะฒะฐะตั ัะตัะตะท ะดะพะผะตะฝะฝัะน ะฟัะพัะตััะพั**:
   - ะะฐะณััะถะฐะตััั ะฟะพะปะฝะฐั ะณัะฐั-ะบะพะปะปะตะบัะธั (442 ัะทะปะฐ + 259 ะพัะฝะพัะตะฝะธะน)
   - ะะฒัะพะผะฐัะธัะตัะบะฐั ะบะปะฐััะธัะธะบะฐัะธั ะฑะปะพะบะพะฒ
   - ะะทะฒะปะตัะตะฝะธะต ะดะพ 30 ะณัะฐั-ัััะฝะพััะตะน ั ะฟัะธะพัะธัะธะทะฐัะธะตะน
   - ะะฝะฐะปะธะท ัะตะผะฐะฝัะธัะตัะบะธั ัะฒัะทะตะน ะผะตะถะดั ะบะพะฝัะตะฟัะฐะผะธ
   - ะะพััะพะปะพะณะธัะตัะบะฐั ะพะฑัะฐะฑะพัะบะฐ ััััะบะพะณะพ ัะทัะบะฐ
   - ะฃะผะฝะฐั ะผะฐัััััะธะทะฐัะธั ะฟะพ ะบะพะปะปะตะบัะธัะผ
7. ๐ **SAG v2.0 ะกะพััะฐะฝัะตั ัะตะทัะปััะฐัั ะฒ `data/sag_final/{year}/{month}/`**:
   - JSON ั ัะฐััะธัะตะฝะฝัะผะธ ะผะตัะฐะดะฐะฝะฝัะผะธ (ััะตะผะฐ v2.0)
   - ะัะฐั-ัััะฝะพััะธ ะฝะฐ ััะพะฒะฝะต ะดะพะบัะผะตะฝัะฐ
   - ะกะตะผะฐะฝัะธัะตัะบะธะต ัะฒัะทะธ ะผะตะถะดั ะบะพะฝัะตะฟัะฐะผะธ
   - Overview ั ะฒะฐะปะธะดะฐัะธะตะน ะดะปะธะฝั (200+ ัะธะผะฒะพะปะพะฒ)
   - ะะพััะพะปะพะณะธัะตัะบะธะต ัะปัััะตะฝะธั
8. ๐ **ะะฐะฟะธััะฒะฐะตั ะฒ ัะตะตััั** - ะธััะพัะธั ะพะฑัะฐะฑะพัะบะธ, ะผะตััะธะบะธ, ะฟััะธ ะบ ัะฐะนะปะฐะผ

---

## โ๏ธ ะะตัะฐะปัะฝะฐั ะฝะฐัััะพะนะบะฐ

### ะะพะฝัะธะณััะฐัะธั `config.yaml`

```yaml
# ========================================
# ะะะกะขะะะะะ ะะะะะะะะะะะฏ
# ========================================
logging:
  level: "INFO"          # DEBUG, INFO, WARNING, ERROR
  log_file: "pipeline.log"

# ========================================
# ะะะกะขะะะะะ ะะะะะะะะะ
# ========================================
pipeline:
  # ๐ SAG v2.0 ะะฐัััะพะนะบะธ
  schema_version: "2.0"
  processing_version: "v2.1"
  
  # ะะฐัััะพะนะบะธ ะธะทะฒะปะตัะตะฝะธั ััะฑัะธััะพะฒ
  subtitles:
    output_dir: "data/raw_subtitles"
    language: "ru"         # ะัะตะดะฟะพัะธัะฐะตะผัะน ัะทัะบ
    
  # ะะฐัััะพะนะบะธ ะพะฑัะฐะฑะพัะบะธ ัะตะบััะฐ (SAG v2.0)
  text_processing:
    output_dir: "data/sag_final"
    
  # ะะฐะฟะบะฐ ะดะปั ัะตะทัะปััะฐัะพะฒ ะฒัะฟะพะปะฝะตะฝะธั
  results_dir: "data/sag_final"
```

### ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั (.env) - ะฟะพะดัะพะฑะฝะพ

```env
# ========================================
# ะะะฏะะะขะะะฌะะซะ ะะะกะขะะะะะ
# ========================================

# OpenAI API ะบะปัั - ะฟะพะปััะธัั ะฝะฐ https://platform.openai.com/
OPENAI_API_KEY=sk-proj-...

# ========================================
# ะะะะะะ (ะฝะฐัััะพะนะบะฐ ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััะธ/ััะพะธะผะพััะธ)
# ========================================

# ะัะฝะพะฒะฝะฐั ะผะพะดะตะปั ะดะปั ััััะบัััะธัะพะฒะฐะฝะธั ัะตะบััะฐ
# ะะฐัะธะฐะฝัั:
# - gpt-4o-mini: ะฑััััะพ, ะดะตัะตะฒะพ, ัะพัะพัะตะต ะบะฐัะตััะฒะพ (ะะะะะะะะะฃะะขะกะฏ)
# - gpt-4o: ะผะตะดะปะตะฝะฝะพ, ะดะพัะพะณะพ, ะพัะปะธัะฝะพะต ะบะฐัะตััะฒะพ
# - gpt-4-turbo: ะบะพะผะฟัะพะผะธัั ัะบะพัะพััั/ะบะฐัะตััะฒะพ
PRIMARY_MODEL=gpt-4o-mini

# ะะพะดะตะปั ะดะปั ัะธะฝะฐะปัะฝะพะน ะฟะพะปะธัะพะฒะบะธ (ะพะฟัะธะพะฝะฐะปัะฝะพ)
# ะะฐัะธะฐะฝัั:
# - gpt-4o-mini: ะดะตัะตะฒะพ, ัะพัะพัะพ ะดะปั ะฟะพะปะธัะพะฒะบะธ (ะะะะะะะะะฃะะขะกะฏ)
# - gpt-4: ะดะพัะพะณะพ, ะพัะปะธัะฝะพ ะดะปั ะฟะพะปะธัะพะฒะบะธ
# - "" (ะฟัััะฐั ัััะพะบะฐ): ะพัะบะปััะธัั ะฟะพะปะธัะพะฒะบั
REFINE_MODEL=gpt-4o-mini

# ะะพะดะตะปั ะดะปั ัะพะทะดะฐะฝะธั ัะผะฑะตะดะดะธะฝะณะพะฒ (ะฒะตะบัะพัะธะทะฐัะธั)
# ะัะฟะพะปัะทัะตััั Sentence-Transformers ะดะปั ะปะพะบะฐะปัะฝะพะน ะณะตะฝะตัะฐัะธะธ ัะผะฑะตะดะดะธะฝะณะพะฒ
# ะะฐัะธะฐะฝัั:
# - intfloat/multilingual-e5-large: ะปัััะตะต ะบะฐัะตััะฒะพ ะดะปั ััััะบะพะณะพ ัะทัะบะฐ, 1024 dim (ะะะะะะะะะฃะะขะกะฏ)
# - paraphrase-multilingual-mpnet-base-v2: ะฑะฐะปะฐะฝั ัะบะพัะพััะธ/ะบะฐัะตััะฒะฐ, 768 dim
# - paraphrase-multilingual-MiniLM-L12-v2: ะฑััััะฐั ะผะพะดะตะปั, 384 dim
MODEL_EMBEDDING=sentence-transformers
SENTENCE_TRANSFORMERS_MODEL=intfloat/multilingual-e5-large

# ะฃัััะพะนััะฒะพ ะดะปั Sentence-Transformers (cuda/cpu/mps ะธะปะธ ะฟัััะพ ะดะปั ะฐะฒัะพะพะฟัะตะดะตะปะตะฝะธั)
# ะะฒัะพะผะฐัะธัะตัะบะธ ะธัะฟะพะปัะทัะตั GPU ะตัะปะธ ะดะพัััะฟะตะฝ, ะธะฝะฐัะต CPU
# SENTENCE_TRANSFORMERS_DEVICE=cuda  # ะะฐัะบะพะผะผะตะฝัะธััะนัะต ะดะปั ะฟัะธะฝัะดะธัะตะปัะฝะพะณะพ ะธัะฟะพะปัะทะพะฒะฐะฝะธั GPU

# ========================================
# ะะะะะะะะฃะขะซะ ะะะกะขะะะะะ (ะพะฟัะธะพะฝะฐะปัะฝะพ)
# ========================================

# ะะฐััะพะผะฝัะต ะฟัะพะผะฟัั (ะตัะปะธ ะฝัะถะฝะฐ ัะพะฝะบะฐั ะฝะฐัััะพะนะบะฐ)
MAIN_PROMPT="""ะขั โ ัะตะดะฐะบัะพั ะปะตะบัะธะน. ะะฐะทะฑะตะน ัะตะบัั ะฝะฐ ะบััะฟะฝัะต ัะผััะปะพะฒัะต ะฑะปะพะบะธ..."""
REFINE_PROMPT="""ะฃะปัััะธ ะทะฐะณะพะปะพะฒะบะธ ะธ ะพะฟะธัะฐะฝะธั ะฑะปะพะบะพะฒ..."""
FALLBACK_PROMPT="""ะะปะพะบ ัะพะทะดะฐะฝ ะฐะฒัะพะผะฐัะธัะตัะบะธ ะธะท-ะทะฐ ะพัะธะฑะบะธ ะพะฑัะฐะฑะพัะบะธ."""

# ะะฐัััะพะนะบะธ ะดะปั ะณัะฐั-ะะ Neo4j
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=your_password

# Google Cloud (ะดะปั ะดะพะฟะพะปะฝะธัะตะปัะฝัั ัะตัะฒะธัะพะฒ)
GOOGLE_CLOUD_PROJECT=your-project-id
```

---

## ๐งฉ ะะพะผะตะฝะฝัะต ัะตะถะธะผั ะพะฑัะฐะฑะพัะบะธ

### ะงัะพ ัะฐะบะพะต ะดะพะผะตะฝ?

**ะะพะผะตะฝ** โ ััะพ ัะฟะตัะธะฐะปะธะทะธัะพะฒะฐะฝะฝัะน ะฟัะพัะธะปั ะพะฑัะฐะฑะพัะบะธ ัะตะบััะฐ, ะฝะฐัััะพะตะฝะฝัะน ะฟะพะด ะบะพะฝะบัะตัะฝัั ัะตะผะฐัะธะบั ะธะปะธ ะฐะฒัะพัะฐ.

### ะะพัััะฟะฝัะต ะดะพะผะตะฝั

#### 1. **sarsekenov** (ะฟะพ ัะผะพะปัะฐะฝะธั) - **SAG v2.0 READY**
- **ะะฒัะพั**: ะกะฐะปะฐะผะฐั ะกะฐััะตะบะตะฝะพะฒ
- **ะขะตะผะฐัะธะบะฐ**: ะะตะนัะพััะฐะปะบะธะฝะณ, ะฝะตะพััะฐะปะบะธะฝะณ
- **ะัะพะฑะตะฝะฝะพััะธ**:
  - ะกะพััะฐะฝัะตั ะฐะฒัะพััะบัั ัะตัะผะธะฝะพะปะพะณะธั
  - ะัะฐะฒะธะปัะฝะพ ััััะบัััะธััะตั ะฟัะฐะบัะธะบะธ ะธ ัะฟัะฐะถะฝะตะฝะธั
  - ะัะดะตะปัะตั ะฒะพะฟัะพัั ะธะท ะทะฐะปะฐ ะธ ัะฐะทะฑะพัั
  - ะกะพััะฐะฝัะตั ััะธะปั ัะตัะธ ะฐะฒัะพัะฐ
- **๐ SAG v2.0 ะฒะพะทะผะพะถะฝะพััะธ**:
  - ะะฒัะพะผะฐัะธัะตัะบะฐั ะบะปะฐััะธัะธะบะฐัะธั ะฑะปะพะบะพะฒ (monologue/dialogue/practice)
  - ะญะผะพัะธะพะฝะฐะปัะฝัะต ัะพะฝะฐ (contemplative/explanatory/intense/light)
  - ะะพะฝัะตะฟััะฐะปัะฝะฐั ะณะปัะฑะธะฝะฐ ะธ ัะปะพะถะฝะพััั
  - ะัะฐั-ัััะฝะพััะธ ั ะฝะพัะผะฐะปะธะทะฐัะธะตะน
  - ะะพััะพะปะพะณะธัะตัะบะฐั ะพะฑัะฐะฑะพัะบะฐ ััััะบะพะณะพ ัะทัะบะฐ
  - ะฃะผะฝะฐั ะผะฐัััััะธะทะฐัะธั ะฟะพ ะบะพะปะปะตะบัะธัะผ

**ะะปััะตะฒัะต ัะตัะผะธะฝั, ะบะพัะพััะต ัะพััะฐะฝััััั:**
- ะฝะตะนัะพััะฐะปะบะธะฝะณ, ะฝะตะพััะฐะปะบะธะฝะณ
- ะฟะพะปะต ะฒะฝะธะผะฐะฝะธั, ะฝะฐะฑะปัะดะตะฝะธะต ะทะฐ ัะผะพะผ
- ะผะตัะฐะฝะฐะฑะปัะดะตะฝะธะต, ะพัะพะทะฝะฐะฒะฐะฝะธะต
- ะฟะฐััะตัะฝั, ััะธะณะณะตัั, ะฐะฒัะพะผะฐัะธะทะผั
- ะธััะปะตะดะพะฒะฐะฝะธะต ะฟะตัะตะถะธะฒะฐะฝะธะน
- ะฟัะฐะบัะธะบะฐ, ัะฟัะฐะถะฝะตะฝะธะต, ัะฐะทะฑะพั

#### 2. **generic**
- **ะะฐะทะฝะฐัะตะฝะธะต**: ะฃะฝะธะฒะตััะฐะปัะฝะฐั ะพะฑัะฐะฑะพัะบะฐ
- **ะะพะดัะพะดะธั ะดะปั**: ะัะฑะพะน ะบะพะฝัะตะฝั ะฑะตะท ัะฟะตัะธัะธัะตัะบะพะน ัะตัะผะธะฝะพะปะพะณะธะธ
- **ะัะพะฑะตะฝะฝะพััะธ**: ะกัะฐะฝะดะฐััะฝะฐั ััััะบัััะธะทะฐัะธั ะฑะตะท ะดะพะผะตะฝะฝัั ะฟัะฐะฒะธะป

### ะัะฑะพั ะดะพะผะตะฝะฐ ะฟัะธ ะทะฐะฟััะบะต

```powershell
# ๐ SAG v2.0 ะะพะผะตะฝะฝัะน ัะตะถะธะผ (ะฟะพ ัะผะพะปัะฐะฝะธั)
python pipeline_orchestrator.py --config config.yaml --domain sarsekenov

# ๐ SAG v2.0 ะััะผะฐั ะพะฑัะฐะฑะพัะบะฐ ั ะดะพะผะตะฝะฝัะผ ะฟัะพัะตััะพัะพะผ
python -m text_processor.sarsekenov_processor --input data/subtitles/VIDEO_ID.json --output data/sag_final --primary-model gpt-4o-mini --refine-model gpt-4o-mini

# ะฃะฝะธะฒะตััะฐะปัะฝัะน ัะตะถะธะผ (ะฑะฐะทะพะฒะฐั ััะตะผะฐ v1.0)
python pipeline_orchestrator.py --config config.yaml --domain generic
```

### ะะพะณะดะฐ ะธัะฟะพะปัะทะพะฒะฐัั ะบะฐะบะพะน ะดะพะผะตะฝ

| ะขะธะฟ ะบะพะฝัะตะฝัะฐ | ะะตะบะพะผะตะฝะดัะตะผัะน ะดะพะผะตะฝ | ะัะธัะธะฝะฐ |
|--------------|--------------------|---------| 
| ะะตะบัะธะธ ะกะฐััะตะบะตะฝะพะฒะฐ | `sarsekenov` | ๐ **SAG v2.0 + ะกะพััะฐะฝะตะฝะธะต ัะตัะผะธะฝะพะปะพะณะธะธ** |
| ะัะธัะพะปะพะณะธั, ะผะตะดะธัะฐัะธั | `sarsekenov` | ๐ **SAG v2.0 + ะะพัะพะถะธะต ะบะพะฝัะตะฟัะธะธ** |
| ะขะตัะฝะธัะตัะบะธะต ะปะตะบัะธะธ | `generic` | ะะฐะทะพะฒะฐั ััะตะผะฐ v1.0 |
| ะะพะฒะพััะธ, ะธะฝัะตัะฒัั | `generic` | ะะฐะทะพะฒะฐั ััะตะผะฐ v1.0 |
| ะะฑัะฐะทะพะฒะฐัะตะปัะฝัะน ะบะพะฝัะตะฝั | `generic` | ะะฐะทะพะฒะฐั ััะตะผะฐ v1.0 |

**๐ SAG v2.0 ะัะตะธะผััะตััะฒะฐ ะดะพะผะตะฝะฐ `sarsekenov`:**
- ะะฒัะพะผะฐัะธัะตัะบะฐั ะบะปะฐััะธัะธะบะฐัะธั ะฑะปะพะบะพะฒ
- ะัะฐั-ัััะฝะพััะธ ั ะฝะพัะผะฐะปะธะทะฐัะธะตะน
- ะะพััะพะปะพะณะธัะตัะบะฐั ะพะฑัะฐะฑะพัะบะฐ ััััะบะพะณะพ ัะทัะบะฐ
- ะฃะผะฝะฐั ะผะฐัััััะธะทะฐัะธั ะฟะพ ะบะพะปะปะตะบัะธัะผ
- ะะฐััะธัะตะฝะฝัะต ะผะตัะฐะดะฐะฝะฝัะต ะดะปั ัะพะฒัะตะผะตะฝะฝัั ะะ

---

## ๐ ะคะพัะผะฐั ะฒััะพะดะฝัั ะดะฐะฝะฝัั

### ะกัััะบัััะฐ JSON ัะฐะนะปะฐ (ะดะปั ะฒะตะบัะพัะฝะพะน ะะ)

#### **ะกัะตะผะฐ v1.0 (ะฑะฐะทะพะฒะฐั)**
```json
{
  "document_title": "ะะตะบัะธั ะกะฐััะตะบะตะฝะพะฒะฐ: Rxoj94WQpsQ",
  "document_summary": "ะะพะฝัะฟะตะบั ะปะตะบัะธะธ, ััััะบัััะธัะพะฒะฐะฝะฝัะน ะฟะพ ัะตะผะฐะผ ะฝะตะนัะพััะฐะปะบะธะฝะณะฐ/ะฝะตะพััะฐะปะบะธะฝะณะฐ.",
  
  "document_metadata": {
    "total_blocks": 8,
    "language": "ru",
    "domain": "sarsekenov_neurostalking",
    "video_id": "Rxoj94WQpsQ",
    "source_url": "https://youtube.com/watch?v=Rxoj94WQpsQ",
    "schema_version": "1.0"
  },
```

#### **๐ ะกัะตะผะฐ v2.0 (SAG - ัะฐััะธัะตะฝะฝะฐั)**
```json
{
  "document_title": "ะะตะบัะธั ะกะฐััะตะบะตะฝะพะฒะฐ: Rxoj94WQpsQ",
  "document_summary": "ะะพะฝัะฟะตะบั ะปะตะบัะธะธ, ััััะบัััะธัะพะฒะฐะฝะฝัะน ะฟะพ ัะตะผะฐะผ ะฝะตะนัะพััะฐะปะบะธะฝะณะฐ/ะฝะตะพััะฐะปะบะธะฝะณะฐ.",
  
  "document_metadata": {
    "total_blocks": 6,
    "language": "ru",
    "domain": "sarsekenov_neurostalking",
    "video_id": "Rxoj94WQpsQ",
    "source_url": "https://youtube.com/watch?v=Rxoj94WQpsQ",
    "schema_version": "2.0",
    
    "lecture_type": "seminar",
    "has_dialogue": true,
    "main_topics": ["ะธััะตะปะตะฝะธะต", "ะพัะพะทะฝะฐะฒะฐะฝะธะต", "ะฑะพะถะตััะฒะตะฝะฝะพััั"],
    "difficulty_level": "intermediate",
    "collection_target": "dialogue_sessions",
    "routing_confidence": 0.7,
    "transcript_confidence": 0.85,
    "duration_minutes": 16,
    "processing_version": "v2.1"
  },
  
  "graph_entities": [
    ["ะฒะพัะฟัะธััะธะต", 3],
    ["ะพัะพะทะฝะฐะฒะฐะฝะธะต", 2],
    ["ะฟะฐััะตัะฝั", 2],
    ["ะฐะฑัะพะปัั", 2],
    ["ะฑะพะถะตััะฒะตะฝะฝะพััั", 1]
  ],
  
  "overview_toc": "ะััะตะปะตะฝะธะต ะธ ัะฐะผะพะฟะพะทะฝะฐะฝะธะต โข ะัะธัะพะดะฐ ัะผะฐ ะธ ะพัะพะทะฝะฐะฒะฐะฝะธะต โข ะัะตะพะดะพะปะตะฝะธะต ัะตัะตะท ะพะฟัั",
  "overview_summary": "ะะตะบัะธั ะพัะฒะฐััะฒะฐะตั ะฟัะพัะตัั ะธััะตะปะตะฝะธั ัะตัะตะท ัะฐะผะพะฟะพะทะฝะฐะฝะธะต, ัะฐะฑะพัั ั ัะผะพะผ ะธ ะฒะฐะถะฝะพััั ะธะฝัะตะณัะฐัะธะธ ะพะฟััะฐ ะดะปั ะพะฑัะตัะตะฝะธั ะผัะดัะพััะธ.",
  
  "blocks": [
    {
      "block_id": "Rxoj94WQpsQ_001",
      "video_id": "Rxoj94WQpsQ", 
      "start": "00:00:00",
      "end": "00:08:45",
      "source_url": "https://youtube.com/watch?v=Rxoj94WQpsQ",
      "youtube_link": "https://youtube.com/watch?v=Rxoj94WQpsQ&t=0s",
      
      "title": "ะัะพัะตัั ะธััะตะปะตะฝะธั ัะตัะตะท ัะฐะผะพะฟะพะทะฝะฐะฝะธะต ะฑะตะท ะณะตัะพะธะทะผะฐ",
      "summary": "ะะฑััะถะดะฐะตััั ะฒะฐะถะฝะพััั ะฟะพะดะปะธะฝะฝะพะณะพ ะธััะตะปะตะฝะธั ะฑะตะท ะฟะพะทะตัััะฒะฐ ะธ ะณะตัะพะธะทะผะฐ. ะะพะดัะตัะบะธะฒะฐะตััั ะฝะตะพะฑัะพะดะธะผะพััั ะถะธะฒะพะณะพ ะฒะทะฐะธะผะพะดะตะนััะฒะธั ั ะปัะดัะผะธ ะฝะฐ ะธั ััะพะฒะฝะต ะฟะพะฝะธะผะฐะฝะธั.",
      "keywords": ["ะธััะตะปะตะฝะธะต", "ัะฐะผะพะฟะพะทะฝะฐะฝะธะต", "ะฒะทะฐะธะผะพะดะตะนััะฒะธะต", "ะพัะพะทะฝะฐะฒะฐะฝะธะต"],
      
      "content": "ะััะผะพ ัะตะนัะฐั ัะฝะธะบะฐะปัะฝัะน ะผะพะผะตะฝั ะธััะตะปะตะฝะธั, ะฝะพ ะฑะตะท ัะพะณะพ ั, ะฟะพะทััะฐ, ะบะพัะพััะน ัะบะฐะทะฐะป: \"ะั, ะบะฐะบ ั ะฟัะพััะธะป!\" ะะพะฝะธะผะฐะตัะต, ะบะฐะบ ััะพ ััะถะตะปะพ ะฒ ัะตะฑะต ะดะตัะถะฐัั ัะพะณะพ, ะบัะพ ัะบะพะฑั ะบะพะณะพ-ัะพ ะฟัะพััะธะป, ัะบะพะฑั ะบะพะณะพ-ัะพ ะฟะพะปัะฑะธะป... [ะะะะะซะ ะขะะะกะข ะะะะะ 300-500+ ะกะะะ]"
    }
  ],
  
  "full_text": "ะะพะปะฝัะน ัะตะบัั ะฒัะตั ััะฑัะธััะพะฒ ะพะดะฝะพะน ัััะพะบะพะน..."
}
```

#### **๐ ะะพะฒัะต ะฟะพะปั SAG v2.0 ะฒ ะฑะปะพะบะฐั:**
```json
{
  "speaker": "sarsekenov",
  "block_type": "monologue",
  "emotional_tone": "contemplative",
  "conceptual_depth": "high",
  "complexity_score": 8.0,
  "graph_entities": ["ะฑะพะถะตััะฒะตะฝะฝะพััั", "ะพัะพะทะฝะฐะฒะฐะฝะธะต", "ะธััะตะปะตะฝะธะต"],
  "semantic_relationships": {
    "conceptual_links": [
      {
        "source": "ะฑะพะถะตััะฒะตะฝะฝะพััั",
        "target": "ะพัะพะทะฝะฐะฒะฐะฝะธะต",
        "type": "conceptual",
        "strength": 0.85
      }
    ],
    "causal_links": [],
    "practical_links": []
  },
  "contains_practice": false,
  "dialogue_turn": null,
  "question_type": null,
  "answer_completeness": null,
  "interaction_quality": null,
  "key_insights": 3,
  "transformation_stage": "beginning",
  "transcript_edited": true,
  
  // ๐ ะะพะฟะพะปะฝะธัะตะปัะฝัะต ะดะฐะฝะฝัะต ัะบัััะฐะบัะพัะพะฒ (ะตัะปะธ ะฒะบะปััะตะฝั):
  
  "safety": {
    "contraindications": [
      {
        "condition": "ะพััััะน ะฟัะธัะพะท",
        "reason": "ะผะพะถะตั ััะธะปะธัั ัะธะผะฟัะพะผั"
      }
    ],
    "limitations": [],
    "when_to_stop": [],
    "when_to_seek_professional_help": [],
    "notes": []
  },
  
  "causal_chains": [
    {
      "name": "ะฟัะพัะตัั ะธััะตะปะตะฝะธั",
      "steps": [
        {"step": 1, "event": "ะพัะพะทะฝะฐะฒะฐะฝะธะต", "description": "..."},
        {"step": 2, "event": "ะฟัะธะฝััะธะต", "description": "..."}
      ],
      "intervention_points": [
        {
          "after_step": 1,
          "practice": "ะผะตัะฐะฝะฐะฑะปัะดะตะฝะธะต",
          "effect": "ััะธะปะตะฝะธะต ะพัะพะทะฝะฐะฒะฐะฝะธั",
          "related_concepts": ["ะพัะพะทะฝะฐะฒะฐะฝะธะต", "ะฟะฐััะตัะฝั"]
        }
      ]
    }
  ],
  
  "concept_hierarchy": [
    {
      "name": "ะพัะพะทะฝะฐะฒะฐะฝะธะต",
      "level": "domain",
      "parent": "ะฝะตะนัะพััะฐะปะบะธะฝะณ",
      "relationship": "is_core_component_of"
    }
  ],
  
  "case_studies": [
    {
      "id": "case_local_1",
      "situation": "ะพะฟะธัะฐะฝะธะต ัะธััะฐัะธะธ",
      "root_cause": "ะบะพัะฝะตะฒะฐั ะฟัะธัะธะฝะฐ",
      "applied_practices": ["ะผะตัะฐะฝะฐะฑะปัะดะตะฝะธะต"],
      "process": ["ัะฐะณ 1", "ัะฐะณ 2"],
      "outcome": "ัะตะทัะปััะฐั",
      "lessons": "ะฒัะฒะพะดั",
      "related_concepts": ["ะพัะพะทะฝะฐะฒะฐะฝะธะต"]
    }
  ],
  
  "prerequisites": {
    "prerequisites": [
      {
        "concept": "ะพัะฝะพะฒะฐ ะพัะพะทะฝะฐะฒะฐะฝะธั",
        "level": "beginner",
        "why_needed": "ะฝะตะพะฑัะพะดะธะผะพ ะดะปั ะฟะพะฝะธะผะฐะฝะธั"
      }
    ],
    "recommended_sequence": [
      "ะพัะพะทะฝะฐะฒะฐะฝะธะต โ ะผะตัะฐะฝะฐะฑะปัะดะตะฝะธะต โ ัะฐัะฟะพะทะฝะฐะฒะฐะฝะธะต ะฟะฐััะตัะฝะพะฒ"
    ],
    "common_mistakes": ["ะฟะพะฟััะบะฐ ะฟะพะดะฐะฒะธัั ะฒะผะตััะพ ะพัะพะทะฝะฐะฒะฐะฝะธั"]
  }
}
    }
  ],
  
  "full_text": "ะะพะปะฝัะน ัะตะบัั ะฒัะตั ััะฑัะธััะพะฒ ะพะดะฝะพะน ัััะพะบะพะน..."
}
```

### ะะปััะตะฒัะต ะฟะพะปั ะดะปั RAG-ัะธััะตะผั

#### ะะดะตะฝัะธัะธะบะฐัะธั ะธ ัะฒัะทะธ
- `block_id`: ะฃะฝะธะบะฐะปัะฝัะน ID ะฑะปะพะบะฐ (`VIDEO_ID_NNN`)
- `video_id`: ID ะธััะพะดะฝะพะณะพ ะฒะธะดะตะพ
- `source_url`: ะกััะปะบะฐ ะฝะฐ YouTube ะฒะธะดะตะพ
- `youtube_link`: ะััะผะฐั ัััะปะบะฐ ั ะฒัะตะผะตะฝะฝะพะน ะผะตัะบะพะน
- `schema_version`: ะะตััะธั ััะตะผั ะดะฐะฝะฝัั

#### ะัะตะผะตะฝะฝัะต ะผะตัะบะธ
- `start`, `end`: ะัะตะผะตะฝะฝัะต ะณัะฐะฝะธัั (HH:MM:SS)
- URL ะฟะฐัะฐะผะตัั `&t=Ns`: ะััะผะพะน ะฟะตัะตัะพะด ะบ ะผะพะผะตะฝัั

#### ะกะตะผะฐะฝัะธัะตัะบะพะต ัะพะดะตัะถะฐะฝะธะต
- `title`: ะฃะฝะธะบะฐะปัะฝัะน ะทะฐะณะพะปะพะฒะพะบ ะฑะปะพะบะฐ
- `summary`: ะัะฐัะบะพะต ะพะฟะธัะฐะฝะธะต (2-3 ะฟัะตะดะปะพะถะตะฝะธั)
- `keywords`: ะะฐััะธะฒ ะบะปััะตะฒัั ัะตัะผะธะฝะพะฒ
- `content`: ะะพะปะฝัะน ัะตะบัั ะฑะปะพะบะฐ (300-500+ ัะปะพะฒ)

#### ะะตัะฐะดะฐะฝะฝัะต ะดะพะบัะผะตะฝัะฐ
- `domain`: ะขะธะฟ ะพะฑัะฐะฑะพัะบะธ
- `total_blocks`: ะะพะปะธัะตััะฒะพ ะฑะปะพะบะพะฒ
- `overview_toc`: ะัะฐัะบะพะต ะพะณะปะฐะฒะปะตะฝะธะต
- `overview_summary`: ะะฑัะตะต ัะตะทัะผะต

#### **๐ ะะพะฒัะต ะฟะพะปั SAG v2.0:**
- `schema_version`: ะะตััะธั ััะตะผั (2.0 ะดะปั SAG)
- `lecture_type`: ะขะธะฟ ะปะตะบัะธะธ (seminar/lecture)
- `has_dialogue`: ะะฐะปะธัะธะต ะดะธะฐะปะพะณะพะฒ
- `main_topics`: ะัะฝะพะฒะฝัะต ัะตะผั ะปะตะบัะธะธ
- `difficulty_level`: ะฃัะพะฒะตะฝั ัะปะพะถะฝะพััะธ
- `collection_target`: ะฆะตะปะตะฒะฐั ะบะพะปะปะตะบัะธั ะทะฝะฐะฝะธะน
- `routing_confidence`: ะฃะฒะตัะตะฝะฝะพััั ะฒ ะผะฐัััััะธะทะฐัะธะธ
- `graph_entities`: ะัะฐั-ัััะฝะพััะธ ั ัะฐััะพัะพะน (ะดะพ 30)
- `semantic_relationships`: ะะฝะฐะปะธะท ัะฒัะทะตะน ะผะตะถะดั ะบะพะฝัะตะฟัะฐะผะธ
- `total_graph_nodes`: ะะฑัะตะต ะบะพะปะธัะตััะฒะพ ัะทะปะพะฒ ะณัะฐัะฐ (442)
- `total_graph_relationships`: ะะฑัะตะต ะบะพะปะธัะตััะฒะพ ะพัะฝะพัะตะฝะธะน (259)
- `processing_version`: ะะตััะธั ะฟัะพัะตััะพัะฐ
- **๐ง `knowledge_graph`**: ะะพะปะฝัะน Knowledge Graph ัะพ ะฒัะตะผะธ ัะทะปะฐะผะธ, ัะฒัะทัะผะธ ะธ ะผะตัะฐะดะฐะฝะฝัะผะธ ะดะปั ะผะฐะบัะธะผะฐะปัะฝะพ ะฟะพะปะฝะพะน ะฑะฐะทั ะทะฝะฐะฝะธะน

### ะกัััะบัััะฐ Markdown ัะฐะนะปะฐ (ะดะปั ะฟัะพัะผะพััะฐ)

```markdown
# ๐งญ ะะตะบัะธะธ ะก. ะกะฐััะตะบะตะฝะพะฒะฐ โ ะบะพะฝัะฟะตะบั
## ะะตะบัะธั ะกะฐััะตะบะตะฝะพะฒะฐ: Rxoj94WQpsQ
*ะะพะฝัะฟะตะบั ะปะตะบัะธะธ, ััััะบัััะธัะพะฒะฐะฝะฝัะน ะฟะพ ัะตะผะฐะผ ะฝะตะนัะพััะฐะปะบะธะฝะณะฐ/ะฝะตะพััะฐะปะบะธะฝะณะฐ.*

**ะะพัะพัะบะพะต ะพะณะปะฐะฒะปะตะฝะธะต:** ะััะตะปะตะฝะธะต ะธ ัะฐะผะพะฟะพะทะฝะฐะฝะธะต โข ะัะธัะพะดะฐ ัะผะฐ โข ะัะตะพะดะพะปะตะฝะธะต ะพะฟััะฐ
**ะะฑัะตะต ัะตะทัะผะต:** ะะตะบัะธั ัะฐััะผะฐััะธะฒะฐะตั ะฟัะพัะตัั ะฟะพะดะปะธะฝะฝะพะณะพ ะธััะตะปะตะฝะธั ัะตัะตะท ัะฐะผะพะฟะพะทะฝะฐะฝะธะต...

---
## ๐ ะะณะปะฐะฒะปะตะฝะธะต
1. [ะัะพัะตัั ะธััะตะปะตะฝะธั ัะตัะตะท ัะฐะผะพะฟะพะทะฝะฐะฝะธะต ะฑะตะท ะณะตัะพะธะทะผะฐ](#1-block)
2. [ะัะธัะพะดะฐ ัะผะฐ ะธ ะทะตัะบะฐะปัะฝะพะต ะพััะฐะถะตะฝะธะต ัะตะฐะปัะฝะพััะธ](#2-block)
...

---

## <a id='1-block'></a> 1. ะัะพัะตัั ะธััะตะปะตะฝะธั ัะตัะตะท ัะฐะผะพะฟะพะทะฝะฐะฝะธะต ะฑะตะท ะณะตัะพะธะทะผะฐ
**โฑ ะัะตะผั:** [00:00:00 - 00:08:45]
**๐ ะัะฐัะบะพะต ัะพะดะตัะถะฐะฝะธะต:** ะะฑััะถะดะฐะตััั ะฒะฐะถะฝะพััั ะฟะพะดะปะธะฝะฝะพะณะพ ะธััะตะปะตะฝะธั...
**๐ท ะะปััะตะฒัะต ัะปะพะฒะฐ:** ะธััะตะปะตะฝะธะต, ัะฐะผะพะฟะพะทะฝะฐะฝะธะต, ะฒะทะฐะธะผะพะดะตะนััะฒะธะต

### ะกะพะดะตัะถะฐะฝะธะต:
ะััะผะพ ัะตะนัะฐั ัะฝะธะบะฐะปัะฝัะน ะผะพะผะตะฝั ะธััะตะปะตะฝะธั, ะฝะพ ะฑะตะท ัะพะณะพ ั, ะฟะพะทััะฐ...
[ะะะะะซะ ะขะะะกะข ะะะะะ]

---
```

---

## ๐ API ะธ ะธะฝัะตะณัะฐัะธั

### ะะพะผะฐะฝะดะฝะฐั ัััะพะบะฐ

#### ะัะฝะพะฒะฝัะต ะบะพะผะฐะฝะดั

```powershell
# ะะพะปะฝัะน ะฟะฐะนะฟะปะฐะนะฝ ั ะฐะฒัะพะผะฐัะธัะตัะบะธะผ ััะตะฝะธะตะผ urls.txt
python pipeline_orchestrator.py --config config.yaml

# ะะฑัะฐะฑะพัะบะฐ ะพะดะฝะพะณะพ URL
python pipeline_orchestrator.py --config config.yaml --url "https://youtu.be/VIDEO_ID"

# ะะฑัะฐะฑะพัะบะฐ ัะฐะนะปะฐ ั URL
python pipeline_orchestrator.py --config config.yaml --urls-file custom_urls.txt

# ะัะฑะพั ะดะพะผะตะฝะฐ
python pipeline_orchestrator.py --config config.yaml --domain generic

# ะะฐััะพะผะฝะพะต ะธะผั ะดะปั ัะตะทัะปััะฐัะพะฒ
python pipeline_orchestrator.py --config config.yaml --url "..." --name "ะะตะบัะธั_1"

# ๐ SAG v2.0 ะััะผะฐั ะพะฑัะฐะฑะพัะบะฐ ั ะดะพะผะตะฝะฝัะผ ะฟัะพัะตััะพัะพะผ
python -m text_processor.sarsekenov_processor --input data/subtitles/VIDEO_ID.json --output data/sag_final --primary-model gpt-4o-mini --refine-model gpt-4o-mini
```

#### ะขะพะปัะบะพ ะธะทะฒะปะตัะตะฝะธะต ััะฑัะธััะพะฒ

```powershell
# ะะท urls.txt
python subtitle_extractor\get_subtitles.py

# ะะดะธะฝ URL
python subtitle_extractor\get_subtitles.py --url "https://youtu.be/VIDEO_ID"

# ะะฐััะพะผะฝัะน ัะฐะนะป
python subtitle_extractor\get_subtitles.py --urls-file my_urls.txt

# ะััะณะพะน ัะทัะบ
python subtitle_extractor\get_subtitles.py --language en
```

#### ะขะพะปัะบะพ ะพะฑัะฐะฑะพัะบะฐ ัะตะบััะฐ

```powershell
# ๐ SAG v2.0 ะะพะผะตะฝะฝัะน ะฟัะพัะตััะพั (ะกะฐััะตะบะตะฝะพะฒ)
python -m text_processor.sarsekenov_processor --input data/subtitles/VIDEO_ID.json --output data/sag_final --primary-model gpt-4o-mini --refine-model gpt-4o-mini

# ๐ SAG v2.0 ั ะบะฐััะพะผะฝัะผะธ ะฝะฐัััะพะนะบะฐะผะธ
python -m text_processor.sarsekenov_processor --input data/subtitles --output data/sag_final --primary-model gpt-4o-mini --refine-model gpt-4o-mini

# ะฃะฝะธะฒะตััะฐะปัะฝัะน ะฟัะพัะตััะพั (ะฑะฐะทะพะฒะฐั ััะตะผะฐ v1.0)
python text_processor\subtitles_to_blocks.py --input data\subtitles --output data\vector_ready
```

**๐ ะะพะฒัะต ะฒะพะทะผะพะถะฝะพััะธ SAG v2.0:**
- **ะะฒัะพะผะฐัะธัะตัะบะฐั ะบะปะฐััะธัะธะบะฐัะธั**: ะขะธะฟั ะฑะปะพะบะพะฒ, ัะผะพัะธะพะฝะฐะปัะฝัะต ัะพะฝะฐ, ัะปะพะถะฝะพััั
- **๐ฏ ะัะฐั-ัััะฝะพััะธ**: 442 ัะทะปะฐ + 259 ะพัะฝะพัะตะฝะธะน ั ะฝะพัะผะฐะปะธะทะฐัะธะตะน ะธ ะฐะณัะตะณะฐัะธะตะน
- **๐ ะกะตะผะฐะฝัะธัะตัะบะธะน ะฐะฝะฐะปะธะท**: ะะฒัะพะผะฐัะธัะตัะบะพะต ะฒััะฒะปะตะฝะธะต ัะฒัะทะตะน ะผะตะถะดั ะบะพะฝัะตะฟัะฐะผะธ
- **ะะพััะพะปะพะณะธัะตัะบะฐั ะพะฑัะฐะฑะพัะบะฐ**: ะัััะบะธะน ัะทัะบ ั ะฟัะฐะฒะธะปัะฝัะผะธ ะณัะฐะผะผะฐัะธัะตัะบะธะผะธ ัะพัะผะฐะผะธ
- **ะฃะผะฝะฐั ะผะฐัััััะธะทะฐัะธั**: ะะปะฐััะธัะธะบะฐัะธั ะฟะพ ะบะพะปะปะตะบัะธัะผ ั ะผะตััะธะบะพะน ัะฒะตัะตะฝะฝะพััะธ
- **ะะฐััะธัะตะฝะฝัะต ะผะตัะฐะดะฐะฝะฝัะต**: ะกัะตะผะฐ v2.0 ะดะปั ัะพะฒัะตะผะตะฝะฝัั ะฒะตะบัะพัะฝัั ะะ

### ะัะพะณัะฐะผะผะฝะฐั ะธะฝัะตะณัะฐัะธั

#### Python API

```python
from pathlib import Path
from text_processor.sarsekenov_processor import SarsekenovProcessor
from subtitle_extractor.get_subtitles import YouTubeSubtitlesExtractor

# ะะทะฒะปะตัะตะฝะธะต ััะฑัะธััะพะฒ
extractor = YouTubeSubtitlesExtractor("data/subtitles")
extractor.process_url("https://youtu.be/VIDEO_ID")

# ๐ SAG v2.0 ะะฑัะฐะฑะพัะบะฐ ะฒ ะฑะปะพะบะธ
processor = SarsekenovProcessor(
    primary_model="gpt-4o-mini",
    refine_model="gpt-4o-mini"
)
result = processor.process_file(
    Path("data/subtitles/VIDEO_ID.json"),
    Path("data/sag_final")
)

# ๐ ะะพะฒัะต ะฒะพะทะผะพะถะฝะพััะธ SAG v2.0
print(f"ะกะพะทะดะฐะฝะพ ะฑะปะพะบะพะฒ: {len(result['blocks'])}")
print(f"SAG Schema: {result['document_metadata']['schema_version']}")
print(f"Collection Target: {result['document_metadata']['collection_target']}")
print(f"Routing Confidence: {result['document_metadata']['routing_confidence']}")
print(f"Graph Entities: {len(result['graph_entities'])}")
print(f"JSON: {result['json_output']}")
print(f"MD: {result['md_output']}")

# ๐ ะะฝะฐะปะธะท ะบะปะฐััะธัะธะบะฐัะธะธ ะฑะปะพะบะพะฒ
block_types = [b['block_type'] for b in result['blocks']]
emotional_tones = [b['emotional_tone'] for b in result['blocks']]
complexity_scores = [b['complexity_score'] for b in result['blocks']]

print(f"Block Types: {set(block_types)}")
print(f"Emotional Tones: {set(emotional_tones)}")
print(f"Avg Complexity: {sum(complexity_scores)/len(complexity_scores):.1f}")
```

#### ะะฐัั-ะพะฑัะฐะฑะพัะบะฐ

```python
from pipeline_orchestrator import PipelineOrchestrator

# ะะฝะธัะธะฐะปะธะทะฐัะธั
orchestrator = PipelineOrchestrator("config.yaml", domain="sarsekenov")

# ะะฑัะฐะฑะพัะบะฐ ัะฟะธัะบะฐ URL
urls = [
    "https://youtu.be/VIDEO_1",
    "https://youtu.be/VIDEO_2"
]

results = []
for url in urls:
    result = orchestrator.run_full_pipeline(url)
    results.append(result)
    
# ะะฝะฐะปะธะท ัะตะทัะปััะฐัะพะฒ
successful = [r for r in results if r["status"] == "success"]
print(f"ะฃัะฟะตัะฝะพ ะพะฑัะฐะฑะพัะฐะฝะพ: {len(successful)}/{len(results)}")

# ๐ SAG v2.0 ะะฝะฐะปะธะท ะบะฐัะตััะฒะฐ
for result in successful:
    if "document_metadata" in result:
        metadata = result["document_metadata"]
        print(f"Video: {metadata.get('video_id', 'Unknown')}")
        print(f"  SAG Schema: {metadata.get('schema_version', 'Unknown')}")
        print(f"  Collection: {metadata.get('collection_target', 'Unknown')}")
        print(f"  Confidence: {metadata.get('routing_confidence', 'Unknown')}")
        print(f"  Graph Entities: {len(result.get('graph_entities', []))}")
        print(f"  Overview Length: {len(result.get('overview_summary', ''))}")
```

---

## ๐ ะะพะฝะธัะพัะธะฝะณ ะธ ะพัะปะฐะดะบะฐ

### ะะพะณะธัะพะฒะฐะฝะธะต

#### ะัะฝะพะฒะฝะพะน ะปะพะณ: `pipeline.log`

```
2025-01-28 15:30:15,123 | INFO | pipeline | Starting pipeline for: https://youtu.be/VIDEO_ID
2025-01-28 15:30:15,124 | INFO | pipeline | Stage 1: Downloading subtitles from YouTube
2025-01-28 15:30:17,456 | INFO | pipeline | Stage 1 complete: data\raw_subtitles\VIDEO_ID.json
2025-01-28 15:30:17,457 | INFO | pipeline | Stage 2: Processing text for SAG v2.0
2025-01-28 15:30:45,123 | INFO | pipeline | Stage 2 complete: 8 SAG v2.0 blocks created
2025-01-28 15:30:45,124 | INFO | pipeline | Pipeline complete! Total time: 30.0s
2025-01-28 15:30:45,125 | INFO | pipeline | SAG v2.0 JSON: data\sag_final\VIDEO_ID.for_vector.json
```

#### ๐ **SAG v2.0 ะะพะณะธ ั ัะฐััะธัะตะฝะฝะพะน ะธะฝัะพัะผะฐัะธะตะน**

```
2025-01-28 15:30:17,458 | INFO | sarsekenov_processor | SAG v2.0: Processing with schema version 2.0
2025-01-28 15:30:17,459 | INFO | sarsekenov_processor | Detecting dialogue patterns in full_text
2025-01-28 15:30:17,460 | INFO | sarsekenov_processor | Dialogue detected: True (confidence: 0.85)
2025-01-28 15:30:17,461 | INFO | sarsekenov_processor | Extracting graph entities: 12 entities found
2025-01-28 15:30:17,462 | INFO | sarsekenov_processor | Collection target: dialogue_sessions (confidence: 0.7)
2025-01-28 15:30:17,463 | INFO | sarsekenov_processor | Overview length: 573 chars (validation: PASSED)
2025-01-28 15:30:17,464 | INFO | sarsekenov_processor | Morphological improvements: 2/9 applied
2025-01-28 15:30:45,125 | INFO | sarsekenov_processor | SAG v2.0 complete: 90% readiness score
```

#### ะะตะทัะปััะฐัั ะฒัะฟะพะปะฝะตะฝะธั: `data/raw_subtitles/`

**ะะดะธะฝะพัะฝัะน ะทะฐะฟััะบ**: `pipeline_result_YYYYMMDD_HHMMSS.json`
```json
{
  "youtube_url": "https://youtu.be/VIDEO_ID",
  "status": "success",
  "pipeline_start": "2025-01-28 15:30:15",
  "pipeline_end": "2025-01-28 15:30:45", 
  "total_duration": 30.0,
  "stages": {
    "subtitles": {
      "status": "success",
      "duration": 2.3,
      "json_path": "data\\raw_subtitles\\VIDEO_ID.json"
    },
    "text_processing": {
      "status": "success",
      "duration": 27.7,
```

**๐ SAG v2.0 ะะตะทัะปััะฐัั ั ัะฐััะธัะตะฝะฝัะผะธ ะผะตัะฐะดะฐะฝะฝัะผะธ:**
```json
{
  "sag_metadata": {
    "schema_version": "2.0",
    "processing_version": "v2.1",
    "sag_readiness_score": 90.0,
    "collection_target": "dialogue_sessions",
    "routing_confidence": 0.7,
    "has_dialogue": true,
    "difficulty_level": "intermediate",
    "graph_entities_count": 12,
    "overview_length": 573,
    "morphological_improvements": 2
  }
}
      "blocks_created": 8
    }
  },
  "final_outputs": {
    "sag_v2_json": "data\\sag_final\\VIDEO_ID.for_vector.json",
    "review_markdown": "data\\sag_final\\VIDEO_ID.for_review.md"
  }
}
```

**ะะฐัั-ัะตะถะธะผ**: `batch_pipeline_results_YYYYMMDD_HHMMSS.json`
```json
[
  {
    "youtube_url": "https://youtu.be/VIDEO_1",
    "status": "success",
    "total_duration": 25.3,
    ...
  },
  {
    "youtube_url": "https://youtu.be/VIDEO_2", 
    "status": "failed",
    "error": "Could not extract video_id from URL",
    "total_duration": 0.1
  }
]
```

### ะัะปะฐะดะบะฐ ะธ ะดะธะฐะณะฝะพััะธะบะฐ

#### ะัะพะฒะตัะบะฐ ะพะบััะถะตะฝะธั

```powershell
# ะัะพะฒะตัะบะฐ Python ะธ ะทะฐะฒะธัะธะผะพััะตะน
python --version
python -c "import openai, tiktoken, orjson; print('OK')"

# ะัะพะฒะตัะบะฐ API ะบะปััะฐ
python -c "import os; from env_utils import load_env; load_env(); print('API Key loaded:', bool(os.getenv('OPENAI_API_KEY')))"

# ะขะตัั OpenAI API
python -c "from openai import OpenAI; client = OpenAI(); print('API connection: OK')"
```

#### ะัะพะฒะตัะบะฐ ะบะพะผะฟะพะฝะตะฝัะพะฒ

```powershell
# ะขะตัั ะธะทะฒะปะตัะตะฝะธั ััะฑัะธััะพะฒ
python subtitle_extractor\get_subtitles.py --url "https://youtu.be/dQw4w9WgXcQ"

# ะขะตัั ะพะฑัะฐะฑะพัะบะธ (ะฝะฐ ะณะพัะพะฒัั ะดะฐะฝะฝัั)
python text_processor\sarsekenov_processor.py --input data\subtitles\VIDEO_ID.json

# ะะพะปะฝัะน ัะตัั ะฟะฐะนะฟะปะฐะนะฝะฐ
python pipeline_orchestrator.py --config config.yaml --url "https://youtu.be/dQw4w9WgXcQ"
```

#### ะะฝะฐะปะธะท ะบะฐัะตััะฒะฐ ัะตะทัะปััะฐัะพะฒ

```powershell
# ะกัะฐัะธััะธะบะฐ ะฟะพ ะฑะปะพะบะฐะผ
python -c "
import json
from pathlib import Path

for f in Path('data/sag_final').glob('*.for_vector.json'):
    with open(f) as file:
        data = json.load(file)
    blocks = data['blocks']
    words_per_block = [len(b['content'].split()) for b in blocks]
    print(f'{f.stem}: {len(blocks)} ะฑะปะพะบะพะฒ, {min(words_per_block)}-{max(words_per_block)} ัะปะพะฒ')
"
```

---

## ๐ง ะะฐััะธัะตะฝะธะต ััะฝะบัะธะพะฝะฐะปัะฝะพััะธ

### ะะพะฑะฐะฒะปะตะฝะธะต ะฝะพะฒะพะณะพ ะดะพะผะตะฝะฐ

#### 1. ะกะพะทะดะฐะฝะธะต ะฟัะพัะตััะพัะฐ

```python
# text_processor/my_domain_processor.py
from .sarsekenov_processor import SarsekenovProcessor

class MyDomainProcessor(SarsekenovProcessor):
    def __init__(self, primary_model="gpt-4o-mini", refine_model="gpt-4o-mini"):
        super().__init__(primary_model, refine_model)
        
        # ะะพะผะตะฝะฝัะต ัะบะฐะทะฐะฝะธั
        self.domain_context = (
            "ะญัะพ ะปะตะบัะธั ะฟะพ [ะะะจะะ ะขะะะะขะะะ]. "
            "ะกะพััะฐะฝัะน ัะตัะผะธะฝะพะปะพะณะธั: [ะขะะะะะ1], [ะขะะะะะ2], [ะขะะะะะ3]. "
            "ะัะพะฑะตะฝะฝะพััะธ: [ะะะะกะะะะ ะะกะะะะะะะกะขะะ]."
        )
```

#### 2. ะะตะณะธัััะฐัะธั ะฒ ะพัะบะตัััะฐัะพัะต

```python
# pipeline_orchestrator.py
from text_processor.my_domain_processor import MyDomainProcessor

class PipelineOrchestrator:
    def __init__(self, config_path: str, domain: str = "sarsekenov"):
        # ...
        if domain.lower() == "sarsekenov":
            self.text_processor = SarsekenovProcessor()
        elif domain.lower() == "mydomain":
            self.text_processor = MyDomainProcessor()
        else:
            self.text_processor = SubtitlesProcessor()
```

#### 3. ะัะฟะพะปัะทะพะฒะฐะฝะธะต

```powershell
python pipeline_orchestrator.py --config config.yaml --domain mydomain
```

### ะะฝัะตะณัะฐัะธั ั ะฒะตะบัะพัะฝัะผะธ ะะ

#### ะัะธะผะตั ะดะปั Qdrant

```python
# vector_indexer.py
from qdrant_client import QdrantClient
from qdrant_client.http import models
import json
from openai import OpenAI

class VectorIndexer:
    def __init__(self):
        self.qdrant = QdrantClient(host="localhost", port=6333)
        self.openai = OpenAI()
        
    def create_collection(self, collection_name: str):
        self.qdrant.create_collection(
            collection_name=collection_name,
            vectors_config=models.VectorParams(
                size=1024,  # Sentence-Transformers embedding dimension (multilingual-e5-large)
                distance=models.Distance.COSINE
            )
        )
    
    def index_document(self, json_path: str, collection_name: str):
        with open(json_path) as f:
            doc = json.load(f)
            
        points = []
        for block in doc['blocks']:
            # ะกะพะทะดะฐะฝะธะต ัะผะฑะตะดะดะธะฝะณะฐ ัะตัะตะท Sentence-Transformers
            from sentence_transformers import SentenceTransformer
            model = SentenceTransformer('intfloat/multilingual-e5-large')
            embedding = model.encode(block['content']).tolist()
            
            # ะะพะดะณะพัะพะฒะบะฐ ัะพัะบะธ ะดะปั ะธะฝะดะตะบัะฐัะธะธ
            point = models.PointStruct(
                id=block['block_id'],
                vector=embedding,
                payload={
                    "title": block['title'],
                    "summary": block['summary'],
                    "keywords": block['keywords'],
                    "content": block['content'],
                    "video_id": block['video_id'],
                    "youtube_link": block['youtube_link'],
                    "start_time": block['start'],
                    "end_time": block['end']
                }
            )
            points.append(point)
        
        # ะะฐะณััะทะบะฐ ะฒ Qdrant
        self.qdrant.upsert(
            collection_name=collection_name,
            points=points
        )

# ะัะฟะพะปัะทะพะฒะฐะฝะธะต
indexer = VectorIndexer()
indexer.create_collection("sarsekenov_lectures")
indexer.index_document("data/sag_final/VIDEO_ID.for_vector.json", "sarsekenov_lectures")
```

### ะะฝัะตะณัะฐัะธั ั Neo4j (ะณัะฐั ะทะฝะฐะฝะธะน)

```python
# graph_builder.py
from neo4j import GraphDatabase
import json
import re

class GraphBuilder:
    def __init__(self, uri, user, password):
        self.driver = GraphDatabase.driver(uri, auth=(user, password))
    
    def extract_entities(self, text: str):
        # ะัะพััะพะต ะธะทะฒะปะตัะตะฝะธะต ัััะฝะพััะตะน (ะผะพะถะฝะพ ะทะฐะผะตะฝะธัั ะฝะฐ NER)
        entities = []
        
        # ะะพะธัะบ ัะตัะผะธะฝะพะฒ ะฝะตะนัะพััะฐะปะบะธะฝะณะฐ
        neuro_terms = [
            "ะฝะตะนัะพััะฐะปะบะธะฝะณ", "ะฝะตะพััะฐะปะบะธะฝะณ", "ะฟะพะปะต ะฒะฝะธะผะฐะฝะธั",
            "ะฝะฐะฑะปัะดะตะฝะธะต ะทะฐ ัะผะพะผ", "ะผะตัะฐะฝะฐะฑะปัะดะตะฝะธะต", "ะพัะพะทะฝะฐะฒะฐะฝะธะต"
        ]
        
        for term in neuro_terms:
            if term.lower() in text.lower():
                entities.append(("CONCEPT", term))
        
        return entities
    
    def create_graph_from_document(self, json_path: str):
        with open(json_path) as f:
            doc = json.load(f)
        
        with self.driver.session() as session:
            # ะกะพะทะดะฐะฝะธะต ัะทะปะฐ ะดะพะบัะผะตะฝัะฐ
            session.run(
                "CREATE (d:Document {id: $doc_id, title: $title, url: $url})",
                doc_id=doc['document_metadata']['video_id'],
                title=doc['document_title'],
                url=doc['document_metadata']['source_url']
            )
            
            # ะะฑัะฐะฑะพัะบะฐ ะฑะปะพะบะพะฒ
            for block in doc['blocks']:
                # ะกะพะทะดะฐะฝะธะต ัะทะปะฐ ะฑะปะพะบะฐ
                session.run(
                    """
                    CREATE (b:Block {
                        id: $block_id,
                        title: $title,
                        start_time: $start,
                        end_time: $end,
                        youtube_link: $youtube_link
                    })
                    """,
                    block_id=block['block_id'],
                    title=block['title'],
                    start=block['start'],
                    end=block['end'],
                    youtube_link=block['youtube_link']
                )
                
                # ะกะฒัะทั ะฑะปะพะบะฐ ั ะดะพะบัะผะตะฝัะพะผ
                session.run(
                    """
                    MATCH (d:Document {id: $doc_id})
                    MATCH (b:Block {id: $block_id})
                    CREATE (d)-[:CONTAINS]->(b)
                    """,
                    doc_id=doc['document_metadata']['video_id'],
                    block_id=block['block_id']
                )
                
                # ะะทะฒะปะตัะตะฝะธะต ะธ ัะพะทะดะฐะฝะธะต ะบะพะฝัะตะฟัะพะฒ
                entities = self.extract_entities(block['content'])
                for entity_type, entity_name in entities:
                    session.run(
                        f"MERGE (c:{entity_type} {{name: $name}})",
                        name=entity_name
                    )
                    
                    session.run(
                        f"""
                        MATCH (b:Block {{id: $block_id}})
                        MATCH (c:{entity_type} {{name: $name}})
                        CREATE (b)-[:MENTIONS]->(c)
                        """,
                        block_id=block['block_id'],
                        name=entity_name
                    )

# ะัะฟะพะปัะทะพะฒะฐะฝะธะต
graph = GraphBuilder("bolt://localhost:7687", "neo4j", "password")
graph.create_graph_from_document("data/sag_final/VIDEO_ID.for_vector.json")
```

---

## ๐ ะฃัััะฐะฝะตะฝะธะต ะฝะตะฟะพะปะฐะดะพะบ

### ะงะฐัััะต ะฟัะพะฑะปะตะผั ะธ ัะตัะตะฝะธั

#### 1. **ะัะธะฑะบะธ API ะบะปััะตะน**

**ะัะพะฑะปะตะผะฐ**: `[ERROR] OPENAI_API_KEY ะฝะต ัััะฐะฝะพะฒะปะตะฝ`

**ะะตัะตะฝะธะต**:
```powershell
# ะัะพะฒะตัะบะฐ ะฝะฐะปะธัะธั ัะฐะนะปะฐ .env
ls .env

# ะัะพะฒะตัะบะฐ ัะพะดะตัะถะธะผะพะณะพ
Get-Content .env

# ะัะพะฒะตัะบะฐ ะทะฐะณััะทะบะธ ะฒ Python
python -c "import os; from env_utils import load_env; load_env(); print(os.getenv('OPENAI_API_KEY'))"
```

**ะะพะทะผะพะถะฝัะต ะฟัะธัะธะฝั**:
- ะคะฐะนะป `.env` ะพััััััะฒัะตั ะธะปะธ ะฒ ะฝะตะฟัะฐะฒะธะปัะฝะพะผ ะผะตััะต
- ะะตะฟัะฐะฒะธะปัะฝัะน ัะพัะผะฐั ะบะปััะฐ
- ะัะพะฑะปะตะผั ั ะบะพะดะธัะพะฒะบะพะน ัะฐะนะปะฐ

#### 2. **ะัะพะฑะปะตะผั ั ััะฑัะธััะฐะผะธ**

**ะัะพะฑะปะตะผะฐ**: `[ERROR] ะะต ัะดะฐะปะพัั ะฟะพะปััะธัั ััะฑัะธััั`

**ะะตัะตะฝะธะต**:
```powershell
# ะัะพะฒะตัะบะฐ URL ะฒัััะฝัั
python subtitle_extractor\get_subtitles.py --url "ะะะจะ_ะกะกะซะะะ"

# ะะพะฟัะพะฑะพะฒะฐัั ะดััะณะพะน ัะทัะบ
python subtitle_extractor\get_subtitles.py --url "ะะะจะ_ะกะกะซะะะ" --language en
```

**ะะพะทะผะพะถะฝัะต ะฟัะธัะธะฝั**:
- ะะธะดะตะพ ะฝะต ะธะผะตะตั ััะฑัะธััะพะฒ
- ะะธะดะตะพ ะฟัะธะฒะฐัะฝะพะต ะธะปะธ ัะดะฐะปะตะฝะฝะพะต
- ะะตะฟัะฐะฒะธะปัะฝัะน ัะพัะผะฐั URL
- ะะปะพะบะธัะพะฒะบะฐ ะฟะพ ัะตะณะธะพะฝั

#### 3. **ะัะธะฑะบะธ ะพะฑัะฐะฑะพัะบะธ ัะตะบััะฐ**

**ะัะพะฑะปะตะผะฐ**: `[INFO] Processing chunk X/Y` ะทะฐะฒะธัะฐะตั ะธะปะธ ะผะฝะพะณะพ ะพัะธะฑะพะบ `429 Too Many Requests`

**ะะตัะตะฝะธะต**:
```powershell
# ะัะพะฒะตัะบะฐ ะฑะฐะปะฐะฝัะฐ OpenAI
# ะะฐะนัะธ ะฝะฐ https://platform.openai.com/usage

# ะฃะฒะตะปะธัะตะฝะธะต ะทะฐะดะตัะถะบะธ ะผะตะถะดั ะทะฐะฟัะพัะฐะผะธ ะบ API (ะฟะพ ัะผะพะปัะฐะฝะธั 1.0 ัะตะบัะฝะดะฐ)
# ะะพะฑะฐะฒััะต ะฒ .env:
OPENAI_API_DELAY=2.0  # ะฃะฒะตะปะธัััะต ะดะพ 2-3 ัะตะบัะฝะด ะฟัะธ ัะฐัััั ะพัะธะฑะบะฐั 429

# ะกะฝะธะถะตะฝะธะต ะฝะฐะณััะทะบะธ
# ะ .env ะธะทะผะตะฝะธัั:
PRIMARY_MODEL=gpt-4o-mini
REFINE_MODEL=

# ๐ SAG v2.0 ะัะพะฒะตัะบะฐ ะพัะดะตะปัะฝะพะณะพ ะฑะปะพะบะฐ
python -m text_processor.sarsekenov_processor --input data/subtitles/VIDEO_ID.json --output data/sag_final --primary-model gpt-4o-mini --refine-model gpt-4o-mini
```

**ะัะธะผะตัะฐะฝะธะต**: ะกะธััะตะผะฐ ะฐะฒัะพะผะฐัะธัะตัะบะธ ะดะพะฑะฐะฒะปัะตั ะทะฐะดะตัะถะบั ะผะตะถะดั ะทะฐะฟัะพัะฐะผะธ ะบ OpenAI API ะดะปั ะธะทะฑะตะถะฐะฝะธั rate limit ะพัะธะฑะพะบ. ะะพ ัะผะพะปัะฐะฝะธั ะทะฐะดะตัะถะบะฐ ัะพััะฐะฒะปัะตั 1.0 ัะตะบัะฝะดั. ะัะปะธ ะฒั ะฒะธะดะธัะต ะผะฝะพะณะพ ะพัะธะฑะพะบ 429, ัะฒะตะปะธัััะต ะทะฝะฐัะตะฝะธะต `OPENAI_API_DELAY` ะฒ `.env` ัะฐะนะปะต ะดะพ 2.0-3.0 ัะตะบัะฝะด.

#### 4. **๐ SAG v2.0 ะกะฟะตัะธัะธัะตัะบะธะต ะฟัะพะฑะปะตะผั**

**ะัะพะฑะปะตะผะฐ**: `too many values to unpack (expected 2)`

**ะะตัะตะฝะธะต**:
```powershell
# ะญัะพ ะธัะฟัะฐะฒะปะตะฝะพ ะฒ ETAP 5 - ะพะฑะฝะพะฒะธัะต ะบะพะด
# ะัะพะฑะปะตะผะฐ ะฑัะปะฐ ะฒ ัะฐัะฟะฐะบะพะฒะบะต ะบะพััะตะถะตะน
# ะขะตะฟะตัั ะตััั ะทะฐัะธัะฐ ะพั ะพัะธะฑะพะบ
```

**ะัะพะฑะปะตะผะฐ**: `overview_summary ัะปะธัะบะพะผ ะบะพัะพัะบะธะน`

**ะะตัะตะฝะธะต**:
```powershell
# ะ ETAP 5 ะดะพะฑะฐะฒะปะตะฝะฐ ะฒะฐะปะธะดะฐัะธั ะดะปะธะฝั
# ะะฒัะพะผะฐัะธัะตัะบะธะน fallback ะฝะฐ ะผะพััะพะปะพะณะธั
# ะะธะฝะธะผัะผ 200 ัะธะผะฒะพะปะพะฒ ะณะฐัะฐะฝัะธัะพะฒะฐะฝ
```

**ะัะพะฑะปะตะผะฐ**: ะัะฐั-ัััะฝะพััะธ ะฝะต ะธะทะฒะปะตะบะฐัััั

**ะะตัะตะฝะธะต**:
```powershell
# ะ ETAP 5 ะดะพะฑะฐะฒะปะตะฝะฐ ะฐะณัะตะณะฐัะธั ะฝะฐ ััะพะฒะฝะต ะดะพะบัะผะตะฝัะฐ
# ะัะพะฒะตัััะต ะฟะพะปะต graph_entities ะฒ JSON
# ะะพะปะถะฝะพ ะฑััั 12+ ัััะฝะพััะตะน ะดะปั ะบะฐัะตััะฒะตะฝะฝัั ะดะฐะฝะฝัั
```

#### 5. **ะัะพะฑะปะตะผั ั ะทะฐะฒะธัะธะผะพัััะผะธ**

**ะัะพะฑะปะตะผะฐ**: `ModuleNotFoundError: No module named 'XXX'`

**ะะตัะตะฝะธะต**:
```powershell
# ะะตัะตัััะฐะฝะพะฒะบะฐ ะพะบััะถะตะฝะธั
Remove-Item -Recurse -Force .venv
python -m venv .venv
.\.venv\Scripts\Activate.ps1
pip install -r requirements.txt

# ะัะพะฒะตัะบะฐ ัััะฐะฝะพะฒะบะธ
pip list | Select-String "openai|tiktoken|orjson"
```

#### 6. **ะัะพะฑะปะตะผั ั PowerShell**

**ะัะพะฑะปะตะผะฐ**: ะัะธะฑะบะธ ะฒัะฟะพะปะฝะตะฝะธั ัะบัะธะฟัะพะฒ

**ะะตัะตะฝะธะต**:
```powershell
# ะะฐะทัะตัะตะฝะธะต ะฒัะฟะพะปะฝะตะฝะธั ัะบัะธะฟัะพะฒ (ะพั ะฐะดะผะธะฝะธัััะฐัะพัะฐ)
Set-ExecutionPolicy RemoteSigned

# ะะปััะตัะฝะฐัะธะฒะฐ - ะฟััะผัะต ะบะพะผะฐะฝะดั
python pipeline_orchestrator.py --config config.yaml
```

### ะัะปะฐะดะพัะฝัะต ะบะพะผะฐะฝะดั

```powershell
# ะะพะปะฝะฐั ะดะธะฐะณะฝะพััะธะบะฐ ัะธััะตะผั
python -c "
import sys
print('Python:', sys.version)
print('Path:', sys.executable)

try:
    import openai, tiktoken, orjson
    print('Dependencies: OK')
except Exception as e:
    print('Dependencies error:', e)

import os
from pathlib import Path
print('.env exists:', Path('.env').exists())
print('config.yaml exists:', Path('config.yaml').exists())
print('urls.txt exists:', Path('urls.txt').exists())

from env_utils import load_env
load_env()
print('API key loaded:', bool(os.getenv('OPENAI_API_KEY')))
"

# ะัะพะฒะตัะบะฐ ะดะพัััะฟะฝะพััะธ YouTube
python -c "
from subtitle_extractor.get_subtitles import YouTubeSubtitlesExtractor
extractor = YouTubeSubtitlesExtractor('temp')
result = extractor.extract_video_id('https://youtu.be/dQw4w9WgXcQ')
print('YouTube parsing:', 'OK' if result else 'FAILED')
"

# ะขะตัั OpenAI API
python -c "
from openai import OpenAI
try:
    client = OpenAI()
    response = client.chat.completions.create(
        model='gpt-4o-mini',
        messages=[{'role': 'user', 'content': 'test'}],
        max_tokens=5
    )
    print('OpenAI API: OK')
except Exception as e:
    print('OpenAI API error:', e)
"
```

### ะะพะณะธ ะธ ะผะพะฝะธัะพัะธะฝะณ

```powershell
# ะัะพัะผะพัั ะปะพะณะพะฒ ะฒ ัะตะฐะปัะฝะพะผ ะฒัะตะผะตะฝะธ
Get-Content pipeline.log -Wait

# ะะฝะฐะปะธะท ะพัะธะฑะพะบ
Select-String "ERROR" pipeline.log | Select-Object -Last 10

# ะกัะฐัะธััะธะบะฐ ะฒัะฟะพะปะฝะตะฝะธั
Select-String "Pipeline complete" pipeline.log | Measure-Object

# ะัะพะฒะตัะบะฐ ัะฐะทะผะตัะพะฒ ัะตะทัะปััะฐัะพะฒ
Get-ChildItem data\sag_final\*.json | Select-Object Name, Length | Sort-Object Length
```

---

## ๐ ะะฐะทะฒะตัััะฒะฐะฝะธะต ะฝะฐ GitHub

### ะะพะดะณะพัะพะฒะบะฐ ะบ ะฟะตัะฒะพะผั ะฟััั

#### 1. **ะกะพะทะดะฐะฝะธะต ัะตะฟะพะทะธัะพัะธั**
```bash
# ะกะพะทะดะฐะนัะต ะฝะพะฒัะน ัะตะฟะพะทะธัะพัะธะน ะฝะฐ GitHub
# ะะ ะธะฝะธัะธะฐะปะธะทะธััะนัะต ั README, .gitignore ะธะปะธ ะปะธัะตะฝะทะธะตะน
```

#### 2. **ะะฝะธัะธะฐะปะธะทะฐัะธั Git ะฒ ะฟัะพะตะบัะต**
```powershell
# ะ ะบะพัะฝะต ะฟัะพะตะบัะฐ voice_bot_pipeline
git init
git add .
git commit -m "Initial commit: Voice Bot Pipeline for YouTube to Vector DB"
```

#### 3. **ะะฐัััะพะนะบะฐ ัะดะฐะปะตะฝะฝะพะณะพ ัะตะฟะพะทะธัะพัะธั**
```powershell
# ะะฐะผะตะฝะธัะต YOUR_USERNAME ะธ YOUR_REPO ะฝะฐ ะฒะฐัะธ ะดะฐะฝะฝัะต
git remote add origin https://github.com/YOUR_USERNAME/YOUR_REPO.git
git branch -M main
```

### โ๏ธ **ะะะะขะะงะะกะะ ะะะะะ: ะะฐัะธัะฐ ัะตะบัะตัะพะฒ**

#### **ะัะพะฑะปะตะผะฐ**: GitHub Push Protection ะฑะปะพะบะธััะตั ะฟััะธ ั ัะตะบัะตัะฐะผะธ
```bash
# โ ะะจะะะะ: Push cannot contain secrets
# GitHub ะฐะฒัะพะผะฐัะธัะตัะบะธ ะพะฑะฝะฐััะถะธะฒะฐะตั API ะบะปััะธ ะธ ะฑะปะพะบะธััะตั ะฟัั
```

#### **ะะตัะตะฝะธะต**: ะัะฐะฒะธะปัะฝะฐั ะฝะฐัััะพะนะบะฐ .gitignore ะธ .env
```powershell
# 1. ะฃะฑะตะดะธัะตัั, ััะพ .env ะะ ะพััะปะตะถะธะฒะฐะตััั Git
git status  # .env ะดะพะปะถะตะฝ ะฑััั ะฒ "Untracked files"

# 2. ะัะปะธ .env ัะถะต ะฒ Git - ัะดะฐะปะธัะต ะตะณะพ ะธะท ะธััะพัะธะธ
git rm --cached .env
git commit -m "Remove .env from tracking"

# 3. ะัะพะฒะตัััะต .gitignore ัะพะดะตัะถะธั:
# .env
# .venv/
# __pycache__/
# *.log
# data/
```

#### **ะกะพะทะดะฐะฝะธะต .env.example (ะฑะตะท ัะตะบัะตัะพะฒ)**
```bash
# ะกะพะทะดะฐะนัะต .env.example ั ะฟัะธะผะตัะพะผ ััััะบัััั
OPENAI_API_KEY=your_openai_api_key_here
REFINE_MODEL=gpt-4o-mini
PRIMARY_MODEL=gpt-4o-mini
```

### ๐ **ะััะตะฝัะธัะธะบะฐัะธั GitHub**

#### **ะะฐัะธะฐะฝั A: Personal Access Token (ัะตะบะพะผะตะฝะดัะตััั)**
```powershell
# 1. ะกะพะทะดะฐะนัะต PAT ะฝะฐ GitHub: Settings โ Developer settings โ Personal access tokens
# 2. ะัะฑะตัะธัะต scopes: repo, workflow
# 3. ะกะบะพะฟะธััะนัะต ัะพะบะตะฝ

# 4. ะะฐัััะพะนัะต Git ะดะปั ะธัะฟะพะปัะทะพะฒะฐะฝะธั ัะพะบะตะฝะฐ
git config --global credential.helper store
# ะัะธ ัะปะตะดัััะตะผ push ะฒะฒะตะดะธัะต username ะธ ัะพะบะตะฝ ะบะฐะบ ะฟะฐัะพะปั
```

#### **ะะฐัะธะฐะฝั B: SSH ะบะปััะธ**
```powershell
# 1. ะะตะฝะตัะฐัะธั SSH ะบะปััะฐ
ssh-keygen -t ed25519 -C "your_email@example.com"

# 2. ะะพะฑะฐะฒะปะตะฝะธะต ะฒ GitHub: Settings โ SSH and GPG keys
# 3. ะะทะผะตะฝะตะฝะธะต remote URL
git remote set-url origin git@github.com:YOUR_USERNAME/YOUR_REPO.git
```

### ๐ค **ะะตัะฒัะน ะฟัั ะฟัะพะตะบัะฐ**

#### **ะะตะทะพะฟะฐัะฝัะน ะฟัั**
```powershell
# 1. ะัะพะฒะตัะบะฐ ััะฐัััะฐ
git status

# 2. ะะพะฑะฐะฒะปะตะฝะธะต ัะฐะนะปะพะฒ (ะธัะบะปััะฐั ัะตะบัะตัั)
git add .

# 3. ะัะพะฒะตัะบะฐ ััะพ .env ะะ ะดะพะฑะฐะฒะปะตะฝ
git status  # .env ะดะพะปะถะตะฝ ะพััััััะฒะพะฒะฐัั

# 4. ะะพะผะผะธั
git commit -m "Initial commit: Complete Voice Bot Pipeline with SAG v2.0

- YouTube subtitle extraction
- Text processing with LLM
- ๐ SAG v2.0: Structured Augmented Generation
- ๐ Automatic block classification and graph entities
- ๐ Morphological processing for Russian language
- ๐ Smart routing with confidence metrics
- ๐ ETAP 5: Fine-tuning completed (90% readiness)
- Vector-ready JSON output
- Domain-specific processors
- Pipeline orchestration"

# 5. ะัั (GitHub ะทะฐะฟัะพัะธั ะฐััะตะฝัะธัะธะบะฐัะธั)
git push -u origin main
```

### ๐ **ะะพัะปะตะดัััะธะต ะพะฑะฝะพะฒะปะตะฝะธั**

#### **ะะถะตะดะฝะตะฒะฝะฐั ัะฐะฑะพัะฐ**
```powershell
# 1. ะัะพะฒะตัะบะฐ ะธะทะผะตะฝะตะฝะธะน
git status
git diff

# 2. ะะพะฑะฐะฒะปะตะฝะธะต ะธ ะบะพะผะผะธั
git add .
git commit -m "Update: [ะบัะฐัะบะพะต ะพะฟะธัะฐะฝะธะต ะธะทะผะตะฝะตะฝะธะน]"

# 3. ะัั
git push origin main
```

#### **ะะฐะฑะพัะฐ ั ะฒะตัะบะฐะผะธ**
```powershell
# ะกะพะทะดะฐะฝะธะต feature ะฒะตัะบะธ
git checkout -b feature/improve-text-processing

# ะะฐะฑะพัะฐ ะฝะฐะด ะธะทะผะตะฝะตะฝะธัะผะธ...
git add .
git commit -m "Feature: Enhanced text cleaning and polishing"

# ะกะปะธัะฝะธะต ั main
git checkout main
git merge feature/improve-text-processing
git push origin main

# ะฃะดะฐะปะตะฝะธะต feature ะฒะตัะบะธ
git branch -d feature/improve-text-processing
```

### ๐จ **ะะตัะตะฝะธะต ะฟัะพะฑะปะตะผ ั ะฟััะตะผ**

#### **ะัะธะฑะบะฐ: "Push cannot contain secrets"**
```powershell
# 1. ะะตะผะตะดะปะตะฝะฝะพ ะพัะผะตะฝะธัะต ะฟะพัะปะตะดะฝะธะน ะบะพะผะผะธั
git reset --soft HEAD~1

# 2. ะฃะดะฐะปะธัะต .env ะธะท Git
git rm --cached .env
git commit -m "Remove .env file"

# 3. ะัะพะฒะตัััะต .gitignore
# 4. ะะพะฒัะพัะธัะต ะบะพะผะผะธั ะธ ะฟัั
```

#### **ะัะธะฑะบะฐ: "Authentication failed"**
```powershell
# 1. ะัะพะฒะตัััะต ัะพะบะตะฝ/SSH ะบะปัั
# 2. ะะฑะฝะพะฒะธัะต credentials
git config --global credential.helper store

# 3. ะะปะธ ะธัะฟะพะปัะทัะนัะต SSH
git remote set-url origin git@github.com:YOUR_USERNAME/YOUR_REPO.git
```

#### **ะัะธะฑะบะฐ: "Large file detected"**
```powershell
# 1. ะัะพะฒะตัััะต ัะฐะทะผะตัั ัะฐะนะปะพะฒ
git status

# 2. ะะพะฑะฐะฒััะต ะฑะพะปััะธะต ัะฐะนะปั ะฒ .gitignore
# 3. ะฃะดะฐะปะธัะต ะธะท Git ะตัะปะธ ัะถะต ะดะพะฑะฐะฒะปะตะฝั
git rm --cached large_file.mp4
```

### ๐ **ะงะตะบ-ะปะธัั ะฟะตัะตะด ะฟััะตะผ**

- [ ] `.env` ัะฐะนะป ะะ ะพััะปะตะถะธะฒะฐะตััั Git
- [ ] `.gitignore` ะฝะฐัััะพะตะฝ ะฟัะฐะฒะธะปัะฝะพ
- [ ] ะะตั API ะบะปััะตะน ะฒ ะบะพะดะต
- [ ] ะะตั ะฑะพะปััะธั ะผะตะดะธะฐัะฐะนะปะพะฒ
- [ ] ะัะต ะทะฐะฒะธัะธะผะพััะธ ะฒ `requirements.txt`
- [ ] README.md ะฐะบััะฐะปะตะฝ
- [ ] ะะพะณะธ ะพัะธัะตะฝั ะพั ัะตะบัะตัะพะฒ

### ๐ **ะัััะธะต ะฟัะฐะบัะธะบะธ**

1. **ะะธะบะพะณะดะฐ ะฝะต ะบะพะผะผะธัััะต `.env` ัะฐะนะปั**
2. **ะัะฟะพะปัะทัะนัะต `.env.example` ะดะปั ะดะพะบัะผะตะฝัะฐัะธะธ**
3. **ะะตะณัะปััะฝะพ ะดะตะปะฐะนัะต ะบะพะผะผะธัั ั ะฟะพะฝััะฝัะผะธ ัะพะพะฑัะตะฝะธัะผะธ**
4. **ะัะพะฒะตััะนัะต ััะฐััั ะฟะตัะตะด ะบะฐะถะดัะผ ะบะพะผะผะธัะพะผ**
5. **ะัะฟะพะปัะทัะนัะต feature ะฒะตัะบะธ ะดะปั ะบััะฟะฝัั ะธะทะผะตะฝะตะฝะธะน**
6. **ะะตัะถะธัะต main ะฒะตัะบั ััะฐะฑะธะปัะฝะพะน**

### ๐ **SAG v2.0 ะัััะธะต ะฟัะฐะบัะธะบะธ**

7. **ะัะฟะพะปัะทัะนัะต ัะพะฒัะตะผะตะฝะฝัะต ะผะพะดะตะปะธ**: `gpt-4o-mini` + `gpt-4o-mini`
8. **ะัะพะฒะตััะนัะต SAG Readiness Score**: ะะพะปะถะตะฝ ะฑััั 80%+
9. **ะะฐะปะธะดะธััะนัะต overview_length**: ะะธะฝะธะผัะผ 200 ัะธะผะฒะพะปะพะฒ
10. **ะะพะฝะธัะพัััะต ะณัะฐั-ัััะฝะพััะธ**: 10+ ัััะฝะพััะตะน ะดะปั ะบะฐัะตััะฒะฐ
11. **ะัะพะฒะตััะนัะต ะผะพััะพะปะพะณะธั**: 2+ ัะปัััะตะฝะธะน ะดะปั ััััะบะพะณะพ ัะทัะบะฐ
12. **ะัะฟะพะปัะทัะนัะต ะฟัะฐะฒะธะปัะฝัะต ะบะพะปะปะตะบัะธะธ**: ะะฒัะพะผะฐัะธัะตัะบะฐั ะผะฐัััััะธะทะฐัะธั

---

## ๐ ะะพะดะดะตัะถะบะฐ ะธ ัะฐะทะฒะธัะธะต

### ะะพะฝัะฐะบัั
- **GitHub Issues**: [ะกะพะทะดะฐัั issue](https://github.com/your-repo/issues)
- **ะะพะบัะผะตะฝัะฐัะธั**: ะญัะพั README ัะฐะนะป
- **ะะพะณะธ**: `pipeline.log` ะดะปั ะดะธะฐะณะฝะพััะธะบะธ
- **๐ SAG v2.0 ะะฝะฐะปะธะท**: `ETAP_5_FINAL_REPORT.md` ะดะปั ะดะตัะฐะปะตะน
- **๐ ะัะบะพะฒะพะดััะฒะพ ะฟะพ ัะฐะทัะฐะฑะพัะบะต**: `DEVELOPMENT_GUIDELINES.md` ะดะปั ะฑะตะทะพะฟะฐัะฝะพะน ัะฐะทัะฐะฑะพัะบะธ

---

## ๐ **ะะะะขะะะะะฏ ะะะะ ะะะะะซะฅ (ChromaDB + Sentence-Transformers)**

### **ะะฑะทะพั**

ะกะธััะตะผะฐ ะธะฝัะตะณัะธัะพะฒะฐะฝะฐ ั **ChromaDB** ะดะปั ัะตะผะฐะฝัะธัะตัะบะพะณะพ ะฟะพะธัะบะฐ ะฟะพ ะฒัะตะผ ะพะฑัะฐะฑะพัะฐะฝะฝัะผ SAG v2.0 ะดะฐะฝะฝัะผ. ะะพะดะดะตัะถะธะฒะฐะตััั ะฒะตะบัะพัะธะทะฐัะธั ะฝะฐ ััะตั ััะพะฒะฝัั: ะดะพะบัะผะตะฝัั, ะฑะปะพะบะธ ะธ ะณัะฐั-ัััะฝะพััะธ.

**๐ ะะะะะ:** ะกะธััะตะผะฐ ะธัะฟะพะปัะทัะตั **Sentence-Transformers** ะดะปั ะปะพะบะฐะปัะฝะพะน ะณะตะฝะตัะฐัะธะธ ัะผะฑะตะดะดะธะฝะณะพะฒ ะฑะตะท ะทะฐะฒะธัะธะผะพััะธ ะพั OpenAI API. ะญัะพ ะพะฑะตัะฟะตัะธะฒะฐะตั:
- โ **ะะตั ะทะฐััะฐั ะฝะฐ API** - ะฒัะต ัะผะฑะตะดะดะธะฝะณะธ ะณะตะฝะตัะธัััััั ะปะพะบะฐะปัะฝะพ
- โ **ะะตั rate limits** - ะพะฑัะฐะฑะฐััะฒะฐะนัะต ัะบะพะปัะบะพ ัะณะพะดะฝะพ ัะตะบััะพะฒ
- โ **ะััััะฐั ะพะฑัะฐะฑะพัะบะฐ** - ะพัะพะฑะตะฝะฝะพ ะฝะฐ GPU (ะฒ 10-50 ัะฐะท ะฑััััะตะต)
- โ **ะะพะปะฝัะน ะบะพะฝััะพะปั** - ะฒะพะทะผะพะถะฝะพััั fine-tuning ะผะพะดะตะปะตะน

### **ะะพะทะผะพะถะฝะพััะธ**

- **ะะฝะพะณะพััะพะฒะฝะตะฒะฐั ะธะฝะดะตะบัะฐัะธั**: ะะพะบัะผะตะฝัั, ะฑะปะพะบะธ, ะณัะฐั-ัััะฝะพััะธ ะธ Knowledge Graph ะธะฝะดะตะบัะธัััััั ะพัะดะตะปัะฝะพ
- **ะกะตะผะฐะฝัะธัะตัะบะธะน ะฟะพะธัะบ**: ะะพะธัะบ ะฟะพ ัะผััะปั, ะฐ ะฝะต ะฟะพ ะบะปััะตะฒัะผ ัะปะพะฒะฐะผ
- **ะคะธะปัััะฐัะธั**: ะะพะธัะบ ั ัะธะปัััะฐะผะธ ะฟะพ ะผะตัะฐะดะฐะฝะฝัะผ (video_id, block_type, collection_target ะธ ะดั.)
- **ะะธะฑัะธะดะฝัะน ะฟะพะธัะบ**: ะะพะผะฑะธะฝะธัะพะฒะฐะฝะฝัะน ะฟะพะธัะบ ะฟะพ ะฒัะตะผ ะบะพะปะปะตะบัะธัะผ ั ะฒะตัะฐะผะธ
- **ะะฒัะพะผะฐัะธัะตัะบะฐั ะธะฝะดะตะบัะฐัะธั**: ะะฟัะธะพะฝะฐะปัะฝะฐั ะธะฝะดะตะบัะฐัะธั ะฟะพัะปะต ะพะฑัะฐะฑะพัะบะธ pipeline
- **๐ง Knowledge Graph ะธะฝะดะตะบัะฐัะธั**: ะฃะทะปั ะณัะฐัะฐ ะธะฝะดะตะบัะธัััััั ั ะบะพะฝัะตะบััะพะผ ัะฒัะทะตะน ะดะปั ะผะฐะบัะธะผะฐะปัะฝะพ ะฟะพะปะฝะพะณะพ ะฟะพะธัะบะฐ

### **ะััะธัะตะบัััะฐ**

#### **ะะพะปะปะตะบัะธะธ ChromaDB:**

1. **`sag_v2_documents`** - ะะตะบัะพัะธะทะฐัะธั ะฝะฐ ััะพะฒะฝะต ะดะพะบัะผะตะฝัะฐ
   - ะขะตะบัั: `document_title + document_summary`
   - ะะตัะฐะดะฐะฝะฝัะต: video_id, main_topics, collection_target, difficulty_level ะธ ะดั.

2. **`sag_v2_blocks`** - ะะตะบัะพัะธะทะฐัะธั ะฑะปะพะบะพะฒ
   - ะขะตะบัั: `title + summary + keywords + content`
   - ะะตัะฐะดะฐะฝะฝัะต: block_id, start, end, block_type, graph_entities, youtube_link ะธ ะดั.

3. **`sag_v2_graph_entities`** - ะะตะบัะพัะธะทะฐัะธั ะณัะฐั-ัััะฝะพััะตะน
   - ะขะตะบัั: `entity_name + context` (ะธะท ะฑะปะพะบะพะฒ ะณะดะต ะฒัััะตัะฐะตััั)
   - ะะตัะฐะดะฐะฝะฝัะต: entity_name, video_id, frequency, domain

4. **๐ง `knowledge_graph`** - ะะตะบัะพัะธะทะฐัะธั ัะทะปะพะฒ Knowledge Graph
   - ะขะตะบัั: `node_name + description + connections` (ัะฒัะทะธ ั ะดััะณะธะผะธ ัะทะปะฐะผะธ)
   - ะะตัะฐะดะฐะฝะฝัะต: node_id, node_name, node_type, video_id, connections_count, source
   - **ะัะพะฑะตะฝะฝะพััั**: ะะฐะถะดัะน ัะทะตะป ะธะฝะดะตะบัะธััะตััั ั ะธะฝัะพัะผะฐัะธะตะน ะพ ะตะณะพ ัะฒัะทัั ะดะปั ะผะฐะบัะธะผะฐะปัะฝะพ ะฟะพะปะฝะพะณะพ ะบะพะฝัะตะบััะฐ

### **SD metadata migration (PRD v4.0)**

ะะปั ัะถะต ะฟัะพะธะฝะดะตะบัะธัะพะฒะฐะฝะฝัั ะฑะปะพะบะพะฒ ะฑะตะท SD-ะฟะพะปะตะน ะดะพะฑะฐะฒะปะตะฝ ะพะดะฝะพัะฐะทะพะฒัะน ัะบัะธะฟั:
- `scripts/migrate_add_sd_labels.py`

ะงัะพ ะดะตะปะฐะตั ัะบัะธะฟั:
- ัะบะฐะฝะธััะตั ะบะพะปะปะตะบัะธั ChromaDB;
- ะฝะฐัะพะดะธั ะฑะปะพะบะธ ะฑะตะท `sd_level`;
- ะฟัะพััะฐะฒะปัะตั `sd_level`, `sd_secondary`, `emotional_tone` ัะตัะตะท `SDLabeler`;
- ะพะฑะฝะพะฒะปัะตั ัะพะปัะบะพ metadata (`collection.update()`), ะฑะตะท ะฟะตัะตะทะฐะฟะธัะธ ะดะพะบัะผะตะฝัะพะฒ/ัะผะฑะตะดะดะธะฝะณะพะฒ;
- ะฟัะธ ะพัะธะฑะบะต SD-ัะฐะทะผะตัะบะธ ะฟัะธะผะตะฝัะตั fallback `GREEN` ะธ ะฟัะพะดะพะปะถะฐะตั ะฒัะฟะพะปะฝะตะฝะธะต.

ะะฐะถะฝะพ ะฟะพ ะฟัััะผ ะธ ะบะพะปะปะตะบัะธัะผ:
- ะฒ ััะพะผ ัะตะฟะพะทะธัะพัะธะธ ัะฐะฑะพัะฐั ะฑะฐะทะฐ ChromaDB ะพะฑััะฝะพ ะฒ `data/chromadb`;
- ะธะผั ะบะพะปะปะตะบัะธะธ ะทะฐะฒะธัะธั ะพั ะฒะฐัะตะณะพ ะบะพะฝัะธะณะฐ/ะธััะพัะธะธ ะธะฝะดะตะบัะฐัะธะธ (ัะฐััะพ `sag_v2_blocks`; ะฒ ััะฐััั ััะตะฝะฐัะธัั ะผะพะถะตั ะฑััั `salamat_blocks`).

ะัะธะผะตัั ะทะฐะฟััะบะฐ:

```powershell
# ะขะตัั ะฑะตะท ะทะฐะฟะธัะธ
python -m scripts.migrate_add_sd_labels --dry-run --limit 10 --chroma-path .\data\chromadb --collection sag_v2_blocks

# ะะตะฐะปัะฝะฐั ะผะธะณัะฐัะธั
python -m scripts.migrate_add_sd_labels --chroma-path .\data\chromadb --collection sag_v2_blocks
```

### **ะัััััะน ััะฐัั**

#### **1. ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน**

```powershell
# ะะบัะธะฒะฐัะธั ะฒะธัััะฐะปัะฝะพะณะพ ะพะบััะถะตะฝะธั
.\.venv\Scripts\Activate.ps1

# ะฃััะฐะฝะพะฒะบะฐ chromadb (ัะถะต ะฒ requirements.txt)
pip install chromadb
```

#### **2. ะฃััะฐะฝะพะฒะบะฐ Sentence-Transformers**

```powershell
# ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน (ะฒะบะปััะฐั sentence-transformers, transformers, torch)
pip install -r requirements.txt

# ะัะธ ะฟะตัะฒะพะน ะทะฐะณััะทะบะต ะผะพะดะตะปะธ ะพะฝะฐ ะฑัะดะตั ะฐะฒัะพะผะฐัะธัะตัะบะธ ัะบะฐัะฐะฝะฐ (~1.2 GB ะดะปั multilingual-e5-large)
```

#### **3. ะะฐัััะพะนะบะฐ config.yaml**

ะ `config.yaml` ัะถะต ะดะพะฑะฐะฒะปะตะฝะฐ ัะตะบัะธั `vector_db`:

```yaml
vector_db:
  db_path: "data/chromadb"
  collection_prefix: "sag_v2"
  auto_index: false  # ะฃััะฐะฝะพะฒะธัะต true ะดะปั ะฐะฒัะพะผะฐัะธัะตัะบะพะน ะธะฝะดะตะบัะฐัะธะธ
  index_levels:
    - "documents"
    - "blocks"
    - "graph_entities"
    - "knowledge_graph"  # ๐ง ะะฐะบัะธะผะฐะปัะฝะพ ะฟะพะปะฝะฐั ะฑะฐะทะฐ ะทะฝะฐะฝะธะน ัะพ ะฒัะตะผะธ ะฒะทะฐะธะผะพัะฒัะทัะผะธ
  embedding:
    provider: "sentence-transformers"  # ะัะพะฒะฐะนะดะตั ัะผะฑะตะดะดะธะฝะณะพะฒ
    model: "intfloat/multilingual-e5-large"  # ะะพะดะตะปั Sentence-Transformers
    dimension: 1024  # ะะฐะทะผะตัะฝะพััั ัะผะฑะตะดะดะธะฝะณะพะฒ (ะดะปั multilingual-e5-large)
  batch_size: 100
```

#### **4. ะะฐัััะพะนะบะฐ ะฟะตัะตะผะตะฝะฝัั ะพะบััะถะตะฝะธั (.env)**

ะะพะฑะฐะฒััะต ะฒ `.env`:
```env
MODEL_EMBEDDING=sentence-transformers
SENTENCE_TRANSFORMERS_MODEL=intfloat/multilingual-e5-large
# SENTENCE_TRANSFORMERS_DEVICE=cuda  # ะะฐัะบะพะผะผะตะฝัะธััะนัะต ะดะปั ะธัะฟะพะปัะทะพะฒะฐะฝะธั GPU
```

#### **5. ะะฝะดะตะบัะฐัะธั ัะตัะตะท Pipeline**

```powershell
# ะะฝะดะตะบัะฐัะธั ะฟัะธ ะพะฑัะฐะฑะพัะบะต (ัะปะฐะณ --index-to-vector-db)
python pipeline_orchestrator.py --url "https://youtu.be/VIDEO_ID" --config config.yaml --index-to-vector-db

# ะะปะธ ะฒะบะปััะธัะต auto_index: true ะฒ config.yaml
```

#### **6. ะะฝะดะตะบัะฐัะธั ัััะตััะฒัััะธั ัะฐะนะปะพะฒ**

```powershell
# ะะฝะดะตะบัะฐัะธั ะฒัะตั ัััะตััะฒัััะธั SAG v2.0 ัะฐะนะปะพะฒ
python scripts/index_existing_files.py --config config.yaml --input-dir data/sag_final

# ะะฝะดะตะบัะฐัะธั ัะพะปัะบะพ ะฑะปะพะบะพะฒ
python scripts/index_existing_files.py --levels blocks

# ะะฝะดะตะบัะฐัะธั ั ะบะฐััะพะผะฝัะผ ัะฐะฑะปะพะฝะพะผ
python scripts/index_existing_files.py --pattern "*.for_vector.json"
```

#### **7. ะกะตะผะฐะฝัะธัะตัะบะธะน ะฟะพะธัะบ**

```powershell
# ะขะตัั ัะพะทะดะฐะฝะธั ัะผะฑะตะดะดะธะฝะณะพะฒ (ะฟัะพะฒะตัะบะฐ ัะฐะฑะพัั Sentence-Transformers)
python scripts/test_vector_search.py --query "ัะตััะพะฒัะน ัะตะบัั ะดะปั ะฟัะพะฒะตัะบะธ ัะผะฑะตะดะดะธะฝะณะพะฒ" --type test_embeddings

# ะะธะฑัะธะดะฝัะน ะฟะพะธัะบ (ะฟะพ ะฒัะตะผ ะบะพะปะปะตะบัะธัะผ)
python scripts/test_vector_search.py --query "ััะพ ัะฐะบะพะต ะฝะตะนัะพััะฐะปะบะธะฝะณ" --type hybrid --top-k 10

# ะะพะธัะบ ะฟะพ ะฑะปะพะบะฐะผ
python scripts/test_vector_search.py --query "ะฟัะธะฝััะธะต ะธ ะพัะพะทะฝะฐะฒะฐะฝะธะต" --type blocks --top-k 5

# ะะพะธัะบ ั ัะธะปัััะฐะผะธ
python scripts/test_vector_search.py --query "ะผะตะดะธัะฐัะธั" --type blocks --filter '{"video_id": "hDtLWJApJDQ"}'
```

### **ะัะฟะพะปัะทะพะฒะฐะฝะธะต ะฒ ะบะพะดะต**

```python
from vector_db import VectorDBManager, EmbeddingService, VectorSearch
import yaml

# ะะฐะณััะทะบะฐ ะบะพะฝัะธะณััะฐัะธะธ
with open('config.yaml', 'r') as f:
    config = yaml.safe_load(f)

# ะะฝะธัะธะฐะปะธะทะฐัะธั ะบะพะผะฟะพะฝะตะฝัะพะฒ
db_manager = VectorDBManager(
    db_path=config['vector_db']['db_path'],
    collection_prefix=config['vector_db']['collection_prefix']
)
# EmbeddingService ะฐะฒัะพะผะฐัะธัะตัะบะธ ะธัะฟะพะปัะทัะตั ะผะพะดะตะปั ะธะท SENTENCE_TRANSFORMERS_MODEL ะธะปะธ config
embedding_service = EmbeddingService(
    model=config['vector_db']['embedding'].get('model')  # ะะฟัะธะพะฝะฐะปัะฝะพ, ะผะพะถะฝะพ ะฝะต ัะบะฐะทัะฒะฐัั
)
search = VectorSearch(db_manager, embedding_service)

# ะะพะธัะบ ะฟะพ ะฑะปะพะบะฐะผ
results = search.search_blocks(
    query="ััะพ ัะฐะบะพะต ะฟัะพะฑัะถะดะตะฝะธะต",
    top_k=5,
    filters={"block_type": "theory"}
)

# ะะธะฑัะธะดะฝัะน ะฟะพะธัะบ
results = search.hybrid_search(
    query="ะฟัะธะฝััะธะต ะธ ะปัะฑะพะฒั",
    top_k=10
)
```

### **ะกัััะบัััะฐ ัะตะทัะปััะฐัะพะฒ ะฟะพะธัะบะฐ**

```python
{
    "id": "hDtLWJApJDQ_000",
    "document": "ะะพะปะฝัะน ัะตะบัั ะฑะปะพะบะฐ...",
    "metadata": {
        "block_id": "hDtLWJApJDQ_000",
        "video_id": "hDtLWJApJDQ",
        "start": "00:00:00",
        "end": "00:15:18",
        "block_type": "question",
        "youtube_link": "https://youtube.com/watch?v=hDtLWJApJDQ&t=0s",
        # ... ะดััะณะธะต ะผะตัะฐะดะฐะฝะฝัะต
    },
    "distance": 0.234,  # ะะฐัััะพัะฝะธะต (ัะตะผ ะผะตะฝััะต, ัะตะผ ัะตะปะตะฒะฐะฝัะฝะตะต)
    "source": "block"  # ะะปั ะณะธะฑัะธะดะฝะพะณะพ ะฟะพะธัะบะฐ
}
```

### **ะฃะฟัะฐะฒะปะตะฝะธะต ะบะพะปะปะตะบัะธัะผะธ**

```python
from vector_db import VectorDBManager

db_manager = VectorDBManager(db_path="data/chromadb")

# ะกะฟะธัะพะบ ะบะพะปะปะตะบัะธะน
collections = db_manager.list_collections()
print(collections)  # ['sag_v2_documents', 'sag_v2_blocks', 'sag_v2_graph_entities']

# ะฃะดะฐะปะตะฝะธะต ะบะพะปะปะตะบัะธะธ
db_manager.delete_collection("documents")

# ะกะฑัะพั ะฒัะตะน ะฑะฐะทั (ะพััะพัะพะถะฝะพ!)
# db_manager.reset_database()
```

### **ะัะพะธะทะฒะพะดะธัะตะปัะฝะพััั**

- **ะะฐะทะผะตัะฝะพััั ัะผะฑะตะดะดะธะฝะณะพะฒ**: 1024 (intfloat/multilingual-e5-large)
- **ะะตััะธะบะฐ**: Cosine similarity
- **ะะฐัั-ะพะฑัะฐะฑะพัะบะฐ**: ะะพ 100 ัะปะตะผะตะฝัะพะฒ ะทะฐ ัะฐะท (ะฝะฐัััะฐะธะฒะฐะตััั)
- **ะะพะบะฐะปัะฝะพะต ััะฐะฝะตะฝะธะต**: ะัะต ะดะฐะฝะฝัะต ััะฐะฝัััั ะฒ `data/chromadb/`
- **ะฃัััะพะนััะฒะพ**: ะะฒัะพะผะฐัะธัะตัะบะธ ะธัะฟะพะปัะทัะตั GPU ะตัะปะธ ะดะพัััะฟะตะฝ, ะธะฝะฐัะต CPU

### **๐ ะะะขะะะะะะฆะะฏ ะะะะขะะะะะะฆะะ**

ะกะธััะตะผะฐ ะธัะฟะพะปัะทัะตั **Sentence-Transformers** ะดะปั ะปะพะบะฐะปัะฝะพะน ะณะตะฝะตัะฐัะธะธ ัะผะฑะตะดะดะธะฝะณะพะฒ:

- **ะะพะบะฐะปัะฝะฐั ะพะฑัะฐะฑะพัะบะฐ**: ะะตั ะทะฐะฒะธัะธะผะพััะธ ะพั ะฒะฝะตัะฝะธั API
- **ะะฐัั-ะพะฑัะฐะฑะพัะบะฐ**: ะญััะตะบัะธะฒะฝะฐั ะพะฑัะฐะฑะพัะบะฐ ะฑะพะปััะธั ะพะฑัะตะผะพะฒ ัะตะบััะฐ
- **GPU ััะบะพัะตะฝะธะต**: ะ 10-50 ัะฐะท ะฑััััะตะต ะฝะฐ GPU (ะตัะปะธ ะดะพัััะฟะตะฝ)
- **ะะตั rate limits**: ะะฑัะฐะฑะฐััะฒะฐะนัะต ัะบะพะปัะบะพ ัะณะพะดะฝะพ ัะตะบััะพะฒ ะฑะตะท ะพะณัะฐะฝะธัะตะฝะธะน

**ะัะพะธะทะฒะพะดะธัะตะปัะฝะพััั (ะฝะฐ CPU):**
- ะะพะบัะผะตะฝั (30 ะฑะปะพะบะพะฒ): ~2-5 ัะตะบัะฝะด
- 180-ะผะธะฝััะฝะฐั ะปะตะบัะธั: ~10-20 ัะตะบัะฝะด
- ะะฐัั ะธะท 100 ัะตะบััะพะฒ: ~5-10 ัะตะบัะฝะด

**ะัะพะธะทะฒะพะดะธัะตะปัะฝะพััั (ะฝะฐ GPU):**
- ะะพะบัะผะตะฝั (30 ะฑะปะพะบะพะฒ): ~0.2-0.5 ัะตะบัะฝะดั
- 180-ะผะธะฝััะฝะฐั ะปะตะบัะธั: ~1-2 ัะตะบัะฝะดั
- ะะฐัั ะธะท 100 ัะตะบััะพะฒ: ~0.5-1 ัะตะบัะฝะดะฐ

**ะัะตะธะผััะตััะฒะฐ:**
- โ **ะะตั ะทะฐััะฐั ะฝะฐ API** - ะฒัะต ัะผะฑะตะดะดะธะฝะณะธ ะณะตะฝะตัะธัััััั ะปะพะบะฐะปัะฝะพ
- โ **ะะตั rate limits** - ะพะฑัะฐะฑะฐััะฒะฐะนัะต ัะบะพะปัะบะพ ัะณะพะดะฝะพ ัะตะบััะพะฒ
- โ **ะััััะฐั ะพะฑัะฐะฑะพัะบะฐ** - ะพัะพะฑะตะฝะฝะพ ะฝะฐ GPU
- โ **ะะพะปะฝัะน ะบะพะฝััะพะปั** - ะฒะพะทะผะพะถะฝะพััั fine-tuning ะผะพะดะตะปะตะน

**ะขะตััะธัะพะฒะฐะฝะธะต:**
```bash
python scripts/test_vectorization_speed.py
```

### **ะะพะฝะธัะพัะธะฝะณ**

```powershell
# ะัะพะฒะตัะบะฐ ัะฐะทะผะตัะฐ ะฑะฐะทั ะดะฐะฝะฝัั
Get-ChildItem data\chromadb -Recurse | Measure-Object -Property Length -Sum

# ะัะพัะผะพัั ะบะพะปะปะตะบัะธะน
python -c "from vector_db import VectorDBManager; db = VectorDBManager(); print(db.list_collections())"
```

### **ะฃัััะฐะฝะตะฝะธะต ะฝะตะฟะพะปะฐะดะพะบ**

**ะัะพะฑะปะตะผะฐ**: ะะพะปะปะตะบัะธั ะฝะต ะฝะฐะนะดะตะฝะฐ
```powershell
# ะฃะฑะตะดะธัะตัั, ััะพ ัะฐะนะปั ะฟัะพะธะฝะดะตะบัะธัะพะฒะฐะฝั
python scripts/index_existing_files.py --config config.yaml
```

**ะัะพะฑะปะตะผะฐ**: ะัะธะฑะบะฐ ะฟัะธ ัะพะทะดะฐะฝะธะธ ัะผะฑะตะดะดะธะฝะณะพะฒ
```powershell
# ะัะพะฒะตัััะต ัััะฐะฝะพะฒะบั Sentence-Transformers
pip install sentence-transformers transformers torch

# ะัะพะฒะตัััะต ะฟะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั ะฒ .env
# SENTENCE_TRANSFORMERS_MODEL=intfloat/multilingual-e5-large

# ะัะธ ะฟะตัะฒะพะน ะทะฐะณััะทะบะต ะผะพะดะตะปั ะฑัะดะตั ัะบะฐัะฐะฝะฐ ะฐะฒัะพะผะฐัะธัะตัะบะธ (~1.2 GB)
# ะฃะฑะตะดะธัะตัั ััะพ ะตััั ะธะฝัะตัะฝะตั-ัะพะตะดะธะฝะตะฝะธะต ะธ ะดะพััะฐัะพัะฝะพ ะผะตััะฐ ะฝะฐ ะดะธัะบะต
```

**ะัะพะฑะปะตะผะฐ**: ะะตะดะปะตะฝะฝะฐั ะพะฑัะฐะฑะพัะบะฐ ัะผะฑะตะดะดะธะฝะณะพะฒ
```powershell
# ะัะฟะพะปัะทัะนัะต GPU ะดะปั ััะบะพัะตะฝะธั (ะตัะปะธ ะดะพัััะฟะตะฝ)
# ะะพะฑะฐะฒััะต ะฒ .env: SENTENCE_TRANSFORMERS_DEVICE=cuda

# ะฃััะฐะฝะพะฒะธัะต PyTorch ั CUDA ะฟะพะดะดะตัะถะบะพะน:
pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118

# ะัะพะฒะตัััะต ะบะฐะบะพะต ััััะพะนััะฒะพ ะธัะฟะพะปัะทัะตััั:
python scripts/test_vector_search.py --query "ัะตัั" --type test_embeddings
# ะ ะปะพะณะฐั ะฑัะดะตั ัะบะฐะทะฐะฝะพ: "ััััะพะนััะฒะพ: cpu" ะธะปะธ "ััััะพะนััะฒะพ: cuda:0"
```

**ะัะพะฑะปะตะผะฐ**: ะะตะดะปะตะฝะฝัะน ะฟะพะธัะบ
```powershell
# ะฃะผะตะฝััะธัะต top_k ะธะปะธ ะธัะฟะพะปัะทัะนัะต ัะธะปัััั ะดะปั ััะถะตะฝะธั ะพะฑะปะฐััะธ ะฟะพะธัะบะฐ
# ะัะพะฒะตัััะต ัะฐะทะผะตั ะฑะฐะทั ะดะฐะฝะฝัั
```

**ะัะพะฑะปะตะผะฐ**: ะะตัะพะฒะผะตััะธะผะพััั ัะพ ััะฐััะผะธ ะบะพะปะปะตะบัะธัะผะธ
```powershell
# ะกัะฐััะต ะบะพะปะปะตะบัะธะธ ัะพะทะดะฐะฝั ั ัะฐะทะผะตัะฝะพัััั 1536 (OpenAI), ะฝะพะฒัะต - 1024 (Sentence-Transformers)
# ะฃะดะฐะปะธัะต ััะฐััะต ะบะพะปะปะตะบัะธะธ ะธ ะฟะตัะตะธะฝะดะตะบัะธััะนัะต:
python scripts/reset_vector_db.py
python scripts/index_existing_files.py --config config.yaml
```

### **๐ ะะธะณัะฐัะธั ั OpenAI ะฝะฐ Sentence-Transformers**

ะกะธััะตะผะฐ ะฑัะปะฐ ะผะธะณัะธัะพะฒะฐะฝะฐ ั OpenAI embeddings ะฝะฐ Sentence-Transformers:

**ะงัะพ ะธะทะผะตะฝะธะปะพัั:**
- โ ะญะผะฑะตะดะดะธะฝะณะธ ัะตะฟะตัั ะณะตะฝะตัะธัััััั ะปะพะบะฐะปัะฝะพ ัะตัะตะท Sentence-Transformers
- โ ะะตั ะทะฐะฒะธัะธะผะพััะธ ะพั OpenAI API ะดะปั ะฒะตะบัะพัะธะทะฐัะธะธ
- โ ะะฐะทะผะตัะฝะพััั ะธะทะผะตะฝะตะฝะฐ ั 1536 ะฝะฐ 1024
- โ OpenAI API ะพััะฐะตััั ัะพะปัะบะพ ะดะปั ัะตะบััะพะฒะพะน ะพะฑัะฐะฑะพัะบะธ (ะฟัะตะพะฑัะฐะทะพะฒะฐะฝะธะต ัััะพะณะพ ัะตะบััะฐ ะฒ JSON)

**ะงัะพ ะฝัะถะฝะพ ัะดะตะปะฐัั:**
1. ะฃััะฐะฝะพะฒะธัั ะทะฐะฒะธัะธะผะพััะธ: `pip install -r requirements.txt`
2. ะฃะดะฐะปะธัั ััะฐััะต ะบะพะปะปะตะบัะธะธ (ะตัะปะธ ะตััั): `python scripts/reset_vector_db.py`
3. ะะตัะตะธะฝะดะตะบัะธัะพะฒะฐัั ะดะฐะฝะฝัะต: `python scripts/index_existing_files.py --config config.yaml`

**ะะฐะถะฝะพ:** OpenAI API (`OPENAI_API_KEY`) ะฒัะต ะตัะต ะฝัะถะตะฝ ะดะปั ัะตะบััะพะฒะพะน ะพะฑัะฐะฑะพัะบะธ ะฒ `text_processor/` - ะฝะต ัะดะฐะปัะนัะต ะตะณะพ ะธะท `.env`!

---

## ๐ **ะะะกะะะะะะ ะะะะะะะะะฏ (2025-12-04)**

### **๐ฏ ะะตะฐะปะธะทะพะฒะฐะฝะฐ ัะธััะตะผะฐ ัะฟัะฐะฒะปะตะฝะธั ะฒะธะดะตะพ-ัะตะตัััะพะผ**

#### **ะงัะพ ะฑัะปะพ ะดะพะฑะฐะฒะปะตะฝะพ:**

1. **๐ Video Registry (`utils/video_registry.py`)**
   - ะฆะตะฝััะฐะปัะฝัะน ัะตะตััั ะฒัะตั ะฒะธะดะตะพ ั ะผะตัะฐะดะฐะฝะฝัะผะธ
   - ะัะพะฒะตัะบะฐ ะดัะฑะปะธะบะฐัะพะฒ ะฟะตัะตะด ะพะฑัะฐะฑะพัะบะพะน
   - ะััะปะตะถะธะฒะฐะฝะธะต ััะฐัััะพะฒ: `pending`, `processing`, `processed`, `failed`, `skipped`
   - ะััะพัะธั ะพะฑัะฐะฑะพัะบะธ ั ะผะตััะธะบะฐะผะธ (ะฑะปะพะบะธ, ัััะฝะพััะธ, ะฒัะตะผั, ััะพะธะผะพััั API)
   - ะกะพััะฐะฝะตะฝะธะต ะฟััะตะน ะบ ัะฐะนะปะฐะผ
   - ะะตัะฐะปัะฝะฐั ััะฐัะธััะธะบะฐ ัะตะตัััะฐ

2. **๐ฅ YouTube Metadata Fetcher (`utils/youtube_metadata_fetcher.py`)**
   - ะะพะปััะตะฝะธะต ะฟะพะปะฝัั ะผะตัะฐะดะฐะฝะฝัั ัะตัะตะท YouTube Data API v3
   - ะะฐะทะฒะฐะฝะธะต, ะบะฐะฝะฐะป, ะดะฐัะฐ ะฟัะฑะปะธะบะฐัะธะธ, ะดะปะธัะตะปัะฝะพััั, ะพะฟะธัะฐะฝะธะต, ัะตะณะธ
   - ะัะพะฒะตัะบะฐ ะฝะฐะปะธัะธั ััะฑัะธััะพะฒ ะธ ะธั ัะธะฟะฐ
   - Fallback ะฝะฐ ะฑะฐะทะพะฒัะต ะผะตัะฐะดะฐะฝะฝัะต ะฟัะธ ะฝะตะดะพัััะฟะฝะพััะธ API

3. **๐ File Utils (`utils/file_utils.py`)**
   - ะกะพะทะดะฐะฝะธะต ะฑะตะทะพะฟะฐัะฝัั ะธะผะตะฝ ัะฐะนะปะพะฒ ะธะท ะฝะฐะทะฒะฐะฝะธะน ะฒะธะดะตะพ
   - ะคะพัะผะฐั ะธะผะตะฝ: `{date}_{video_id}_{safe_title}.{ext}`
   - ะัะณะฐะฝะธะทะฐัะธั ะฟะพ ะดะฐัะฐะผ: `{year}/{month}/`

4. **๐๏ธ CLI ะดะปั ัะฟัะฐะฒะปะตะฝะธั (`scripts/manage_registry.py`)**
   - ะะพะผะฐะฝะดะฐ `stats` - ััะฐัะธััะธะบะฐ ัะตะตัััะฐ
   - ะะพะผะฐะฝะดะฐ `info <video_id>` - ะธะฝัะพัะผะฐัะธั ะพ ะฒะธะดะตะพ
   - ะะพะผะฐะฝะดะฐ `pending` - ัะฟะธัะพะบ ะฝะตะพะฑัะฐะฑะพัะฐะฝะฝัั ะฒะธะดะตะพ
   - ะะพะผะฐะฝะดะฐ `failed` - ัะฟะธัะพะบ ะฟัะพะฑะปะตะผะฝัั ะฒะธะดะตะพ

5. **๐ ะะธะณัะฐัะธั ัััะตััะฒัััะธั ะดะฐะฝะฝัั (`scripts/migrate_existing_videos.py`)**
   - ะะพะฑะฐะฒะปะตะฝะธะต ัะถะต ะพะฑัะฐะฑะพัะฐะฝะฝัั ะฒะธะดะตะพ ะฒ ัะตะตััั
   - ะะพะปััะตะฝะธะต ะธั ะผะตัะฐะดะฐะฝะฝัั ัะตัะตะท API
   - ะะฑะฝะพะฒะปะตะฝะธะต ะฟััะตะน ะบ ัะฐะนะปะฐะผ

#### **ะะฝัะตะณัะฐัะธั ะฒ Pipeline:**

- โ ะัะพะฒะตัะบะฐ ะดัะฑะปะธะบะฐัะพะฒ ะฟะตัะตะด ะพะฑัะฐะฑะพัะบะพะน
- โ ะะพะปััะตะฝะธะต ะผะตัะฐะดะฐะฝะฝัั ัะตัะตะท YouTube API
- โ ะกะพััะฐะฝะตะฝะธะต ัะฐะนะปะพะฒ ั ะดะฐัะฐะผะธ ะธ ะฝะฐะทะฒะฐะฝะธัะผะธ ะฒ ััััะบัััะต `{year}/{month}/`
- โ ะะฐะฟะธัั ะธััะพัะธะธ ะพะฑัะฐะฑะพัะบะธ ะฒ ัะตะตััั
- โ ะะฒัะพะผะฐัะธัะตัะบะพะต ะฟะตัะตะธะผะตะฝะพะฒะฐะฝะธะต ัะฐะนะปะพะฒ ั ะดะฐัะฐะผะธ ะธ ะฝะฐะทะฒะฐะฝะธัะผะธ
- โ ะกะพััะฐะฝะตะฝะธะต ะฟััะตะน ะบ ัะฐะนะปะฐะผ ะฒ ัะตะตัััะต

#### **ะกัััะบัััะฐ ัะพััะฐะฝะตะฝะธั ะดะฐะฝะฝัั:**

- **ะกัััะต ััะฑัะธััั**: `data/raw_subtitles/{year}/{month}/{date}_{video_id}_{title}.{json|srt|txt}`
- **SAG ัะตะทัะปััะฐัั**: `data/sag_final/{year}/{month}/{date}_{video_id}_{title}.{for_vector.json|for_review.md}`
- **ะะตะตััั**: `data/video_registry.json`
- **Batch ะปะพะณะธ**: `data/raw_subtitles/batch_pipeline_results_{timestamp}.json`

#### **ะะฑะฝะพะฒะปะตะฝะธั:**

- โ ะะพะฑะฐะฒะปะตะฝั ะทะฐะฒะธัะธะผะพััะธ: `google-api-python-client`, `click`
- โ ะะฑะฝะพะฒะปะตะฝ `.gitignore` - ะดะพะฑะฐะฒะปะตะฝ `data/video_registry.json`
- โ ะะฑะฝะพะฒะปะตะฝ `pipeline_orchestrator.py` - ะฟะพะปะฝะฐั ะธะฝัะตะณัะฐัะธั ัะตะตัััะฐ ะธ ะฟะพะดะดะตัะถะบะฐ ะฟะฐััะตัะฐ ัะฟะธัะบะฐ ะบะฐะฝะฐะปะพะฒ
- โ ะะฑะฝะพะฒะปะตะฝ `subtitle_extractor/get_subtitles.py` - ะฟะพะดะดะตัะถะบะฐ ะฝะพะฒัั ะธะผะตะฝ ัะฐะนะปะพะฒ
- โ ะฃะฑัะฐะฝะพ ัะพะทะดะฐะฝะธะต ะฟัะพะผะตะถััะพัะฝะพะณะพ `batch_results.json` - ัะพะปัะบะพ ัะธะฝะฐะปัะฝัะต ัะฐะนะปั ั ะฒัะตะผะตะฝะฝัะผะธ ะผะตัะบะฐะผะธ

---

## ๐ **ะะะกะะะะะะ ะะะะะะะะะฏ (2025-12-16)**

### **๐ฏ ะะพะฑะฐะฒะปะตะฝั ััะธะปะธัั ะดะปั ัะฐะฑะพัั ัะพ ัะฟะธัะบะพะผ ะฒะธะดะตะพ ะบะฐะฝะฐะปะฐ**

#### **ะงัะพ ะฑัะปะพ ะดะพะฑะฐะฒะปะตะฝะพ:**

1. **๐ Channel List Parser (`utils/channel_list_parser.py`)**
   - ะะฐััะธะฝะณ ะฝะพะผะตัะพะฒ ะฒะธะดะตะพ ะธะท `channel_videos_list.json`
   - ะัะตะพะฑัะฐะทะพะฒะฐะฝะธะต ะฝะพะผะตัะพะฒ ะฒ YouTube URL ะดะปั ะธัะฟะพะปัะทะพะฒะฐะฝะธั ะฒ pipeline
   - ะะพะดะดะตัะถะบะฐ ัะฐะทะปะธัะฝัั ัะพัะผะฐัะพะฒ ะฝะพะผะตัะพะฒ: ะพะดะธะฝะพัะฝัะต (`5`), ะดะธะฐะฟะฐะทะพะฝั (`1-10`), ัะฟะธัะบะธ (`1,3,5`), ะบะพะผะฑะธะฝะฐัะธะธ (`1-5,10,15-20`)
   - ะะฒัะพะผะฐัะธัะตัะบะพะต ัะฐะทัะตัะตะฝะธะต ะฝะพะผะตัะพะฒ ะฒ URL ะธะท ัะฟะธัะบะฐ ะบะฐะฝะฐะปะฐ
   - ะะฐะปะธะดะฐัะธั ะธ ะฟัะตะดัะฟัะตะถะดะตะฝะธั ะพ ะฝะตัััะตััะฒัััะธั ะฝะพะผะตัะฐั
   - ะะฝัะตะณัะฐัะธั ะฒ `run_batch_pipeline()` ะดะปั ะฐะฒัะพะผะฐัะธัะตัะบะพะน ะพะฑัะฐะฑะพัะบะธ ะฝะพะผะตัะพะฒ ะธะท `urls.txt`

2. **๐ Markdown Updater (`utils/markdown_updater.py`)**
   - ะะฒัะพะผะฐัะธัะตัะบะพะต ะพะฑะฝะพะฒะปะตะฝะธะต Markdown ัะฐะนะปะฐ ัะพ ัะฟะธัะบะพะผ ะฒะธะดะตะพ ะบะฐะฝะฐะปะฐ
   - ะะพะฑะฐะฒะปะตะฝะธะต ะบะพะปะพะฝะพะบ "ะกัะฐััั" ะธ "ะะฐัะฐ ะพะฑัะฐะฑะพัะบะธ" ะฒ ัะฐะฑะปะธัั ะฒะธะดะตะพ
   - ะกะธะฝััะพะฝะธะทะฐัะธั ััะฐัััะพะฒ ะธะท `video_registry.json`
   - ะะพะดะดะตัะถะบะฐ ัะฐะทะปะธัะฝัั ัะพัะผะฐัะพะฒ ัะฐะฑะปะธั Markdown

3. **๐ ะะพะฒัะต ัะฐะนะปั ะดะฐะฝะฝัั:**
   - `data/channel_video_list/channel_videos_list.json` - ััััะบัััะธัะพะฒะฐะฝะฝัะน ัะฟะธัะพะบ ะฒัะตั ะฒะธะดะตะพ ะบะฐะฝะฐะปะฐ
   - `data/channel_video_list/channel_videos_list.md` - Markdown ะฟัะตะดััะฐะฒะปะตะฝะธะต ัะฟะธัะบะฐ ั ะฒะพะทะผะพะถะฝะพัััั ะพะฑะฝะพะฒะปะตะฝะธั ััะฐัััะพะฒ

4. **โ๏ธ ะะฐัััะพะนะบะธ ะฒ `config.yaml`:**
   ```yaml
   channel_list:
     json_path: "data/channel_video_list/channel_videos_list.json"
     use_channel_list: true  # ะะฒัะพะผะฐัะธัะตัะบะพะต ะฟัะตะพะฑัะฐะทะพะฒะฐะฝะธะต ะฝะพะผะตัะพะฒ ะฒ URL
   ```

#### **ะะฝัะตะณัะฐัะธั ะฒ Pipeline:**

- โ `pipeline_orchestrator.py` ะฐะฒัะพะผะฐัะธัะตัะบะธ ะธัะฟะพะปัะทัะตั `ChannelListParser` ะฟัะธ ะพะฑัะฐะฑะพัะบะต `urls.txt`
- โ ะะพะดะดะตัะถะบะฐ ัะผะตัะฐะฝะฝะพะณะพ ัะพัะผะฐัะฐ ะฒ `urls.txt`: ะผะพะถะฝะพ ัะบะฐะทัะฒะฐัั ะบะฐะบ URL, ัะฐะบ ะธ ะฝะพะผะตัะฐ ะฒะธะดะตะพ
- โ ะะฒัะพะผะฐัะธัะตัะบะพะต ะฟัะตะพะฑัะฐะทะพะฒะฐะฝะธะต ะฝะพะผะตัะพะฒ ะฒ URL ะฟะตัะตะด ะพะฑัะฐะฑะพัะบะพะน
- โ ะัะตะดัะฟัะตะถะดะตะฝะธั ะพ ะฝะตัััะตััะฒัััะธั ะฝะพะผะตัะฐั ะฒ ะปะพะณะฐั

#### **ะัะธะผะตั ะธัะฟะพะปัะทะพะฒะฐะฝะธั:**

ะ ัะฐะนะปะต `urls.txt` ัะตะฟะตัั ะผะพะถะฝะพ ัะบะฐะทัะฒะฐัั:
```
# ะััะผัะต URL
https://www.youtube.com/watch?v=abc123

# ะะพะผะตัะฐ ะฒะธะดะตะพ ะธะท ัะฟะธัะบะฐ ะบะฐะฝะฐะปะฐ
5
10-15
1,3,5,10-12

# ะะพะผะฑะธะฝะฐัะธั URL ะธ ะฝะพะผะตัะพะฒ
https://www.youtube.com/watch?v=xyz789
20
25-30
```

Pipeline ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฟัะตะพะฑัะฐะทัะตั ะฝะพะผะตัะฐ ะฒ URL ะธ ะพะฑัะฐะฑะพัะฐะตั ะฒัะต ะฒะธะดะตะพ.

#### **ะะฑะฝะพะฒะปะตะฝะธั:**

- โ ะะพะฑะฐะฒะปะตะฝ `utils/channel_list_parser.py` - ะฟะฐััะตั ัะฟะธัะบะฐ ะบะฐะฝะฐะปะพะฒ
- โ ะะพะฑะฐะฒะปะตะฝ `utils/markdown_updater.py` - ะพะฑะฝะพะฒะปะตะฝะธะต Markdown ัะพ ััะฐัััะฐะผะธ
- โ ะะฑะฝะพะฒะปะตะฝ `pipeline_orchestrator.py` - ะธะฝัะตะณัะฐัะธั ChannelListParser ะฒ batch pipeline
- โ ะะฑะฝะพะฒะปะตะฝ `config.yaml` - ะฝะฐัััะพะนะบะธ ะดะปั ัะฐะฑะพัั ัะพ ัะฟะธัะบะพะผ ะบะฐะฝะฐะปะฐ
- โ ะกะพะทะดะฐะฝะฐ ััััะบัััะฐ `data/channel_video_list/` ะดะปั ััะฐะฝะตะฝะธั ัะฟะธัะบะฐ ะฒะธะดะตะพ

#### **๐ง Knowledge Graph - ะะฐะบัะธะผะฐะปัะฝะพ ะฟะพะปะฝะฐั ะฑะฐะทะฐ ะทะฝะฐะฝะธะน:**

ะะตะฐะปะธะทะพะฒะฐะฝะฐ ัะธััะตะผะฐ ะฟะพัััะพะตะฝะธั ะผะฐะบัะธะผะฐะปัะฝะพ ะฟะพะปะฝะพะณะพ Knowledge Graph, ะพะฑัะตะดะธะฝัััะฐั ะฒัะต ะดะฐะฝะฝัะต ะธะท ัะบัััะฐะบัะพัะพะฒ:

- **ะะฑัะตะดะธะฝะตะฝะธะต ะฒัะตั ะธััะพัะฝะธะบะพะฒ**: ะัะฐั ัััะพะธััั ะธะท graph_entities, concept_hierarchy, causal_chains, prerequisites, case_studies, semantic_relationships ะธ ะฟะตัะตะบัะตััะฝัั ัะฒัะทะตะน
- **ะขะธะฟะธะทะธัะพะฒะฐะฝะฝัะต ัะทะปั**: CONCEPT, PRACTICE, TECHNIQUE, EXERCISE, PATTERN, PROCESS_STAGE
- **ะขะธะฟะธะทะธัะพะฒะฐะฝะฝัะต ัะฒัะทะธ**: 10+ ัะธะฟะพะฒ (ENABLES, REQUIRES, LEADS_TO, IS_PRACTICE_FOR, IS_TECHNIQUE_FOR, IS_EXERCISE_FOR, TRANSFORMS_INTO, EMERGES_FROM, RELATED_TO ะธ ะดั.)
- **API ะดะปั AI-ะฑะพัะฐ**: ะะพัะพะฒัะต ะผะตัะพะดั `find_practices_for_concept()`, `get_concept_chain()`, `recommend_exercise_for_practice()`
- **ะะฒัะพะผะฐัะธัะตัะบะฐั ะธะฝะดะตะบัะฐัะธั**: Knowledge Graph ะธะฝะดะตะบัะธััะตััั ะฒ ะพัะดะตะปัะฝัั ะบะพะปะปะตะบัะธั ChromaDB ะดะปั ัะตะผะฐะฝัะธัะตัะบะพะณะพ ะฟะพะธัะบะฐ
- **ะะตัะฐะดะฐะฝะฝัะต ะธััะพัะฝะธะบะพะฒ**: ะะฐะถะดัะน ัะทะตะป ัะพะดะตัะถะธั ะธะฝัะพัะผะฐัะธั ะพัะบัะดะฐ ะพะฝ ะธะทะฒะปะตัะตะฝ (graph_entities, concept_hierarchy, causal_chains ะธ ั.ะด.)

**ะะตะทัะปััะฐั**: ะะฐะบัะธะผะฐะปัะฝะพ ะฟะพะปะฝะฐั ะฑะฐะทะฐ ะทะฝะฐะฝะธะน ัะพ ะฒัะตะผะธ ะฒะทะฐะธะผะพัะฒัะทัะผะธ ะดะปั ััะฟะตั-ัะผะฝะพะณะพ AI-ะฑะพัะฐ ะฟัะธัะพะปะพะณะฐ.

#### **๐ ะกะธััะตะผะฐ ัะบัััะฐะบัะพัะพะฒ ะทะฝะฐะฝะธะน (ะญัะฐะฟั 1-5):**

ะะตะฐะปะธะทะพะฒะฐะฝะฐ ะฟะพะปะฝะพัะตะฝะฝะฐั ัะธััะตะผะฐ ะธะทะฒะปะตัะตะฝะธั ะทะฝะฐะฝะธะน ะธะท 5 ะฟะพัะปะตะดะพะฒะฐัะตะปัะฝัั ััะฐะฟะพะฒ:

1. **ะญัะฐะฟ โ1: TerminologyValidator** โ "ะััะฐะฝะฝะธะบ ะฝะฐ ะฒัะพะดะต"
   - ะคะธะปััั ะบะฐัะตััะฒะฐ ัะตัะผะธะฝะพะฒ ะกะฐััะตะบะตะฝะพะฒะฐ
   - ะัะพะฒะตัะบะฐ ะฟะปะพัะฝะพััะธ ัะตัะผะธะฝะพะฒ (โฅ15%)
   - 4 ัะตะถะธะผะฐ ะฒะฐะปะธะดะฐัะธะธ: SMART, SOFT, STRICT, OFF
   - ะะฐัะธัะฐ ะพั ััะถะตัะพะดะฝัั ัะตัะผะธะฝะพะฒ

2. **ะญัะฐะฟ โ2: NeurostalkingPatternExtractor** โ "ะะตัะตะบัะพั ะฟะฐััะตัะฝะพะฒ"
   - ะะฐัะฟะพะทะฝะฐะฒะฐะฝะธะต 4 ัะธะฟะพะฒ ะฟะฐััะตัะฝะพะฒ ััะตะฝะธั
   - ะขัะธะฐะดะฐ ััะฐะฝััะพัะผะฐัะธะธ, ัะฐะฑะพัะฐ ั ะฒะฝะธะผะฐะฝะธะตะผ, ัะฐะทะพัะพะถะดะตััะฒะปะตะฝะธะต, ัะพััะพัะฝะธั ัะพะทะฝะฐะฝะธั
   - ะะทะฒะปะตัะตะฝะธะต ะฟะฐััะตัะฝะพะฒ ั ะผะตััะธะบะพะน ัะฒะตัะตะฝะฝะพััะธ

3. **ะญัะฐะฟ โ3: CausalChainExtractor** โ "ะะฝะฐะปะธะทะฐัะพั ะฟัะพัะตััะพะฒ"
   - ะะพัะฐะณะพะฒัะต ะฟัะธัะธะฝะฝะพ-ัะปะตะดััะฒะตะฝะฝัะต ัะตะฟะพัะบะธ
   - ะกะธััะตะผะฝัะต ัะฒัะทะธ `emerges_from`
   - ะขะพัะบะธ ะฒะผะตัะฐัะตะปัััะฒะฐ ะธ ะฟัะฐะบัะธะบะธ
   - ะะฟัะตะดะตะปะตะฝะธะต ัะธะฟะฐ ะฟัะพัะตััะฐ (ะปะธะฝะตะนะฝัะน/ัะธะบะปะธัะตัะบะธะน)

4. **ะญัะฐะฟ โ4: ConceptHierarchyExtractor** โ "ะััะธัะตะบัะพั ะทะฝะฐะฝะธะน"
   - ะะตัะฐััะธั ะบะพะฝัะตะฟัะพะฒ (5 ััะพะฒะฝะตะน: root/domain/practice/technique/exercise)
   - ะกัััะบัััะธัะพะฒะฐะฝะธะต ะทะฝะฐะฝะธะน ะฟะพ ััะพะฒะฝัะผ
   - ะกะฒัะทะธ ะผะตะถะดั ััะพะฒะฝัะผะธ ะธะตัะฐััะธะธ

5. **ะญัะฐะฟ โ5: SarsekenovProcessor** โ "ะะธัะธะถัั ะพัะบะตัััะฐ"
   - ะัะบะตัััะฐัะธั ะฒัะตั ะฟัะตะดัะดััะธั ััะฐะฟะพะฒ
   - ะะฑัะตะดะธะฝะตะฝะธะต ะดัะฑะปะธััััะธััั ะบะพะฝัะตะฟัะพะฒ
   - ะะพัััะพะตะฝะธะต Knowledge Graph
   - ะญะบัะฟะพัั ะฒ RAG-ready ัะพัะผะฐั

#### **๐ ะะพะฟะพะปะฝะธัะตะปัะฝัะต LLM-ัะบัััะฐะบัะพัั ะดะฐะฝะฝัั:**

ะกะธััะตะผะฐ ัะฐะบะถะต ะฒะบะปััะฐะตั 5 ัะฟะตัะธะฐะปะธะทะธัะพะฒะฐะฝะฝัั LLM-based ัะบัััะฐะบัะพัะพะฒ ะดะปั ะธะทะฒะปะตัะตะฝะธั ัะฐััะธัะตะฝะฝัั ััััะบัััะธัะพะฒะฐะฝะฝัั ะดะฐะฝะฝัั:

1. **Safety Extractor** (`safety_extractor.py`)
   - ะะทะฒะปะตัะตะฝะธะต ะธะฝัะพัะผะฐัะธะธ ะพ ะฑะตะทะพะฟะฐัะฝะพััะธ, ะฟัะพัะธะฒะพะฟะพะบะฐะทะฐะฝะธัั, ะพะณัะฐะฝะธัะตะฝะธัั
   - ะกะพััะฐะฝัะตััั ะฒ ะฟะพะปะต `safety` ะบะฐะถะดะพะณะพ ะฑะปะพะบะฐ

2. **Causal Chain Extractor** (`causal_chain_extractor.py`)
   - ะะทะฒะปะตัะตะฝะธะต ะฟัะธัะธะฝะฝะพ-ัะปะตะดััะฒะตะฝะฝัั ัะตะฟะพัะตะบ ะฟัะธัะพะปะพะณะธัะตัะบะธั ะฟัะพัะตััะพะฒ
   - ะขะพัะบะธ ะฒะผะตัะฐัะตะปัััะฒะฐ ะธ ะฟัะฐะบัะธะบะธ
   - ะกะพััะฐะฝัะตััั ะฒ ะฟะพะปะต `causal_chains` ะบะฐะถะดะพะณะพ ะฑะปะพะบะฐ

3. **Concept Hierarchy Extractor** (`concept_hierarchy_extractor.py`)
   - ะะทะฒะปะตัะตะฝะธะต ะธะตัะฐััะธะธ ะบะพะฝัะตะฟัะพะฒ (root/domain/practice/technique/exercise)
   - ะกะพััะฐะฝัะตััั ะฒ ะฟะพะปะต `concept_hierarchy` ะบะฐะถะดะพะณะพ ะฑะปะพะบะฐ

4. **Case Study Extractor** (`case_study_extractor.py`)
   - ะะทะฒะปะตัะตะฝะธะต ััััะบัััะธัะพะฒะฐะฝะฝัั ะบะตะนัะพะฒ (ัะตะฐะปัะฝัั ัะปััะฐะตะฒ ะฟัะธะผะตะฝะตะฝะธั ะฟัะฐะบัะธะบ)
   - ะกะพััะฐะฝัะตััั ะฒ ะฟะพะปะต `case_studies` ะบะฐะถะดะพะณะพ ะฑะปะพะบะฐ

5. **Prerequisite Extractor** (`prerequisite_extractor.py`)
   - ะะทะฒะปะตัะตะฝะธะต ะฟัะตะดะฟะพััะปะพะบ ะธ ะฟะพัะปะตะดะพะฒะฐัะตะปัะฝะพััะธ ะพะฑััะตะฝะธั
   - ะกะพััะฐะฝัะตััั ะฒ ะฟะพะปะต `prerequisites` ะบะฐะถะดะพะณะพ ะฑะปะพะบะฐ

**ะะดะต ัะพััะฐะฝััััั ะดะฐะฝะฝัะต:**
- ะัะต ะดะฐะฝะฝัะต ัะบัััะฐะบัะพัะพะฒ ัะพััะฐะฝััััั **ะฟััะผะพ ะฒ ะฑะปะพะบะธ** ัะธะฝะฐะปัะฝะพะณะพ JSON ัะฐะนะปะฐ
- ะััั: `data/sag_final/{year}/{month}/{date}_{video_id}_{title}.for_vector.json`
- ะะฐะถะดัะน ะฑะปะพะบ ัะพะดะตัะถะธั ะฟะพะปั: `safety`, `causal_chains`, `concept_hierarchy`, `case_studies`, `prerequisites`
- ะะฐะฝะฝัะต ะดะพัััะฟะฝั ะดะปั ะฒะตะบัะพัะฝะพะณะพ ะฟะพะธัะบะฐ ะธ RAG-ัะธััะตะผ
- ะะฐะฝะฝัะต ะธะฝะดะตะบัะธัััััั ะฒ ChromaDB ะฒะผะตััะต ั ะพััะฐะปัะฝัะผะธ ะผะตัะฐะดะฐะฝะฝัะผะธ ะฑะปะพะบะพะฒ

**ะัะธะผะตั ััััะบัััั ะดะฐะฝะฝัั ะฒ ะฑะปะพะบะต:**
```json
{
  "block_id": "...",
  "content": "...",
  "safety": {...},           // ะะท safety_extractor.py
  "causal_chains": [...],    // ะะท causal_chain_extractor.py
  "concept_hierarchy": [...], // ะะท concept_hierarchy_extractor.py
  "case_studies": [...],     // ะะท case_study_extractor.py
  "prerequisites": {...}     // ะะท prerequisite_extractor.py
}
```

#### **ะัะตะธะผััะตััะฒะฐ:**

โ **ะะฐัะธัะฐ ะพั ะดัะฑะปะธะบะฐัะพะฒ** - ะฐะฒัะพะผะฐัะธัะตัะบะฐั ะฟัะพะฒะตัะบะฐ ะฟะตัะตะด ะพะฑัะฐะฑะพัะบะพะน  
โ **ะะพะปะฝะฐั ะธััะพัะธั** - ะบะพะณะดะฐ ะธ ะบะฐะบ ะพะฑัะฐะฑะฐััะฒะฐะปะพัั ะบะฐะถะดะพะต ะฒะธะดะตะพ  
โ **ะงะธัะฐะตะผัะต ะธะผะตะฝะฐ** - ััะฐะทั ะฟะพะฝััะฝะพ, ััะพ ะทะฐ ัะฐะนะป  
โ **ะะฐัััะฐะฑะธััะตะผะพััั** - ััััะบัััะฐ ะฝะต ัะฐะทะฒะฐะปะธััั ะฝะฐ 1000+ ะฒะธะดะตะพ  
โ **ะะตะณะบะธะน ะฟะพะธัะบ** - ะพัะณะฐะฝะธะทะฐัะธั ะฟะพ ะดะฐัะฐะผ  
โ **ะััะปะตะถะธะฒะฐะฝะธะต ะทะฐััะฐั** - ัะบะพะปัะบะพ ะฟะพััะฐัะตะฝะพ ะฝะฐ API  
โ **ะะพะทะพะฑะฝะพะฒะปะตะฝะธะต ะพะฑัะฐะฑะพัะบะธ** - ะฒะธะดะฝะพ, ััะพ ะพััะฐะปะพัั ะพะฑัะฐะฑะพัะฐัั  
โ **CLI ัะฟัะฐะฒะปะตะฝะธะต** - ัะดะพะฑะฝัะต ะบะพะผะฐะฝะดั ะดะปั ะผะพะฝะธัะพัะธะฝะณะฐ  

---

### ะะปะฐะฝั ัะฐะทะฒะธัะธั
- [x] **SAG v2.0 ัะธััะตะผะฐ** - โ ะะะะะะจะะะ (ETAP 5)
- [x] **ะะฒัะพะผะฐัะธัะตัะบะฐั ะบะปะฐััะธัะธะบะฐัะธั ะฑะปะพะบะพะฒ** - โ ะะะะะะจะะะ
- [x] **๐ฏ ะะฝัะตะณัะฐัะธั "ัะฟััะตะณะพ ะณะธะณะฐะฝัะฐ"** - โ ะะะะะะจะะะ (442 ัะทะปะฐ + 259 ะพัะฝะพัะตะฝะธะน)
- [x] **ะัะฐั-ัััะฝะพััะธ ะธ ะฝะพัะผะฐะปะธะทะฐัะธั** - โ ะะะะะะจะะะ
- [x] **๐ ะกะตะผะฐะฝัะธัะตัะบะธะน ะฐะฝะฐะปะธะท ัะฒัะทะตะน** - โ ะะะะะะจะะะ
- [x] **ะะพััะพะปะพะณะธัะตัะบะฐั ะพะฑัะฐะฑะพัะบะฐ ััััะบะพะณะพ ัะทัะบะฐ** - โ ะะะะะะจะะะ
- [x] **ะฃะผะฝะฐั ะผะฐัััััะธะทะฐัะธั ะฟะพ ะบะพะปะปะตะบัะธัะผ** - โ ะะะะะะจะะะ
- [x] **๐๏ธ ะะฟัะธะผะธะทะฐัะธั ะฐััะธัะตะบัััั** - โ ะะะะะะจะะะ (Codex)
- [x] **๐งน ะัะธััะบะฐ ะฟัะพะตะบัะฐ** - โ ะะะะะะจะะะ (ัะธััะฐั ััััะบัััะฐ)
- [x] **๐ ะะฝัะตะณัะฐัะธั ะฒะตะบัะพัะฝะพะน ะะ (ChromaDB)** - โ ะะะะะะจะะะ
- [x] **ะะฒัะพะผะฐัะธัะตัะบะพะต ัะพะทะดะฐะฝะธะต ะฒะตะบัะพัะฝัั ะธะฝะดะตะบัะพะฒ** - โ ะะะะะะจะะะ
- [x] **๐ ะกะธััะตะผะฐ ัะฟัะฐะฒะปะตะฝะธั ะฒะธะดะตะพ-ัะตะตัััะพะผ** - โ ะะะะะะจะะะ (2025-12-04)
- [x] **๐ ะัะพะฒะตัะบะฐ ะดัะฑะปะธะบะฐัะพะฒ** - โ ะะะะะะจะะะ (2025-12-04)
- [x] **๐ ะัะณะฐะฝะธะทะฐัะธั ัะฐะนะปะพะฒ ะฟะพ ะดะฐัะฐะผ** - โ ะะะะะะจะะะ (2025-12-04)
- [x] **๐ ะะพะปััะตะฝะธะต ะผะตัะฐะดะฐะฝะฝัั ัะตัะตะท YouTube API** - โ ะะะะะะจะะะ (2025-12-04)
- [x] **๐๏ธ CLI ะดะปั ัะฟัะฐะฒะปะตะฝะธั ัะตะตัััะพะผ** - โ ะะะะะะจะะะ (2025-12-04)
- [x] **๐ ะกะธััะตะผะฐ ัะบัััะฐะบัะพัะพะฒ ะทะฝะฐะฝะธะน (ะญัะฐะฟั 1-5)** - โ ะะะะะะจะะะ (TerminologyValidator, PatternExtractor, CausalChainExtractor, ConceptHierarchyExtractor, SarsekenovProcessor)
- [x] **๐ ะะพะฟะพะปะฝะธัะตะปัะฝัะต LLM-ัะบัััะฐะบัะพัั ะดะฐะฝะฝัั** - โ ะะะะะะจะะะ (5 ัะบัััะฐะบัะพัะพะฒ: safety, causal chains, concept hierarchy, case studies, prerequisites)
- [x] **๐ง Knowledge Graph Builder** - โ ะะะะะะจะะะ (ะผะฐะบัะธะผะฐะปัะฝะพ ะฟะพะปะฝัะน ะณัะฐั ะทะฝะฐะฝะธะน ัะพ ะฒัะตะผะธ ะฒะทะฐะธะผะพัะฒัะทัะผะธ)
- [ ] **ะญัะฐะฟ 2**: ะะพะปะฝะฐั ะฐะบัะธะฒะฐัะธั ะณัะฐั-ะบะพะปะปะตะบัะธะธ
- [ ] **ะญัะฐะฟ 3**: SAG Pipeline ั ะฒะตะบัะพัะฝัะผ ะฟะพะธัะบะพะผ (ัะฐััะธัะฝะพ - ะธะฝะดะตะบัะฐัะธั ะณะพัะพะฒะฐ)
- [ ] ะะฝัะตะณัะฐัะธั ั ะดััะณะธะผะธ ะฒะตะบัะพัะฝัะผะธ ะะ (Pinecone, Weaviate, Qdrant)
- [ ] ะะตะฑ-ะธะฝัะตััะตะนั ะดะปั ัะฟัะฐะฒะปะตะฝะธั
- [ ] API ะดะปั ะฒะฝะตัะฝะธั ะฟัะธะปะพะถะตะฝะธะน
- [ ] ะะพะดะดะตัะถะบะฐ ะดะพะฟะพะปะฝะธัะตะปัะฝัั ัะทัะบะพะฒ
- [ ] ะะฐััะธัะตะฝะธะต ะณัะฐั-ัััะฝะพััะตะน ะดะปั ะดััะณะธั ะดะพะผะตะฝะพะฒ

### ะะธัะตะฝะทะธั
ะัะพะตะบั ะดะปั ะพะฑัะฐะทะพะฒะฐัะตะปัะฝัั ัะตะปะตะน. ะัะฟะพะปัะทัะนัะต ะฒ ัะพะพัะฒะตัััะฒะธะธ ั ััะปะพะฒะธัะผะธ YouTube API ะธ OpenAI.

### ๐ **SAG v2.0 ะกัะฐััั**
- **ะะตััะธั**: 2.0 (Structured Augmented Generation)
- **ะะพัะพะฒะฝะพััั**: 95% (ะัะพัะตััะธะพะฝะฐะปัะฝัะน ััะพะฒะตะฝั)
- **ETAP 5**: โ ะะฐะฒะตััะตะฝ (10/10 ะทะฐะดะฐั)
- **ะะตะบัะพัะฝะฐั ะะ**: โ ะะฝัะตะณัะธัะพะฒะฐะฝะฐ (ChromaDB)
- **๐ ะะธะดะตะพ-ัะตะตััั**: โ ะะฝัะตะณัะธัะพะฒะฐะฝ (ะฟัะพะฒะตัะบะฐ ะดัะฑะปะธะบะฐัะพะฒ, ะผะตัะฐะดะฐะฝะฝัะต, ะพัะณะฐะฝะธะทะฐัะธั ะฟะพ ะดะฐัะฐะผ)
- **๐ ะกะธััะตะผะฐ ัะบัััะฐะบัะพัะพะฒ**: โ ะะฐะฒะตััะตะฝะฐ (5 ััะฐะฟะพะฒ: ะฒะฐะปะธะดะฐัะธั, ะฟะฐััะตัะฝั, ัะตะฟะพัะบะธ, ะธะตัะฐััะธั, ะพัะบะตัััะฐัะธั)
- **๐ง Knowledge Graph**: โ ะะตะฐะปะธะทะพะฒะฐะฝ (ะผะฐะบัะธะผะฐะปัะฝะพ ะฟะพะปะฝัะน ะณัะฐั ะทะฝะฐะฝะธะน ัะพ ะฒัะตะผะธ ะฒะทะฐะธะผะพัะฒัะทัะผะธ)
- **ะกัะฐััั**: ๐ข ะะพัะพะฒ ะดะปั ะฟัะพะดะฐะบัะตะฝะฐ
- **ะะพัะปะตะดะฝะตะต ะพะฑะฝะพะฒะปะตะฝะธะต**: ะะตัะตะธะผะตะฝะพะฒะฐะฝะธะต orchestrator/sarsekenov_processor.py โ knowledge_graph_builder.py ะดะปั ััััะฐะฝะตะฝะธั ะฟััะฐะฝะธัั ั ะพัะฝะพะฒะฝัะผ ะฟัะพัะตััะพัะพะผ + Knowledge Graph Builder + ัะธััะตะผะฐ ัะบัััะฐะบัะพัะพะฒ ะทะฝะฐะฝะธะน (ะญัะฐะฟั 1-5) + ัะธััะตะผะฐ ัะฟัะฐะฒะปะตะฝะธั ะฒะธะดะตะพ-ัะตะตัััะพะผ

---

**๐ ะัะพะตะบั ะณะพัะพะฒ ะบ ะธัะฟะพะปัะทะพะฒะฐะฝะธั ะดะปั ัะพะทะดะฐะฝะธั AI-ะฑะพัะพะฒ ั ะฒะตะบัะพัะฝัะผ ะฟะพะธัะบะพะผ, ะณัะฐั-RAG ัะธััะตะผะฐะผะธ ะธ SAG v2.0!**

### **๐ ะะพัะพะฒะฝะพััั ัะธััะตะผั:**
- **SAG v2.0**: โ ะะพะปะฝะพัััั ะณะพัะพะฒ (95% ะณะพัะพะฒะฝะพััะธ)
- **ETAP 5**: โ ะะฐะฒะตััะตะฝ (10/10 ะทะฐะดะฐั)
- **๐ฏ ะะฝัะตะณัะฐัะธั "ัะฟััะตะณะพ ะณะธะณะฐะฝัะฐ"**: โ ะะฐะฒะตััะตะฝะฐ (442 ัะทะปะฐ + 259 ะพัะฝะพัะตะฝะธะน)
- **๐ ะกะตะผะฐะฝัะธัะตัะบะธะน ะฐะฝะฐะปะธะท**: โ ะะบัะธะฒะธัะพะฒะฐะฝ
- **๐ง Knowledge Graph**: โ ะะตะฐะปะธะทะพะฒะฐะฝ (ะผะฐะบัะธะผะฐะปัะฝะพ ะฟะพะปะฝัะน ะณัะฐั ะทะฝะฐะฝะธะน)
- **๐ ะกะธััะตะผะฐ ัะบัััะฐะบัะพัะพะฒ ะทะฝะฐะฝะธะน**: โ ะะฐะฒะตััะตะฝะฐ (5 ััะฐะฟะพะฒ: ะฒะฐะปะธะดะฐัะธั, ะฟะฐััะตัะฝั, ัะตะฟะพัะบะธ, ะธะตัะฐััะธั, ะพัะบะตัััะฐัะธั)
- **๐ ะะตะบัะพัะฝะฐั ะะ**: โ ะะฝัะตะณัะธัะพะฒะฐะฝะฐ (ChromaDB ั ะธะฝะดะตะบัะฐัะธะตะน Knowledge Graph)
- **๐ ะะธะดะตะพ-ัะตะตััั**: โ ะะฝัะตะณัะธัะพะฒะฐะฝ (ะฟัะพะฒะตัะบะฐ ะดัะฑะปะธะบะฐัะพะฒ, ะผะตัะฐะดะฐะฝะฝัะต, ะพัะณะฐะฝะธะทะฐัะธั ะฟะพ ะดะฐัะฐะผ)
- **๐๏ธ ะะฟัะธะผะธะทะฐัะธั ะฐััะธัะตะบัััั**: โ ะะฐะฒะตััะตะฝะฐ (Codex)
- **๐งน ะัะธััะบะฐ ะฟัะพะตะบัะฐ**: โ ะะฐะฒะตััะตะฝะฐ (ัะธััะฐั ััััะบัััะฐ)
- **ะะฐัะตััะฒะพ**: ๐ข ะัะพัะตััะธะพะฝะฐะปัะฝัะน ััะพะฒะตะฝั
- **ะกัะฐะฑะธะปัะฝะพััั**: ๐ข ะััะพะบะฐั, ั ะทะฐัะธัะพะน ะพั ะพัะธะฑะพะบ
- **ะะฐัััะฐะฑะธััะตะผะพััั**: ๐ข ะะพัะพะฒ ะบ 500+ ะฒะธะดะตะพ
- **ะกัะฐััั**: ๐ข **ะะะขะะ ะะะฏ ะะะะะะะจะะะ**

*ะะพัะปะตะดะฝะตะต ะพะฑะฝะพะฒะปะตะฝะธะต: 2025-12-10*  
*ะะตััะธั: SAG v2.0 + ETAP 5 (ะขะพะฝะบะฐั ะฝะฐัััะพะนะบะฐ) + ะะฝัะตะณัะฐัะธั "ัะฟััะตะณะพ ะณะธะณะฐะฝัะฐ" + Knowledge Graph Builder + ะกะธััะตะผะฐ ัะบัััะฐะบัะพัะพะฒ ะทะฝะฐะฝะธะน (ะญัะฐะฟั 1-5) + ะะฟัะธะผะธะทะฐัะธั ะฐััะธัะตะบัััั (Codex) + ะัะธััะบะฐ ะฟัะพะตะบัะฐ + ะกะธััะตะผะฐ ัะฟัะฐะฒะปะตะฝะธั ะฒะธะดะตะพ-ัะตะตัััะพะผ*
