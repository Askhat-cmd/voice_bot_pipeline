# üß† Voice Bot Pipeline - YouTube to SAG v2.0 System

**–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ YouTube-–ª–µ–∫—Ü–∏–π –¥–ª—è AI-–±–æ—Ç–æ–≤ —Å –≤–µ–∫—Ç–æ—Ä–Ω—ã–º –ø–æ–∏—Å–∫–æ–º, –≥—Ä–∞—Ñ-RAG —Å–∏—Å—Ç–µ–º–∞–º–∏ –∏ SAG v2.0 (Structured Augmented Generation).**

## üÜï **–ù–û–í–û–ï –í –í–ï–†–°–ò–ò 2.0**
- **SAG v2.0**: –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
- **üöÄ –†–ê–°–®–ò–†–ï–ù–ù–ê–Ø –ì–†–ê–§-–ö–û–õ–õ–ï–ö–¶–ò–Ø**: 442 —É–∑–ª–∞ + 259 –æ—Ç–Ω–æ—à–µ–Ω–∏–π (–≤–º–µ—Å—Ç–æ 12 –±–∞–∑–æ–≤—ã—Ö)
- **üîó –°–ï–ú–ê–ù–¢–ò–ß–ï–°–ö–ò–ô –ê–ù–ê–õ–ò–ó**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã—è–≤–ª–µ–Ω–∏–µ —Å–≤—è–∑–µ–π –º–µ–∂–¥—É –∫–æ–Ω—Ü–µ–ø—Ç–∞–º–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è**: –¢–∏–ø—ã –±–ª–æ–∫–æ–≤, —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–æ–Ω–∞, —Å–ª–æ–∂–Ω–æ—Å—Ç—å
- **–ì—Ä–∞—Ñ-—Å—É—â–Ω–æ—Å—Ç–∏**: –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∏ –∞–≥—Ä–µ–≥–∞—Ü–∏—è –¥–ª—è –≥—Ä–∞—Ñ–æ–≤ –∑–Ω–∞–Ω–∏–π
- **–ú–æ—Ä—Ñ–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞**: –†—É—Å—Å–∫–∏–π —è–∑—ã–∫ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –≥—Ä–∞–º–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ñ–æ—Ä–º–∞–º–∏
- **–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è**: –£–º–Ω–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ –∫–æ–ª–ª–µ–∫—Ü–∏—è–º —Å –º–µ—Ç—Ä–∏–∫–æ–π —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏
- **üéØ –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø "–°–ü–Ø–©–ï–ì–û –ì–ò–ì–ê–ù–¢–ê"**: –ü–æ–ª–Ω–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è –≥—Ä–∞—Ñ-–∫–æ–ª–ª–µ–∫—Ü–∏–∏ –Ω–µ–π—Ä–æ—Å—Ç–∞–ª–∫–∏–Ω–≥–∞
- **üìä –°–ò–°–¢–ï–ú–ê –£–ü–†–ê–í–õ–ï–ù–ò–Ø –í–ò–î–ï–û-–†–ï–ï–°–¢–†–û–ú**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤, –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –ø–æ –¥–∞—Ç–∞–º
- **üìÖ –û–†–ì–ê–ù–ò–ó–ê–¶–ò–Ø –§–ê–ô–õ–û–í –ü–û –î–ê–¢–ê–ú**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ `{year}/{month}/` —Å —á–∏—Ç–∞–µ–º—ã–º–∏ –∏–º–µ–Ω–∞–º–∏
- **üîç –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –≠–ö–°–¢–†–ê–ö–¢–û–†–´**: 5 —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —ç–∫—Å—Ç—Ä–∞–∫—Ç–æ—Ä–æ–≤ (safety, causal chains, concept hierarchy, case studies, prerequisites)

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

1. [–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞](#-–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ-–ø—Ä–æ–µ–∫—Ç–∞)
2. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã](#-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-–∏-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
3. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
4. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö](#-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è-–¥–∞–Ω–Ω—ã—Ö) üÜï
5. [–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∏–¥–µ–æ-—Ä–µ–µ—Å—Ç—Ä–æ–º](#-—Å–∏—Å—Ç–µ–º–∞-—É–ø—Ä–∞–≤–ª–µ–Ω–∏—è-–≤–∏–¥–µ–æ-—Ä–µ–µ—Å—Ç—Ä–æ–º) üÜï
6. [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#-–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
7. [–î–µ—Ç–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞](#-–¥–µ—Ç–∞–ª—å–Ω–∞—è-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞)
8. [–î–æ–º–µ–Ω–Ω—ã–µ —Ä–µ–∂–∏–º—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏](#-–¥–æ–º–µ–Ω–Ω—ã–µ-—Ä–µ–∂–∏–º—ã-–æ–±—Ä–∞–±–æ—Ç–∫–∏)
9. [–§–æ—Ä–º–∞—Ç –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö](#-—Ñ–æ—Ä–º–∞—Ç-–≤—ã—Ö–æ–¥–Ω—ã—Ö-–¥–∞–Ω–Ω—ã—Ö)
10. [API –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è](#-api-–∏-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è)
11. [–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—Ç–ª–∞–¥–∫–∞](#-–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥-–∏-–æ—Ç–ª–∞–¥–∫–∞)
12. [–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏](#-—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏)
13. [–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫](#-—É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ-–Ω–µ–ø–æ–ª–∞–¥–æ–∫)
14. [–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ GitHub](#-—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ-–Ω–∞-github)
15. [SAG v2.0 - –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è](#-sag-v20---—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è-–≥–µ–Ω–µ—Ä–∞—Ü–∏—è)
16. [ETAP 5 - –¢–æ–Ω–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞](#-etap-5---—Ç–æ–Ω–∫–∞—è-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞)

---

## üéØ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

### –û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å
–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è **–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –≤—ã—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö** –∏–∑ YouTube-–ª–µ–∫—Ü–∏–π –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è AI-–±–æ—Ç–æ–≤, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏—Ö:
- **–í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫** (semantic search)
- **–ì—Ä–∞—Ñ-RAG —Å–∏—Å—Ç–µ–º—ã** (Graph Retrieval-Augmented Generation)
- **–ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫** (BM25 + –≤–µ–∫—Ç–æ—Ä—ã + –≥—Ä–∞—Ñ –∑–Ω–∞–Ω–∏–π)

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞
1. **–ò–∑–≤–ª–µ–∫–∞–µ—Ç —Å—É–±—Ç–∏—Ç—Ä—ã** —Å YouTube (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –≤—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ)
2. **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä—É–µ—Ç –≤ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ –±–ª–æ–∫–∏** –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ (4-8 –º–∏–Ω—É—Ç, 300-500+ —Å–ª–æ–≤)
3. **–°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏** –¥–ª—è –≤–µ–∫—Ç–æ—Ä–Ω—ã—Ö –ë–î –∏ –≥—Ä–∞—Ñ–æ–≤ –∑–Ω–∞–Ω–∏–π
4. **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–æ–º–µ–Ω–Ω—É—é —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é** (–Ω–µ–π—Ä–æ—Å—Ç–∞–ª–∫–∏–Ω–≥/–Ω–µ–æ—Å—Ç–∞–ª–∫–∏–Ω–≥ –°–∞–ª–∞–º–∞—Ç–∞ –°–∞—Ä—Å–µ–∫–µ–Ω–æ–≤–∞)

### –î–ª—è —á–µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- **–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫** –ø–æ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—é –ª–µ–∫—Ü–∏–π
- **RAG-—Å–∏—Å—Ç–µ–º—ã** –¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã —Å —Ü–∏—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- **–ß–∞—Ç-–±–æ—Ç—ã** —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –∏–∑ –ª–µ–∫—Ü–∏–π
- **–ì—Ä–∞—Ñ –∑–Ω–∞–Ω–∏–π** –¥–ª—è —Å–≤—è–∑—ã–≤–∞–Ω–∏—è –∫–æ–Ω—Ü–µ–ø—Ü–∏–π –∏ —Ç–µ—Ä–º–∏–Ω–æ–≤
- **–í—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Å—ã–ª–∫–∏** –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã –≤ –≤–∏–¥–µ–æ
- **SAG v2.0**: –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–ª—è —Å—É–ø–µ—Ä-—É–º–Ω—ã—Ö –±–æ—Ç–æ–≤
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è**: –£–º–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- **–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è**: –¢–æ—á–Ω–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤ –Ω—É–∂–Ω—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –∑–Ω–∞–Ω–∏–π

---

## üöÄ **SAG v2.0 - –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è**

### **–ß—Ç–æ —Ç–∞–∫–æ–µ SAG v2.0?**
**SAG (Structured Augmented Generation)** - —ç—Ç–æ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è AI-–±–æ—Ç–æ–≤, –∫–æ—Ç–æ—Ä–∞—è –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ —Ä–∞–º–∫–∏ –æ–±—ã—á–Ω–æ–≥–æ RAG.

### **–ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ SAG v2.0:**

#### **1. üß© –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –±–ª–æ–∫–æ–≤**
- **–¢–∏–ø—ã –±–ª–æ–∫–æ–≤**: `monologue`, `dialogue`, `practice`, `theory`
- **–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–æ–Ω–∞**: `contemplative`, `explanatory`, `intense`, `light`
- **–ö–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω–∞—è –≥–ª—É–±–∏–Ω–∞**: `low`, `medium`, `high`
- **–°–ª–æ–∂–Ω–æ—Å—Ç—å**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –æ—Ç 1.0 –¥–æ 10.0

#### **2. üï∏Ô∏è –ì—Ä–∞—Ñ-—Å—É—â–Ω–æ—Å—Ç–∏ –∏ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è**
- **üöÄ –†–ê–°–®–ò–†–ï–ù–ù–ê–Ø –ö–û–õ–õ–ï–ö–¶–ò–Ø**: 372 —É–∑–ª–∞ + 251 –æ—Ç–Ω–æ—à–µ–Ω–∏–µ (—É–≤–µ–ª–∏—á–µ–Ω–∏–µ –≤ 31 —Ä–∞–∑!)
- **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–µ–π**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã—è–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö –∫–æ–Ω—Ü–µ–ø—Ç–æ–≤ (–¥–æ 30 –≤–º–µ—Å—Ç–æ 12)
- **üîó –°–ï–ú–ê–ù–¢–ò–ß–ï–°–ö–ò–ô –ê–ù–ê–õ–ò–ó**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã—è–≤–ª–µ–Ω–∏–µ —Å–≤—è–∑–µ–π –º–µ–∂–¥—É –∫–æ–Ω—Ü–µ–ø—Ç–∞–º–∏
- **–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è**: 135 —Å–∏–Ω–æ–Ω–∏–º–æ–≤, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è 82 —Å—Ç–æ–ø-—Å–ª–æ–≤, –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è
- **–ê–≥—Ä–µ–≥–∞—Ü–∏—è**: –ü–æ–¥—Å—á–µ—Ç —á–∞—Å—Ç–æ—Ç—ã –Ω–∞ —É—Ä–æ–≤–Ω–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –∏ –±–ª–æ–∫–æ–≤
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞**: –ú–æ—Ä—Ñ–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Ñ–æ—Ä–º—ã –∏ –≥—Ä–∞–º–º–∞—Ç–∏–∫–∞

#### **3. üéØ –£–º–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è**
- **–ö–æ–ª–ª–µ–∫—Ü–∏–∏**: `neurostalking_basics`, `dialogue_sessions`, `advanced_practices`
- **–ú–µ—Ç—Ä–∏–∫–∞ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏**: `routing_confidence` –æ—Ç 0.0 –¥–æ 1.0
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ**: –ù–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–º, –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤, –¥–∏–∞–ª–æ–≥–æ–≤

#### **4. üìä –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ**
- **–°—Ö–µ–º–∞ v2.0**: –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –≤–µ–∫—Ç–æ—Ä–Ω—ã–º–∏ –ë–î
- **–í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏**: –¢–æ—á–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ YouTube —Å —Ç–∞–π–º–∫–æ–¥–∞–º–∏
- **–ö–∞—á–µ—Å—Ç–≤–æ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏**: –ú–µ—Ç—Ä–∏–∫–∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏
- **–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ**: –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∏ —É–ª—É—á—à–µ–Ω–∏–π

### **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ SAG v2.0:**
- **üéØ –¢–æ—á–Ω–æ—Å—Ç—å**: –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ª—É—á—à–µ–≥–æ –ø–æ–∏—Å–∫–∞
- **üöÄ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –ë–î
- **üîç –ö–∞—á–µ—Å—Ç–≤–æ**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞
- **üåê –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –±–æ–ª—å—à–∏–º –æ–±—ä–µ–º–∞–º –¥–∞–Ω–Ω—ã—Ö
- **ü§ñ AI-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö LLM –∏ –±–æ—Ç–æ–≤

---

## üöÄ **–†–ê–°–®–ò–†–ï–ù–ù–ê–Ø –ì–†–ê–§-–ö–û–õ–õ–ï–ö–¶–ò–Ø v2.0**

### **–ß—Ç–æ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ?**

**"–°–ø—è—â–∏–π –≥–∏–≥–∞–Ω—Ç" –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–æ–±—É–∂–¥–µ–Ω!** SAG v2.0 —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—É—é –≥—Ä–∞—Ñ-–∫–æ–ª–ª–µ–∫—Ü–∏—é –∏–∑ **442 —É–∑–ª–æ–≤** –∏ **259 –æ—Ç–Ω–æ—à–µ–Ω–∏–π** (–≤–º–µ—Å—Ç–æ –±–∞–∑–æ–≤—ã—Ö 12 —Å—É—â–Ω–æ—Å—Ç–µ–π).

### **–¢–µ–∫—É—â–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**

#### **üìä –†–∞–∑–º–µ—Ä –∫–æ–ª–ª–µ–∫—Ü–∏–∏:**
- **–ì—Ä–∞—Ñ-—É–∑–ª—ã:** 442 —ç–ª–µ–º–µ–Ω—Ç–∞ (100% –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ!)
- **–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è:** 259 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (100% –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ!)
- **–°–ª–æ–≤–∞—Ä—å —Å–∏–Ω–æ–Ω–∏–º–æ–≤:** 135 –ø–∞—Ä
- **–°—Ç–æ–ø-—Å–ª–æ–≤–∞:** 82 —ç–ª–µ–º–µ–Ω—Ç–∞

#### **üîó –¢–∏–ø—ã —É–∑–ª–æ–≤:**
- **–ö–æ–Ω—Ü–µ–ø—Ç—ã –Ω–µ–π—Ä–æ—Å—Ç–∞–ª–∫–∏–Ω–≥–∞:** 74 —É–∑–ª–∞
- **–ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è:** 94 —É–∑–ª–∞  
- **–ü—Ä–æ—Ü–µ—Å—Å—ã —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏:** 101 —É–∑–µ–ª
- **–ü—Ä–∞–∫—Ç–∏–∫–∏ –∏ —Ç–µ—Ö–Ω–∏–∫–∏:** 77 —É–∑–ª–æ–≤
- **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ –º–µ—Ç–æ–¥—ã:** 65 —É–∑–ª–æ–≤
- **–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —É–∑–ª—ã SAG:** 31 —É–∑–µ–ª

#### **üîó –¢–∏–ø—ã –æ—Ç–Ω–æ—à–µ–Ω–∏–π:**
- **–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ:** 33 –æ—Ç–Ω–æ—à–µ–Ω–∏—è
- **–ö–∞—É–∑–∞–ª—å–Ω—ã–µ:** 40 –æ—Ç–Ω–æ—à–µ–Ω–∏–π
- **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ:** 39 –æ—Ç–Ω–æ—à–µ–Ω–∏–π
- **–í—Ä–µ–º–µ–Ω–Ω—ã–µ:** 36 –æ—Ç–Ω–æ—à–µ–Ω–∏–π
- **–°—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ:** 36 –æ—Ç–Ω–æ—à–µ–Ω–∏–π
- **–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ:** 29 –æ—Ç–Ω–æ—à–µ–Ω–∏–π
- **–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –Ω–µ–π—Ä–æ—Å—Ç–∞–ª–∫–∏–Ω–≥:** 38 –æ—Ç–Ω–æ—à–µ–Ω–∏–π

### **–ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**

#### **1. üéØ –£–º–Ω–∞—è –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è:**
- –ö–æ–Ω—Ü–µ–ø—Ç—ã –Ω–µ–π—Ä–æ—Å—Ç–∞–ª–∫–∏–Ω–≥–∞ –ø–æ–ª—É—á–∞—é—Ç –≤—ã—Å—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –≤–∞–∂–Ω–æ—Å—Ç–∏
- –õ–∏–º–∏—Ç —É–≤–µ–ª–∏—á–µ–Ω —Å 12 –¥–æ 30 —Å—É—â–Ω–æ—Å—Ç–µ–π

#### **2. üîç –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ —Å–≤—è–∑–µ–π:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã—è–≤–ª–µ–Ω–∏–µ —Å–≤—è–∑–µ–π –º–µ–∂–¥—É –∫–æ–Ω—Ü–µ–ø—Ç–∞–º–∏
- –†–∞—Å—á–µ—Ç —Å–∏–ª—ã —Å–≤—è–∑–∏ (0.0 - 1.0)
- –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ —Ç–∏–ø–∞–º: –∫–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω—ã–µ, –∫–∞—É–∑–∞–ª—å–Ω—ã–µ, –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ

#### **3. üîÑ –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è:**
- 135 —Å–∏–Ω–æ–Ω–∏–º–æ–≤ –¥–ª—è —Ç–æ—á–Ω–æ–π –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏
- –£–º–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å—Ç–æ–ø-—Å–ª–æ–≤
- –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –∏ –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è

### **–ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:**
- **–í—Ä–µ–º—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è:** <0.001—Å
- **–í—Ä–µ–º—è –∞–Ω–∞–ª–∏–∑–∞ —Å–≤—è–∑–µ–π:** <0.001—Å
- **–û–±—â–µ–µ –≤—Ä–µ–º—è:** <0.002—Å
- **–ö–∞—á–µ—Å—Ç–≤–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è:** 90%+
- **–£–≤–µ–ª–∏—á–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:** –≤ 37 —Ä–∞–∑!
- **üéØ –ü–æ–ª–Ω–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è:** 100% –≥—Ä–∞—Ñ-–∫–æ–ª–ª–µ–∫—Ü–∏–∏ –∑–∞–≥—Ä—É–∂–µ–Ω–æ

---

## üéØ **ETAP 5 - –¢–æ–Ω–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ SAG v2.0**

### **–°—Ç–∞—Ç—É—Å: ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û (10/10 –∑–∞–¥–∞—á - 100%)**

**ETAP 5** - —ç—Ç–æ —ç—Ç–∞–ø —Ç–æ–Ω–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã SAG v2.0, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –Ω–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è –∫–∞—á–µ—Å—Ç–≤–∞ –∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É.

### **–í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏:**

#### **‚úÖ ETAP 5.1 - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏ overview_summary**
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ì—Ä–∞–º–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Ñ–æ—Ä–º—ã —Å–ª–æ–≤ –≤ fallback-–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- **–†–µ—à–µ–Ω–∏–µ**: –ú–æ—Ä—Ñ–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å–ª–æ–≤–∞—Ä—å —Å 30 –∫–ª—é—á–µ–≤—ã–º–∏ —Ç–µ—Ä–º–∏–Ω–∞–º–∏
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –£–ª—É—á—à–µ–Ω–Ω–∞—è –≥—Ä–∞–º–º–∞—Ç–∏–∫–∞ –≤ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

#### **‚úÖ ETAP 5.2 - –£–ª—É—á—à–µ–Ω–∏–µ –¥–µ—Ç–µ–∫—Ü–∏–∏ –¥–∏–∞–ª–æ–≥–æ–≤**
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ—Ç–æ—á–Ω–∞—è –¥–µ—Ç–µ–∫—Ü–∏—è –¥–∏–∞–ª–æ–≥–æ–≤, –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–ª–∏—Å—å —Ç–æ–ª—å–∫–æ –±–ª–æ–∫–∏
- **–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑ `full_text` —Å –º–∞—Ä–∫–µ—Ä–∞–º–∏ `>>` –∏ –≤–æ–ø—Ä–æ—Å–∏—Ç–µ–ª—å–Ω—ã–º–∏ –∑–Ω–∞–∫–∞–º–∏
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ë–æ–ª–µ–µ —Ç–æ—á–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–∏–∞–ª–æ–≥–æ–≤—ã—Ö —Å–µ—Å—Å–∏–π

#### **‚úÖ ETAP 5.3 - –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∏–∞–ª–æ–≥–æ–≤—ã—Ö –±–ª–æ–∫–æ–≤**
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ü–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è –±–µ–∑ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **–†–µ—à–µ–Ω–∏–µ**: `dialogue_turn`, `question_type`, `answer_completeness`
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏ –∫–∞—á–µ—Å—Ç–≤–∞

#### **‚úÖ ETAP 5.4 - –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –≥—Ä–∞—Ñ-—Å—É—â–Ω–æ—Å—Ç–µ–π**
- **–ü—Ä–æ–±–ª–µ–º–∞**: –î—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è –∏ –Ω–∏–∑–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –≥—Ä–∞—Ñ-—Å—É—â–Ω–æ—Å—Ç–∏
- **–†–µ—à–µ–Ω–∏–µ**: –§—É–Ω–∫—Ü–∏—è `_normalize_graph_entities` —Å —Å–∏–Ω–æ–Ω–∏–º–∞–º–∏ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –û—á–∏—â–µ–Ω–Ω—ã–µ –∏ –¥–µ–¥—É–ø–ª–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≥—Ä–∞—Ñ-—Å—É—â–Ω–æ—Å—Ç–∏

#### **‚úÖ ETAP 5.5 - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ routing_confidence**
- **–ü—Ä–æ–±–ª–µ–º–∞**: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –º–µ—Ç—Ä–∏–∫–∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –≤ –≤—ã–±–æ—Ä–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
- **–†–µ—à–µ–Ω–∏–µ**: –§—É–Ω–∫—Ü–∏—è `determine_collection_target` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ—Ä—Ç–µ–∂ —Å confidence
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ú–µ—Ç—Ä–∏–∫–∞ routing_confidence –¥–ª—è –ª—É—á—à–µ–≥–æ —Ä–æ—É—Ç–∏–Ω–≥–∞

#### **‚úÖ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø**
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω –±–∞–≥ "too many values to unpack"**: –ó–∞—â–∏—Ç–∞ –æ—Ç –æ—à–∏–±–æ–∫ —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏
- **–î–æ–±–∞–≤–ª–µ–Ω–∞ –∞–≥—Ä–µ–≥–∞—Ü–∏—è –≥—Ä–∞—Ñ-—Å—É—â–Ω–æ—Å—Ç–µ–π**: 12 —Å—É—â–Ω–æ—Å—Ç–µ–π –Ω–∞ —É—Ä–æ–≤–Ω–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞
- **–†–∞—Å—à–∏—Ä–µ–Ω overview**: 191 ‚Üí 573 —Å–∏–º–≤–æ–ª–∞ (–≤ 3 —Ä–∞–∑–∞ –¥–ª–∏–Ω–Ω–µ–µ!)
- **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –º–æ—Ä—Ñ–æ–ª–æ–≥–∏—è**: LLM-–ø—Ä–æ–º–ø—Ç —Å –≥—Ä–∞–º–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏

### **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã ETAP 5:**
- **SAG Readiness Score**: 70% ‚Üí **90%** (üü¢ –û–¢–õ–ò–ß–ù–û)
- **–ö–∞—á–µ—Å—Ç–≤–æ overview**: –ö–æ—Ä–æ—Ç–∫–∏–π ‚Üí **–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å**
- **–ì—Ä–∞—Ñ-—Å—É—â–Ω–æ—Å—Ç–∏**: 0 ‚Üí **30 –Ω–∞ —É—Ä–æ–≤–Ω–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞**
- **–ú–æ—Ä—Ñ–æ–ª–æ–≥–∏—è**: –ù–µ —Ä–∞–±–æ—Ç–∞–ª–∞ ‚Üí **2/9 —É–ª—É—á—à–µ–Ω–∏–π**
- **–ì—Ä–∞–º–º–∞—Ç–∏–∫–∞**: –û—à–∏–±–∫–∏ ‚Üí **0 –æ—à–∏–±–æ–∫**
- **üéØ –ì—Ä–∞—Ñ-–∫–æ–ª–ª–µ–∫—Ü–∏—è**: 12 –±–∞–∑–æ–≤—ã—Ö ‚Üí **442 —É–∑–ª–∞ + 259 –æ—Ç–Ω–æ—à–µ–Ω–∏–π**

### **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã:**
- **–°—Ç–∞—Ç—É—Å**: üü¢ **–ì–û–¢–û–í –î–õ–Ø –ü–†–û–î–ê–ö–®–ï–ù–ê**
- **–ö–∞—á–µ—Å—Ç–≤–æ**: **–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å**
- **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å**: **–í—ã—Å–æ–∫–∞—è, —Å –∑–∞—â–∏—Ç–æ–π –æ—Ç –æ—à–∏–±–æ–∫**
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: **–ì–æ—Ç–æ–≤ –∫ –±–æ–ª—å—à–∏–º –æ–±—ä–µ–º–∞–º –¥–∞–Ω–Ω—ã—Ö**

---

## üéØ **–ò–ù–¢–ï–ì–†–ê–¶–ò–Ø "–°–ü–Ø–©–ï–ì–û –ì–ò–ì–ê–ù–¢–ê" - –°–¢–ê–¢–£–°**

### **‚úÖ –ß–¢–û –£–ñ–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û:**

#### **1. üöÄ –ü–æ–ª–Ω–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è –≥—Ä–∞—Ñ-–∫–æ–ª–ª–µ–∫—Ü–∏–∏**
- **–ì—Ä–∞—Ñ-—É–∑–ª—ã**: 442 —ç–ª–µ–º–µ–Ω—Ç–∞ (100% –∑–∞–≥—Ä—É–∂–µ–Ω–æ)
- **–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è**: 259 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (100% –∑–∞–≥—Ä—É–∂–µ–Ω–æ)
- **–°–ª–æ–≤–∞—Ä—å —Å–∏–Ω–æ–Ω–∏–º–æ–≤**: 135 –ø–∞—Ä
- **–°—Ç–æ–ø-—Å–ª–æ–≤–∞**: 82 —ç–ª–µ–º–µ–Ω—Ç–∞
- **–û–±—â–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –≤ 37 —Ä–∞–∑!

#### **2. üîó –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ —Å–≤—è–∑–µ–π**
- **–ö–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω—ã–µ —Å–≤—è–∑–∏**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã—è–≤–ª–µ–Ω–∏–µ
- **–ö–∞—É–∑–∞–ª—å–Ω—ã–µ —Å–≤—è–∑–∏**: –ü—Ä–∏—á–∏–Ω–Ω–æ-—Å–ª–µ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è
- **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å–≤—è–∑–∏**: –ü—Ä–∏–∫–ª–∞–¥–Ω—ã–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è
- **–†–∞—Å—á–µ—Ç —Å–∏–ª—ã —Å–≤—è–∑–∏**: –ú–µ—Ç—Ä–∏–∫–∞ –æ—Ç 0.0 –¥–æ 1.0

#### **3. üéØ –£–º–Ω–∞—è –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è**
- **–õ–∏–º–∏—Ç —Å—É—â–Ω–æ—Å—Ç–µ–π**: –£–≤–µ–ª–∏—á–µ–Ω —Å 12 –¥–æ 30
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–µ–π—Ä–æ—Å—Ç–∞–ª–∫–∏–Ω–≥–∞**: –ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ç—ã –ø–æ–ª—É—á–∞—é—Ç –≤—ã—Å—à–∏–π —Ä–∞–Ω–≥
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞**: –ü–æ –≤–∞–∂–Ω–æ—Å—Ç–∏ –∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏

#### **4. üîÑ –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è**
- **–°–∏–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏—è**: 135 –ø–∞—Ä –¥–ª—è —Ç–æ—á–Ω–æ–π –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏
- **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è**: 82 —Å—Ç–æ–ø-—Å–ª–æ–≤–∞ –¥–ª—è –æ—á–∏—Å—Ç–∫–∏
- **–î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è**: –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è —Å—É—â–Ω–æ—Å—Ç–µ–π

### **üìä –¢–ï–ö–£–©–ò–ï –í–û–ó–ú–û–ñ–ù–û–°–¢–ò:**
- **–í—Ä–µ–º—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è**: <0.001—Å
- **–í—Ä–µ–º—è –∞–Ω–∞–ª–∏–∑–∞ —Å–≤—è–∑–µ–π**: <0.001—Å
- **–ö–∞—á–µ—Å—Ç–≤–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è**: 90%+
- **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã**: 90% (–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å)

### **üîÑ –ß–¢–û –ü–õ–ê–ù–ò–†–£–ï–¢–°–Ø –í –ë–£–î–£–©–ï–ú:**
- **–≠—Ç–∞–ø 2**: –ü–æ–ª–Ω–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è (1-2 –Ω–µ–¥–µ–ª–∏)
  - –î–æ–±–∞–≤–∏—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ —É–∑–ª—ã (70 –¥–æ 442)
  - –î–æ–±–∞–≤–∏—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è (8 –¥–æ 259)
  - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≥—Ä–∞—Ñ-—Ç—Ä–∞–≤–µ—Ä—Å –¥–ª—è –ø–æ–∏—Å–∫–∞ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –∫–æ–Ω—Ü–µ–ø—Ç–æ–≤
  - –î–æ–±–∞–≤–∏—Ç—å –≤–µ—Å–æ–≤—ã–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –¥–ª—è —Å–≤—è–∑–µ–π (–æ—Ç–ª–æ–∂–µ–Ω–æ)
- **–≠—Ç–∞–ø 3**: SAG Pipeline (2-4 –Ω–µ–¥–µ–ª–∏)
  - –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫
  - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π —Å–∏–Ω—Ç–µ–∑
  - –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—é –æ—Ç–≤–µ—Ç–æ–≤
  - –í–Ω–µ–¥—Ä–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –∫–∞—á–µ—Å—Ç–≤–∞

---

## üèóÔ∏è **–û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø –ê–†–•–ò–¢–ï–ö–¢–£–†–´ (Codex)**

### **‚úÖ –ß–¢–û –û–ü–¢–ò–ú–ò–ó–ò–†–û–í–ê–õ CODEX:**

#### **1. üéØ –ß–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö**
- **–£–±—Ä–∞–ª –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –ø–∞–ø–∫–∏**: `vector_ready`, `pipeline_results`, `subtitles`
- **–°–æ–∑–¥–∞–ª —á–∏—Å—Ç—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É**: `data/raw_subtitles/` –¥–ª—è –ª–æ–≥–æ–≤ –∏ —Å—ã—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **–û—Å—Ç–∞–≤–∏–ª —Ç–æ–ª—å–∫–æ**: `data/sag_final/` –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω SAG v2.0 –¥–∞–Ω–Ω—ã—Ö

#### **2. üîß –£–ª—É—á—à–µ–Ω–∏—è –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞**
- **–ü—Ä—è–º–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ SAG v2.0** (–±–µ–∑ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —à–∞–≥–æ–≤)
- **–£–º–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤** (—Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–∞–π–ø–ª–∞–π–Ω–∞ ‚Üí raw_subtitles, SAG –¥–∞–Ω–Ω—ã–µ ‚Üí sag_final)
- **–£–±—Ä–∞–ª –æ—á–∏—Å—Ç–∫—É –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤** (—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞)
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–ª –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞**

#### **3. üìÅ –ß–∏—Å—Ç–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö**
- **`raw_subtitles/`**: –õ–æ–≥–∏ –ø–∞–π–ø–ª–∞–π–Ω–∞, batch —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, —Å—ã—Ä—ã–µ —Å—É–±—Ç–∏—Ç—Ä—ã
- **`sag_final/`**: –¢–æ–ª—å–∫–æ –≤—ã—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ SAG v2.0 JSON –∏ Markdown —Ñ–∞–π–ª—ã

### **üìä –†–ï–ó–£–õ–¨–¢–ê–¢–´ –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò:**
- **–£–ø—Ä–æ—â–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞** - —É–±—Ä–∞–Ω—ã –ª–∏—à–Ω–∏–µ –ø–∞–ø–∫–∏
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –ø–∞–π–ø–ª–∞–π–Ω** - –ø—Ä—è–º–æ–π –ø—É—Ç—å –∫ SAG v2.0
- **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —É–º–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è** - –ª–æ–≥–∏ –æ—Ç–¥–µ–ª—å–Ω–æ, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—Ç–¥–µ–ª—å–Ω–æ
- **–ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É** - —á–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### **üîÑ –ß–¢–û –≠–¢–û –î–ê–ï–¢:**
- **–ú–µ–Ω—å—à–µ –æ–ø–µ—Ä–∞—Ü–∏–π —Å —Ñ–∞–π–ª–∞–º–∏** - –ø–æ–≤—ã—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **–ü—Ä—è–º–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ SAG v2.0** - —É–ø—Ä–æ—â–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏
- **–£–º–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É** - –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

---

## üßπ **–ü–û–°–õ–ï–î–ù–Ø–Ø –û–ß–ò–°–¢–ö–ê –ü–†–û–ï–ö–¢–ê**

### **‚úÖ –ß–¢–û –ë–´–õ–û –û–ß–ò–©–ï–ù–û:**

#### **1. üóëÔ∏è –£–¥–∞–ª–µ–Ω—ã –¥—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è —Ñ–∞–π–ª—ã:**
- **–¢–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã**: `test_graph_integration.py`
- **–î—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è –æ—Ç—á–µ—Ç—ã**: `ETAP_5_REPORT.md`, `GRAPH_INTEGRATION_REPORT.md`
- **–ü–æ–≤—Ç–æ—Ä—è—é—â–∞—è—Å—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: `INTEGRATION_SUCCESS_SUMMARY.md`, `README_GRAPH_INTEGRATION.md`

#### **2. üßπ –û—á–∏—â–µ–Ω—ã –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- **Python –∫—ç—à**: `__pycache__/` –ø–∞–ø–∫–∞
- **–õ–æ–≥–∏**: `pipeline.log` –æ—á–∏—â–µ–Ω
- **–°–ª—É—á–∞–π–Ω–æ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã**: `h -u origin reserve`, `how cc59e0d --stat`

#### **3. üìä –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –¥–∞–Ω–Ω—ã–µ:**
- **–°—Ç–∞—Ä—ã–µ –ª–æ–≥–∏**: –£–¥–∞–ª–µ–Ω—ã —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ batch —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- **–ù–µ—É–¥–∞—á–Ω—ã–µ –∑–∞–ø—É—Å–∫–∏**: –û—á–∏—â–µ–Ω—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å –æ—à–∏–±–∫–∞–º–∏
- **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö**: –û—Å—Ç–∞–≤–ª–µ–Ω—ã —Ç–æ–ª—å–∫–æ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã

### **üìÅ –¢–ï–ö–£–©–ê–Ø –ß–ò–°–¢–ê–Ø –°–¢–†–£–ö–¢–£–†–ê:**
```
voice_bot_pipeline/
‚îú‚îÄ‚îÄ üìÅ data/
‚îÇ   ‚îú‚îÄ‚îÄ raw_subtitles/     # –õ–æ–≥–∏ + —Å—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ (–æ—á–∏—â–µ–Ω–æ)
‚îÇ   ‚îî‚îÄ‚îÄ sag_final/         # SAG v2.0 —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
‚îú‚îÄ‚îÄ üìÅ text_processor/     # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥
‚îú‚îÄ‚îÄ üìÅ subtitle_extractor/ # –ó–∞–≥—Ä—É–∑–∫–∞ —Å—É–±—Ç–∏—Ç—Ä–æ–≤
‚îú‚îÄ‚îÄ üìÅ scripts/            # –°–∫—Ä–∏–ø—Ç—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚îú‚îÄ‚îÄ üìÑ README.md           # –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ üìÑ config.yaml         # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îî‚îÄ‚îÄ üìÑ .gitignore          # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Git
```

### **üéØ –†–ï–ó–£–õ–¨–¢–ê–¢ –û–ß–ò–°–¢–ö–ò:**
- **–£–±—Ä–∞–Ω–æ 12+ –ª–∏—à–Ω–∏—Ö —Ñ–∞–π–ª–æ–≤** - —É–ø—Ä–æ—â–µ–Ω–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏—è
- **–û—á–∏—â–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö** - —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤—Å—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å** - –Ω–∏—á–µ–≥–æ –Ω–µ —Å–ª–æ–º–∞–Ω–æ
- **–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É** - —á–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

---

## üìÅ **–°–¢–†–£–ö–¢–£–†–ê –°–û–•–†–ê–ù–ï–ù–ò–Ø –î–ê–ù–ù–´–•**

### **–ö—É–¥–∞ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤—Å–µ –≤–Ω–æ–≤—å –∏–∑–≤–ª–µ—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**

–í—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ —Å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–µ–π –ø–æ –¥–∞—Ç–∞–º –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤–∏–¥–µ–æ:

#### **1. –°—ã—Ä—ã–µ —Å—É–±—Ç–∏—Ç—Ä—ã** (`data/raw_subtitles/`)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:** `{year}/{month}/{date}_{video_id}_{safe_title}.{ext}`

**–ü—Ä–∏–º–µ—Ä:**
```
data/raw_subtitles/
‚îú‚îÄ‚îÄ 2024/
‚îÇ   ‚îú‚îÄ‚îÄ 03/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 2024-03-15_HndVzdJuAz0_–ü—Ä–æ—Ü–µ—Å—Å_–∏—Å—Ü–µ–ª–µ–Ω–∏—è.json  # –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 2024-03-15_HndVzdJuAz0_–ü—Ä–æ—Ü–µ—Å—Å_–∏—Å—Ü–µ–ª–µ–Ω–∏—è.srt   # –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Å—É–±—Ç–∏—Ç—Ä—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ 2024-03-15_HndVzdJuAz0_–ü—Ä–æ—Ü–µ—Å—Å_–∏—Å—Ü–µ–ª–µ–Ω–∏—è.txt   # –ß–∏—Å—Ç—ã–π —Ç–µ–∫—Å—Ç
‚îÇ   ‚îî‚îÄ‚îÄ 04/
‚îÇ       ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ 2025/
    ‚îú‚îÄ‚îÄ 07/
    ‚îÇ   ‚îî‚îÄ‚îÄ 2025-07-17_tHrRgOw8CU0_–ì–¥–µ_—É–º_—Ç–∞–º_–∏_–∫–ª–∞–¥.json
    ‚îî‚îÄ‚îÄ 09/
        ‚îî‚îÄ‚îÄ 2025-09-02_iBEbF8zuhQ8_–û–ø—ã—Ç_–Ω–∏—Ç—å_–ê—Ä–∏–∞–¥–Ω—ã.json
```

**–ß—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:**
- JSON —Ñ–∞–π–ª —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ –∏ —Å—É–±—Ç–∏—Ç—Ä–∞–º–∏
- SRT —Ñ–∞–π–ª (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Å—É–±—Ç–∏—Ç—Ä–æ–≤)
- TXT —Ñ–∞–π–ª (—á–∏—Å—Ç—ã–π —Ç–µ–∫—Å—Ç –±–µ–∑ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–∫)

#### **2. SAG v2.0 —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã** (`data/sag_final/`)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:** `{year}/{month}/{date}_{video_id}_{safe_title}.{ext}`

**–ü—Ä–∏–º–µ—Ä:**
```
data/sag_final/
‚îú‚îÄ‚îÄ 2024/
‚îÇ   ‚îú‚îÄ‚îÄ 03/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 2024-03-15_HndVzdJuAz0_–ü—Ä–æ—Ü–µ—Å—Å_–∏—Å—Ü–µ–ª–µ–Ω–∏—è.for_vector.json  # –î–ª—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –ë–î
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ 2024-03-15_HndVzdJuAz0_–ü—Ä–æ—Ü–µ—Å—Å_–∏—Å—Ü–µ–ª–µ–Ω–∏—è.for_review.md    # –î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
‚îÇ   ‚îî‚îÄ‚îÄ 04/
‚îî‚îÄ‚îÄ 2025/
    ‚îú‚îÄ‚îÄ 07/
    ‚îÇ   ‚îú‚îÄ‚îÄ 2025-07-17_tHrRgOw8CU0_–ì–¥–µ_—É–º_—Ç–∞–º_–∏_–∫–ª–∞–¥.for_vector.json
    ‚îÇ   ‚îî‚îÄ‚îÄ 2025-07-17_tHrRgOw8CU0_–ì–¥–µ_—É–º_—Ç–∞–º_–∏_–∫–ª–∞–¥.for_review.md
    ‚îî‚îÄ‚îÄ 09/
        ‚îú‚îÄ‚îÄ 2025-09-02_iBEbF8zuhQ8_–û–ø—ã—Ç_–Ω–∏—Ç—å_–ê—Ä–∏–∞–¥–Ω—ã.for_vector.json
        ‚îî‚îÄ‚îÄ 2025-09-02_iBEbF8zuhQ8_–û–ø—ã—Ç_–Ω–∏—Ç—å_–ê—Ä–∏–∞–¥–Ω—ã.for_review.md
```

**–ß—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:**
- `*.for_vector.json` - —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –ë–î (ChromaDB)
- `*.for_review.md` - Markdown —Ñ–∞–π–ª –¥–ª—è —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞

**üÜï –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —ç–∫—Å—Ç—Ä–∞–∫—Ç–æ—Ä–æ–≤ –≤ JSON:**

–í—Å–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —ç–∫—Å—Ç—Ä–∞–∫—Ç–æ—Ä–æ–≤ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è **–ø—Ä—è–º–æ –≤ –±–ª–æ–∫–∏** —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ JSON —Ñ–∞–π–ª–∞ (`*.for_vector.json`):

```json
{
  "blocks": [
    {
      "block_id": "...",
      "content": "...",
      
      // üÜï –î–∞–Ω–Ω—ã–µ —ç–∫—Å—Ç—Ä–∞–∫—Ç–æ—Ä–æ–≤ (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω—ã –≤ config.yaml):
      
      "safety": {
        "contraindications": [...],
        "limitations": [...],
        "when_to_stop": [...],
        "when_to_seek_professional_help": [...],
        "notes": []
      },
      
      "causal_chains": [
        {
          "name": "–Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞",
          "steps": [
            {"step": 1, "event": "...", "description": "..."}
          ],
          "intervention_points": [
            {
              "after_step": 2,
              "practice": "–º–µ—Ç–∞–Ω–∞–±–ª—é–¥–µ–Ω–∏–µ",
              "effect": "—á—Ç–æ –º–µ–Ω—è–µ—Ç—Å—è",
              "related_concepts": ["–æ—Å–æ–∑–Ω–∞–≤–∞–Ω–∏–µ", "–ø–∞—Ç—Ç–µ—Ä–Ω—ã"]
            }
          ]
        }
      ],
      
      "concept_hierarchy": [
        {
          "name": "–æ—Å–æ–∑–Ω–∞–≤–∞–Ω–∏–µ",
          "level": "domain",
          "parent": "–Ω–µ–π—Ä–æ—Å—Ç–∞–ª–∫–∏–Ω–≥",
          "relationship": "is_core_component_of"
        }
      ],
      
      "case_studies": [
        {
          "id": "case_local_1",
          "situation": "–æ–ø–∏—Å–∞–Ω–∏–µ —Å–∏—Ç—É–∞—Ü–∏–∏",
          "root_cause": "–∫–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞",
          "applied_practices": ["–ø—Ä–∞–∫—Ç–∏–∫–∞1", "–ø—Ä–∞–∫—Ç–∏–∫–∞2"],
          "process": ["—à–∞–≥ 1", "—à–∞–≥ 2"],
          "outcome": "—Ä–µ–∑—É–ª—å—Ç–∞—Ç",
          "lessons": "–≤—ã–≤–æ–¥—ã",
          "related_concepts": ["–∫–æ–Ω—Ü–µ–ø—Ç1"]
        }
      ],
      
      "prerequisites": {
        "prerequisites": [
          {
            "concept": "–æ—Å–Ω–æ–≤–∞ –æ—Å–æ–∑–Ω–∞–≤–∞–Ω–∏—è",
            "level": "beginner",
            "why_needed": "–ø–æ—á–µ–º—É –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ"
          }
        ],
        "recommended_sequence": [
          "–æ—Å–æ–∑–Ω–∞–≤–∞–Ω–∏–µ ‚Üí –º–µ—Ç–∞–Ω–∞–±–ª—é–¥–µ–Ω–∏–µ ‚Üí —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤"
        ],
        "common_mistakes": ["—Ç–∏–ø–∏—á–Ω–∞—è –æ—à–∏–±–∫–∞"]
      }
    }
  ]
}
```

**–î–æ—Å—Ç—É–ø–Ω—ã–µ —ç–∫—Å—Ç—Ä–∞–∫—Ç–æ—Ä—ã:**
- `safety_extractor.py` ‚Üí –ø–æ–ª–µ `safety` –≤ –∫–∞–∂–¥–æ–º –±–ª–æ–∫–µ
- `causal_chain_extractor.py` ‚Üí –ø–æ–ª–µ `causal_chains` –≤ –∫–∞–∂–¥–æ–º –±–ª–æ–∫–µ
- `concept_hierarchy_extractor.py` ‚Üí –ø–æ–ª–µ `concept_hierarchy` –≤ –∫–∞–∂–¥–æ–º –±–ª–æ–∫–µ
- `case_study_extractor.py` ‚Üí –ø–æ–ª–µ `case_studies` –≤ –∫–∞–∂–¥–æ–º –±–ª–æ–∫–µ
- `prerequisite_extractor.py` ‚Üí –ø–æ–ª–µ `prerequisites` –≤ –∫–∞–∂–¥–æ–º –±–ª–æ–∫–µ

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —ç–∫—Å—Ç—Ä–∞–∫—Ç–æ—Ä–æ–≤ (config.yaml):**
```yaml
pipeline:
  sag_v2:
    use_safety_extractor: true
    use_causal_chain_extractor: true
    use_concept_hierarchy_extractor: true
    use_case_study_extractor: true
    use_prerequisite_extractor: true
    models:
      safety: gpt-4o-mini
      causal: gpt-4o-mini
      hierarchy: gpt-4o-mini
      case_study: gpt-4o-mini
      prerequisite: gpt-4o-mini
```

#### **3. –†–µ–µ—Å—Ç—Ä –≤–∏–¥–µ–æ** (`data/video_registry.json`)

**–ï–¥–∏–Ω—ã–π —Ñ–∞–π–ª** —Å–æ –≤—Å–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –≤–∏–¥–µ–æ:
- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (–Ω–∞–∑–≤–∞–Ω–∏–µ, –∫–∞–Ω–∞–ª, –¥–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏)
- –°—Ç–∞—Ç—É—Å—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏
- –ò—Å—Ç–æ—Ä–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
- –ü—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–±–ª–æ–∫–∏, —Å—É—â–Ω–æ—Å—Ç–∏, –∑–∞—Ç—Ä–∞—Ç—ã API)

#### **4. –õ–æ–≥–∏ –ø–∞–π–ø–ª–∞–π–Ω–∞** (`data/raw_subtitles/`)

**Batch —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- `batch_pipeline_results_{timestamp}.json` - —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–∞–∫–µ—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–µ 2 —Ñ–∞–π–ª–∞

**–õ–æ–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**
- `pipeline.log` - –æ—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥-—Ñ–∞–π–ª (–≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞)

#### **5. –í–µ–∫—Ç–æ—Ä–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** (`data/chromadb/`)

**–õ–æ–∫–∞–ª—å–Ω–∞—è ChromaDB:**
- –í—Å–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤, –±–ª–æ–∫–æ–≤ –∏ –≥—Ä–∞—Ñ-—Å—É—â–Ω–æ—Å—Ç–µ–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏
- –ö–æ–ª–ª–µ–∫—Ü–∏–∏: `sag_v2_documents`, `sag_v2_blocks`, `sag_v2_graph_entities`

### **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ç–∞–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:**

‚úÖ **–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –ø–æ –¥–∞—Ç–∞–º** - –ª–µ–≥–∫–æ –Ω–∞–π—Ç–∏ –≤–∏–¥–µ–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞  
‚úÖ **–ß–∏—Ç–∞–µ–º—ã–µ –∏–º–µ–Ω–∞** - —Å—Ä–∞–∑—É –≤–∏–¥–Ω–æ, —á—Ç–æ –∑–∞ —Ñ–∞–π–ª  
‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–µ —Ä–∞–∑–≤–∞–ª–∏—Ç—Å—è –Ω–∞ 1000+ –≤–∏–¥–µ–æ  
‚úÖ **–õ–µ–≥–∫–∞—è –æ—á–∏—Å—Ç–∫–∞** - –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ –ø–∞–ø–∫–∞–º  
‚úÖ **–ë—ç–∫–∞–ø-—Ñ—Ä–µ–Ω–¥–ª–∏** - –ø–∞–ø–∫–∏ –ø–æ –¥–∞—Ç–∞–º —É–¥–æ–±–Ω–æ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å  
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è** - –Ω–µ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–∞–ø–∫–∏  

### **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—É—Ç–µ–π (config.yaml):**

```yaml
pipeline:
  subtitles:
    output_dir: "data/raw_subtitles"  # –°—ã—Ä—ã–µ —Å—É–±—Ç–∏—Ç—Ä—ã
  text_processing:
    output_dir: "data/sag_final"      # SAG v2.0 —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
```

---

## üìä **–°–ò–°–¢–ï–ú–ê –£–ü–†–ê–í–õ–ï–ù–ò–Ø –í–ò–î–ï–û-–†–ï–ï–°–¢–†–û–ú**

### **–û–±–∑–æ—Ä**

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∏–¥–µ–æ-–¥–∞–Ω–Ω—ã–º–∏ –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –¥–æ 500+ –≤–∏–¥–µ–æ. –°–∏—Å—Ç–µ–º–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:

- ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫—É –¥—É–±–ª–∏–∫–∞—Ç–æ–≤** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π
- ‚úÖ **–ü–æ–ª–Ω—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ** - –ø–æ–ª—É—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ YouTube Data API v3
- ‚úÖ **–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é –ø–æ –¥–∞—Ç–∞–º** - —Ñ–∞–π–ª—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ `{year}/{month}/`
- ‚úÖ **–ß–∏—Ç–∞–µ–º—ã–µ –∏–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤** - —Ñ–æ—Ä–º–∞—Ç `{date}_{video_id}_{safe_title}.{ext}`
- ‚úÖ **–ò—Å—Ç–æ—Ä–∏—é –æ–±—Ä–∞–±–æ—Ç–∫–∏** - –ø–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –∫–∞–∂–¥–æ–≥–æ –≤–∏–¥–µ–æ
- ‚úÖ **CLI —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** - —É–¥–æ–±–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

### **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã**

#### **1. Video Registry (`utils/video_registry.py`)**

–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Ä–µ–µ—Å—Ç—Ä –≤—Å–µ—Ö –≤–∏–¥–µ–æ —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ –∏ –∏—Å—Ç–æ—Ä–∏–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏.

**–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤: `pending`, `processing`, `processed`, `failed`, `skipped`
- –ò—Å—Ç–æ—Ä–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏ (–±–ª–æ–∫–∏, —Å—É—â–Ω–æ—Å—Ç–∏, –≤—Ä–µ–º—è, —Å—Ç–æ–∏–º–æ—Å—Ç—å API)
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—É—Ç–µ–π –∫ —Ñ–∞–π–ª–∞–º (raw_subtitles, sag_json, sag_md)
- –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ–µ—Å—Ç—Ä–∞

**–§–æ—Ä–º–∞—Ç —Ä–µ–µ—Å—Ç—Ä–∞:**
```json
{
  "version": "1.0",
  "last_updated": "2025-12-04T14:11:00+05:00",
  "total_videos": 500,
  "processed": 3,
  "failed": 0,
  "pending": 497,
  "videos": {
    "HndVzdJuAz0": {
      "video_id": "HndVzdJuAz0",
      "title": "–ü—Ä—è–º–æ–π —ç—Ñ–∏—Ä: –ü—Ä–æ—Ü–µ—Å—Å –∏—Å—Ü–µ–ª–µ–Ω–∏—è –±–µ–∑ –≥–µ—Ä–æ–∏–∑–º–∞",
      "channel": "Salamat Sarsekenov",
      "published_date": "2024-03-15T18:30:00Z",
      "duration_seconds": 2340,
      "url": "https://www.youtube.com/watch?v=HndVzdJuAz0",
      "status": "processed",
      "processing_history": [...],
      "files": {
        "raw_subtitles": "data/raw_subtitles/2024/03/2024-03-15_HndVzdJuAz0_–ü—Ä–æ—Ü–µ—Å—Å_–∏—Å—Ü–µ–ª–µ–Ω–∏—è.json",
        "sag_json": "data/sag_final/2024/03/2024-03-15_HndVzdJuAz0.for_vector.json",
        "sag_md": "data/sag_final/2024/03/2024-03-15_HndVzdJuAz0.for_review.md"
      },
      "metadata": {...}
    }
  }
}
```

#### **2. YouTube Metadata Fetcher (`utils/youtube_metadata_fetcher.py`)**

–ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª–Ω—ã—Ö –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –≤–∏–¥–µ–æ —á–µ—Ä–µ–∑ YouTube Data API v3.

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è, –∫–∞–Ω–∞–ª–∞, –¥–∞—Ç—ã –ø—É–±–ª–∏–∫–∞—Ü–∏–∏, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –æ–ø–∏—Å–∞–Ω–∏—è –∏ —Ç–µ–≥–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Å—É–±—Ç–∏—Ç—Ä–æ–≤ –∏ –∏—Ö —Ç–∏–ø–∞
- Fallback –Ω–∞ –±–∞–∑–æ–≤—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- API –∫–ª—é—á YouTube Data API v3 –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è `YOUTUBE_API_KEY`
- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ `google-api-python-client`

#### **3. File Utils (`utils/file_utils.py`)**

–£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∏–º–µ–Ω–∞–º–∏ —Ñ–∞–π–ª–æ–≤ –∏ –ø—É—Ç—è–º–∏.

**–§—É–Ω–∫—Ü–∏–∏:**
- `create_safe_filename()` - –æ—á–∏—Å—Ç–∫–∞ –Ω–∞–∑–≤–∞–Ω–∏–π –æ—Ç —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª–æ–≤
- `create_filename()` - —Å–æ–∑–¥–∞–Ω–∏–µ –∏–º–µ–Ω –≤ —Ñ–æ—Ä–º–∞—Ç–µ `{date}_{video_id}_{safe_title}.{ext}`
- `get_date_paths()` - —Å–æ–∑–¥–∞–Ω–∏–µ –ø—É—Ç–µ–π –ø–æ –¥–∞—Ç–∞–º `{year}/{month}/`

### **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö**

#### **–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤ –ø–æ –¥–∞—Ç–∞–º:**

```
data/
‚îú‚îÄ‚îÄ video_registry.json                 # –ì–ª–∞–≤–Ω—ã–π —Ä–µ–µ—Å—Ç—Ä
‚îú‚îÄ‚îÄ raw_subtitles/                      # –ò—Å—Ö–æ–¥–Ω—ã–µ —Å—É–±—Ç–∏—Ç—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ 2024/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 03/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 2024-03-15_HndVzdJuAz0_–ü—Ä–æ—Ü–µ—Å—Å_–∏—Å—Ü–µ–ª–µ–Ω–∏—è.json
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ 2024-03-20_WQnmT1vqFUs_–†–∞–±–æ—Ç–∞_—Å_–ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏.json
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ 04/
‚îÇ   ‚îî‚îÄ‚îÄ 2025/
‚îú‚îÄ‚îÄ sag_final/                          # SAG v2.0 —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ 2024/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 03/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 2024-03-15_HndVzdJuAz0.for_vector.json
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 2024-03-15_HndVzdJuAz0.for_review.md
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ 04/
‚îÇ   ‚îî‚îÄ‚îÄ 2025/
‚îî‚îÄ‚îÄ chromadb/                           # –í–µ–∫—Ç–æ—Ä–Ω–∞—è –ë–î
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –ø–æ –¥–∞—Ç–∞–º - –ª–µ–≥–∫–æ –Ω–∞–π—Ç–∏ –≤–∏–¥–µ–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞
- ‚úÖ –ß–∏—Ç–∞–µ–º—ã–µ –∏–º–µ–Ω–∞ - —Å—Ä–∞–∑—É –≤–∏–¥–Ω–æ, —á—Ç–æ —ç—Ç–æ –∑–∞ –≤–∏–¥–µ–æ
- ‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–µ —Ä–∞–∑–≤–∞–ª–∏—Ç—Å—è –Ω–∞ 1000+ –≤–∏–¥–µ–æ
- ‚úÖ –õ–µ–≥–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ - –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ –ø–∞–ø–∫–∞–º
- ‚úÖ –ë—ç–∫–∞–ø-—Ñ—Ä–µ–Ω–¥–ª–∏ - –ø–∞–ø–∫–∏ –ø–æ –¥–∞—Ç–∞–º —É–¥–æ–±–Ω–æ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å

### **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ Pipeline**

–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –≤ `pipeline_orchestrator.py`:

1. **–ü–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π:**
   - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ video_id –∏–∑ URL
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ (`registry.is_processed()`)
   - –ü–æ–ª—É—á–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ YouTube API
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ —Ä–µ–µ—Å—Ç—Ä (–µ—Å–ª–∏ –Ω–æ–≤–æ–µ)

2. **–í–æ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏:**
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –Ω–∞ `processing`
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ —Å –¥–∞—Ç–∞–º–∏ –∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏
   - –ó–∞–ø–∏—Å—å –ø—É—Ç–µ–π –∫ —Ñ–∞–π–ª–∞–º –≤ —Ä–µ–µ—Å—Ç—Ä

3. **–ü–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏:**
   - –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –æ–± –æ–±—Ä–∞–±–æ—Ç–∫–µ (ProcessingRecord)
   - –ü–æ–¥—Å—á–µ—Ç –º–µ—Ç—Ä–∏–∫ (–±–ª–æ–∫–∏, —Å—É—â–Ω–æ—Å—Ç–∏, –≤—Ä–µ–º—è, —Å—Ç–æ–∏–º–æ—Å—Ç—å)
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –Ω–∞ `processed` –∏–ª–∏ `failed`

### **CLI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ–µ—Å—Ç—Ä–æ–º**

#### **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:**

```powershell
pip install click google-api-python-client
```

#### **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

```powershell
# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ–µ—Å—Ç—Ä–∞
python scripts/manage_registry.py stats

# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –≤–∏–¥–µ–æ
python scripts/manage_registry.py info HndVzdJuAz0

# –°–ø–∏—Å–æ–∫ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –≤–∏–¥–µ–æ
python scripts/manage_registry.py pending

# –°–ø–∏—Å–æ–∫ –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö –≤–∏–¥–µ–æ
python scripts/manage_registry.py failed
```

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ `stats`:**
```
üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ–µ—Å—Ç—Ä–∞ –≤–∏–¥–µ–æ:
==================================================
–í—Å–µ–≥–æ –≤–∏–¥–µ–æ:      500
–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ:       3
–û—à–∏–±–æ–∫:           0
–í –æ—á–µ—Ä–µ–¥–∏:        497
–í—Å–µ–≥–æ –±–ª–æ–∫–æ–≤:     15
–í—Å–µ–≥–æ —Å—É—â–Ω–æ—Å—Ç–µ–π:  37
–ó–∞—Ç—Ä–∞—Ç—ã API:      $0.05
–°—Ä–µ–¥–Ω–∏–π –±–ª–æ–∫–æ–≤/–≤–∏–¥–µ–æ: 5.0
==================================================
```

### **–ú–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö**

–î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —É–∂–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –≤–∏–¥–µ–æ –≤ —Ä–µ–µ—Å—Ç—Ä:

```powershell
python scripts/migrate_existing_videos.py
```

–°–∫—Ä–∏–ø—Ç:
- –ù–∞—Ö–æ–¥–∏—Ç –≤—Å–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –≤–∏–¥–µ–æ –≤ `data/sag_final/`
- –ü–æ–ª—É—á–∞–µ—Ç –∏—Ö –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ YouTube API
- –î–æ–±–∞–≤–ª—è–µ—Ç –≤ —Ä–µ–µ—Å—Ç—Ä —Å –∏—Å—Ç–æ—Ä–∏–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º

### **–ù–∞—Å—Ç—Ä–æ–π–∫–∞**

#### **1. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env):**

```env
# –ö–ª—é—á –¥–ª—è YouTube Data API v3 (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –ø–æ–ª–Ω—ã—Ö –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö)
YOUTUBE_API_KEY=AIzaSyD7VKqPUiiJYI3XYy6nwYFwUcfZNblQU4w
```

**–ü–æ–ª—É—á–µ–Ω–∏–µ API –∫–ª—é—á–∞:**
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://console.cloud.google.com/apis/credentials
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
3. –í–∫–ª—é—á–∏—Ç–µ YouTube Data API v3
4. –°–æ–∑–¥–∞–π—Ç–µ API –∫–ª—é—á
5. –î–æ–±–∞–≤—å—Ç–µ –≤ `.env` —Ñ–∞–π–ª

#### **2. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (config.yaml):**

```yaml
pipeline:
  # –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É —Ä–µ–µ—Å—Ç—Ä–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  registry_path: "data/video_registry.json"  # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é
```

### **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã**

‚úÖ **–ó–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π  
‚úÖ **–ü–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è** - –∫–æ–≥–¥–∞ –∏ –∫–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª–æ—Å—å –∫–∞–∂–¥–æ–µ –≤–∏–¥–µ–æ  
‚úÖ **–ß–∏—Ç–∞–µ–º—ã–µ –∏–º–µ–Ω–∞** - —Å—Ä–∞–∑—É –ø–æ–Ω—è—Ç–Ω–æ, —á—Ç–æ –∑–∞ —Ñ–∞–π–ª  
‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–µ —Ä–∞–∑–≤–∞–ª–∏—Ç—Å—è –Ω–∞ 1000+ –≤–∏–¥–µ–æ  
‚úÖ **–õ–µ–≥–∫–∏–π –ø–æ–∏—Å–∫** - –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –ø–æ –¥–∞—Ç–∞–º  
‚úÖ **–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∑–∞—Ç—Ä–∞—Ç** - —Å–∫–æ–ª—å–∫–æ –ø–æ—Ç—Ä–∞—á–µ–Ω–æ –Ω–∞ API  
‚úÖ **–í–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏** - –≤–∏–¥–Ω–æ, —á—Ç–æ –æ—Å—Ç–∞–ª–æ—Å—å –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å  
‚úÖ **CLI —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** - —É–¥–æ–±–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞  

### **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**

- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ–∞–π–ª—ã –æ—Å—Ç–∞—é—Ç—Å—è –Ω–∞ –º–µ—Å—Ç–µ
- –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –ø–æ –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ —Å –¥–∞—Ç–∞–º–∏
- –°—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã –º–æ–∂–Ω–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ `migrate_existing_videos.py`
- –†–µ–µ—Å—Ç—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ

---

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### –°—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã
```
YouTube URL ‚Üí –°—É–±—Ç–∏—Ç—Ä—ã ‚Üí –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ –±–ª–æ–∫–∏ ‚Üí JSON –¥–ª—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –ë–î
     ‚Üì              ‚Üì                ‚Üì                    ‚Üì
1. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ    2. –ß–∏—Å—Ç–∫–∞      3. –°—Ç—Ä—É–∫—Ç—É—Ä–∞      4. –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
   —Å—É–±—Ç–∏—Ç—Ä–æ–≤       —Ç–µ–∫—Å—Ç–∞         + —Ç–∞–π–º–∫–æ–¥—ã        + ID + —Å—Å—ã–ª–∫–∏
```

### –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### 1. **Subtitle Extractor** (`subtitle_extractor/`)
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—É–±—Ç–∏—Ç—Ä–æ–≤ —Å YouTube
- **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è**: `youtube-transcript-api`
- **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã**:
  - –û–±—ã—á–Ω—ã–µ –≤–∏–¥–µ–æ: `youtube.com/watch?v=ID`
  - –ö–æ—Ä–æ—Ç–∫–∏–µ —Å—Å—ã–ª–∫–∏: `youtu.be/ID`
  - Live-—Ç—Ä–∞–Ω—Å–ª—è—Ü–∏–∏: `youtube.com/live/ID`
- **–í—ã—Ö–æ–¥–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã**: JSON (—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π), SRT (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π), TXT (—á–∏—Å—Ç—ã–π —Ç–µ–∫—Å—Ç)

#### 2. **Text Processor** (`text_processor/`)
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Å—É–±—Ç–∏—Ç—Ä–æ–≤ –≤ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ –±–ª–æ–∫–∏ —Å SAG v2.0
- **–î–æ—Å—Ç—É–ø–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä—ã**:
  - `sarsekenov_processor.py` ‚Äî **SAG v2.0 –¥–æ–º–µ–Ω–Ω—ã–π** (–Ω–µ–π—Ä–æ—Å—Ç–∞–ª–∫–∏–Ω–≥/–Ω–µ–æ—Å—Ç–∞–ª–∫–∏–Ω–≥)
  - `subtitles_to_blocks.py` ‚Äî —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π
- **–ò–ò-–º–æ–¥–µ–ª–∏**: OpenAI GPT (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ —á–µ—Ä–µ–∑ .env)
- **SAG v2.0 –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**:
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –±–ª–æ–∫–æ–≤
  - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –≥—Ä–∞—Ñ-—Å—É—â–Ω–æ—Å—Ç–µ–π
  - –ú–æ—Ä—Ñ–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
  - –£–º–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –ø–æ –∫–æ–ª–ª–µ–∫—Ü–∏—è–º
- **üÜï –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —ç–∫—Å—Ç—Ä–∞–∫—Ç–æ—Ä—ã** (5 –º–æ–¥—É–ª–µ–π):
  - `safety_extractor.py` ‚Äî –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–∫–∞–∑–∞–Ω–∏—è—Ö
  - `causal_chain_extractor.py` ‚Äî –ü—Ä–∏—á–∏–Ω–Ω–æ-—Å–ª–µ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ü–µ–ø–æ—á–∫–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
  - `concept_hierarchy_extractor.py` ‚Äî –ò–µ—Ä–∞—Ä—Ö–∏—è –∫–æ–Ω—Ü–µ–ø—Ç–æ–≤ (root/domain/practice/technique)
  - `case_study_extractor.py` ‚Äî –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–µ–π—Å—ã –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∞–∫—Ç–∏–∫
  - `prerequisite_extractor.py` ‚Äî –ü—Ä–µ–¥–ø–æ—Å—ã–ª–∫–∏ –∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–±—É—á–µ–Ω–∏—è
- **–ì–¥–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ —ç–∫—Å—Ç—Ä–∞–∫—Ç–æ—Ä–æ–≤**: –ü—Ä—è–º–æ –≤ –±–ª–æ–∫–∏ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ JSON (`data/sag_final/{year}/{month}/*.for_vector.json`)

#### 3. **Vector Database** (`vector_db/`)
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –ø–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–º –¥–∞–Ω–Ω—ã–º
- **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è**: ChromaDB + Sentence-Transformers
- **–ú–æ–¥–µ–ª—å —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤**: `intfloat/multilingual-e5-large` (1024 dim, –ª–æ–∫–∞–ª—å–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è)
- **–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**:
  - –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è (–¥–æ–∫—É–º–µ–Ω—Ç—ã, –±–ª–æ–∫–∏, –≥—Ä–∞—Ñ-—Å—É—â–Ω–æ—Å—Ç–∏)
  - –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –ø–æ —Å–º—ã—Å–ª—É
  - –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ –≤—Å–µ–º –∫–æ–ª–ª–µ–∫—Ü–∏—è–º
  - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**: –ù–µ—Ç –∑–∞—Ç—Ä–∞—Ç –Ω–∞ API, –Ω–µ—Ç rate limits, –ª–æ–∫–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞

#### 4. **Pipeline Orchestrator** (`pipeline_orchestrator.py`)
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –≤—Å–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞
- **–§—É–Ω–∫—Ü–∏–∏**: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫, –±–∞—Ç—á-—Ä–µ–∂–∏–º, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –≤ –≤–µ–∫—Ç–æ—Ä–Ω—É—é –ë–î
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: YAML-—Ñ–∞–π–ª —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏

### **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏**

```
YouTube URL
    ‚Üì
[Subtitle Extractor] ‚Üí –°—ã—Ä—ã–µ —Å—É–±—Ç–∏—Ç—Ä—ã (JSON/SRT/TXT)
    ‚Üì
[Text Processor + OpenAI GPT] ‚Üí –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –±–ª–æ–∫–∏ SAG v2.0 (JSON)
    ‚Üì
[üÜï –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —ç–∫—Å—Ç—Ä–∞–∫—Ç–æ—Ä—ã] ‚Üí –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (safety, causal chains, etc.)
    ‚îú‚îÄ‚îÄ Safety Extractor ‚Üí –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
    ‚îú‚îÄ‚îÄ Causal Chain Extractor ‚Üí –ü—Ä–∏—á–∏–Ω–Ω–æ-—Å–ª–µ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ü–µ–ø–æ—á–∫–∏
    ‚îú‚îÄ‚îÄ Concept Hierarchy Extractor ‚Üí –ò–µ—Ä–∞—Ä—Ö–∏—è –∫–æ–Ω—Ü–µ–ø—Ç–æ–≤
    ‚îú‚îÄ‚îÄ Case Study Extractor ‚Üí –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–µ–π—Å—ã
    ‚îî‚îÄ‚îÄ Prerequisite Extractor ‚Üí –ü—Ä–µ–¥–ø–æ—Å—ã–ª–∫–∏ –∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å
    ‚Üì
[Sentence-Transformers] ‚Üí –≠–º–±–µ–¥–¥–∏–Ω–≥–∏ (1024 dim, –ª–æ–∫–∞–ª—å–Ω–æ)
    ‚Üì
[ChromaDB] ‚Üí –í–µ–∫—Ç–æ—Ä–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (—Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫)
```

**–í–∞–∂–Ω–æ:** 
- **OpenAI API** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ä–∞–±–æ—Ç—ã —ç–∫—Å—Ç—Ä–∞–∫—Ç–æ—Ä–æ–≤ (–ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Å—ã—Ä–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JSON)
- **Sentence-Transformers** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (–ª–æ–∫–∞–ª—å–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤)
- **–î–∞–Ω–Ω—ã–µ —ç–∫—Å—Ç—Ä–∞–∫—Ç–æ—Ä–æ–≤** —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø—Ä—è–º–æ –≤ –±–ª–æ–∫–∏ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ JSON —Ñ–∞–π–ª–∞

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
voice_bot_pipeline/
‚îú‚îÄ‚îÄ üìÅ subtitle_extractor/      # –ú–æ–¥—É–ª—å –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Å—É–±—Ç–∏—Ç—Ä–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ üêç get_subtitles.py     # –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç –∑–∞–≥—Ä—É–∑–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ README.md            # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –º–æ–¥—É–ª—è
‚îÇ   ‚îú‚îÄ‚îÄ üì¶ requirements.txt     # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–æ–¥—É–ª—è
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ scripts/             # –°–∫—Ä–∏–ø—Ç—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚îÇ       ‚îî‚îÄ‚îÄ üîß setup_subtitles.ps1
‚îÇ
‚îú‚îÄ‚îÄ üìÅ text_processor/          # –ú–æ–¥—É–ª—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–µ–∫—Å—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ üêç sarsekenov_processor.py    # –î–æ–º–µ–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä (–°–∞—Ä—Å–µ–∫–µ–Ω–æ–≤)
‚îÇ   ‚îú‚îÄ‚îÄ üêç subtitles_to_blocks.py     # –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ üêç transcript_to_json_md.py   # Legacy –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ üêç safety_extractor.py        # üÜï –≠–∫—Å—Ç—Ä–∞–∫—Ç–æ—Ä –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ üêç causal_chain_extractor.py  # üÜï –≠–∫—Å—Ç—Ä–∞–∫—Ç–æ—Ä –ø—Ä–∏—á–∏–Ω–Ω–æ-—Å–ª–µ–¥—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ü–µ–ø–æ—á–µ–∫
‚îÇ   ‚îú‚îÄ‚îÄ üêç concept_hierarchy_extractor.py # üÜï –≠–∫—Å—Ç—Ä–∞–∫—Ç–æ—Ä –∏–µ—Ä–∞—Ä—Ö–∏–∏ –∫–æ–Ω—Ü–µ–ø—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ üêç case_study_extractor.py    # üÜï –≠–∫—Å—Ç—Ä–∞–∫—Ç–æ—Ä –∫–µ–π—Å–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ üêç prerequisite_extractor.py  # üÜï –≠–∫—Å—Ç—Ä–∞–∫—Ç–æ—Ä –ø—Ä–µ–¥–ø–æ—Å—ã–ª–æ–∫
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ scripts/             # –°–∫—Ä–∏–ø—Ç—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚îÇ       ‚îî‚îÄ‚îÄ üîß setup_tp.ps1
‚îÇ
‚îú‚îÄ‚îÄ üìÅ data/                    # –î–∞–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ video_registry.json  # üÜï –†–µ–µ—Å—Ç—Ä –≤—Å–µ—Ö –≤–∏–¥–µ–æ
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ raw_subtitles/       # –°—ã—Ä—ã–µ —Å—É–±—Ç–∏—Ç—Ä—ã –∏ –ª–æ–≥–∏ –ø–∞–π–ø–ª–∞–π–Ω–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ {year}/{month}/  # üÜï –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –ø–æ –¥–∞—Ç–∞–º
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ {date}_{video_id}_{title}.json
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ {date}_{video_id}_{title}.srt
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ {date}_{video_id}_{title}.txt
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ batch_pipeline_results_*.json # –õ–æ–≥–∏ –ø–∞–∫–µ—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ sag_final/           # –§–∏–Ω–∞–ª—å–Ω—ã–µ SAG v2.0 –¥–∞–Ω–Ω—ã–µ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ {year}/{month}/  # üÜï –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –ø–æ –¥–∞—Ç–∞–º
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ {date}_{video_id}_{title}.for_vector.json
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ {date}_{video_id}_{title}.for_review.md
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ chromadb/            # –í–µ–∫—Ç–æ—Ä–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö ChromaDB
‚îÇ
‚îú‚îÄ‚îÄ üìÅ scripts/                 # –°–∫—Ä–∏–ø—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ üîß setup_all.ps1        # –ü–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ üîß run_full_pipeline.ps1 # –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫
‚îÇ   ‚îú‚îÄ‚îÄ üêç manage_registry.py   # üÜï CLI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ–µ—Å—Ç—Ä–æ–º
‚îÇ   ‚îî‚îÄ‚îÄ üêç migrate_existing_videos.py # üÜï –ú–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ üìÅ utils/                   # üÜï –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∏–¥–µ–æ
‚îÇ   ‚îú‚îÄ‚îÄ üêç video_registry.py    # üÜï –†–µ–µ—Å—Ç—Ä –≤–∏–¥–µ–æ
‚îÇ   ‚îú‚îÄ‚îÄ üêç youtube_metadata_fetcher.py # üÜï –ü–æ–ª—É—á–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ üêç file_utils.py        # üÜï –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ñ–∞–π–ª–æ–≤
‚îÇ
‚îú‚îÄ‚îÄ ‚öôÔ∏è config.yaml              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–∞–π–ø–ª–∞–π–Ω–∞
‚îú‚îÄ‚îÄ üêç pipeline_orchestrator.py # –ì–ª–∞–≤–Ω—ã–π –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä (üÜï –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Ä–µ–µ—Å—Ç—Ä)
‚îú‚îÄ‚îÄ üêç env_utils.py             # –£—Ç–∏–ª–∏—Ç—ã –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ üì¶ requirements.txt         # –û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (üÜï –¥–æ–±–∞–≤–ª–µ–Ω—ã click, google-api-python-client)
‚îú‚îÄ‚îÄ üìÑ urls.txt                 # –°–ø–∏—Å–æ–∫ URL –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
‚îú‚îÄ‚îÄ üîê .env                     # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (üÜï –¥–æ–±–∞–≤–ª–µ–Ω YOUTUBE_API_KEY)
‚îî‚îÄ‚îÄ üìñ README.md               # –≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### üÜï **–ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ SAG v2.0:**
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è**: –¢–∏–ø—ã –±–ª–æ–∫–æ–≤, —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–æ–Ω–∞, —Å–ª–æ–∂–Ω–æ—Å—Ç—å
- **–ì—Ä–∞—Ñ-—Å—É—â–Ω–æ—Å—Ç–∏**: –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∏ –∞–≥—Ä–µ–≥–∞—Ü–∏—è –¥–ª—è –≥—Ä–∞—Ñ–æ–≤ –∑–Ω–∞–Ω–∏–π
- **–ú–æ—Ä—Ñ–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞**: –†—É—Å—Å–∫–∏–π —è–∑—ã–∫ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –≥—Ä–∞–º–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ñ–æ—Ä–º–∞–º–∏
- **–£–º–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è**: –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ –∫–æ–ª–ª–µ–∫—Ü–∏—è–º —Å –º–µ—Ç—Ä–∏–∫–æ–π —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```powershell
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
.\scripts\setup_all.ps1
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç:**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ Python 3.8+
- –°–æ–∑–¥–∞–µ—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ `.venv`
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –°–æ–∑–¥–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞–ø–∫–∏
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å FFmpeg (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API –∫–ª—é—á–µ–π –∏ –º–æ–¥–µ–ª–µ–π

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
# ========================================
# –û–°–ù–û–í–ù–´–ï –ù–ê–°–¢–†–û–ô–ö–ò
# ========================================

# –ö–ª—é—á OpenAI API (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏)
# –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ text_processor/ –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Å—ã—Ä–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –≤ JSON
OPENAI_API_KEY=sk-proj-–≤–∞—à_–∫–ª—é—á_–∑–¥–µ—Å—å

# üÜï –ö–ª—é—á –¥–ª—è YouTube Data API v3 (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –¥–ª—è –ø–æ–ª–Ω—ã—Ö –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö)
# –ü–æ–ª—É—á–∏—Ç—å –Ω–∞: https://console.cloud.google.com/apis/credentials
YOUTUBE_API_KEY=AIzaSyD7VKqPUiiJYI3XYy6nwYFwUcfZNblQU4w

# ========================================
# –ú–û–î–ï–õ–ò –î–õ–Ø –û–ë–†–ê–ë–û–¢–ö–ò –¢–ï–ö–°–¢–ê (OpenAI)
# ========================================

# –û—Å–Ω–æ–≤–Ω–∞—è –º–æ–¥–µ–ª—å –¥–ª—è —Ä–∞–∑–±–∏–≤–∫–∏ –Ω–∞ –±–ª–æ–∫–∏
# –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: gpt-4o-mini (–±—ã—Å—Ç—Ä–æ + –¥–µ—à–µ–≤–æ)
PRIMARY_MODEL=gpt-4o-mini

# ========================================
# –ú–û–î–ï–õ–ò –î–õ–Ø –≠–ú–ë–ï–î–î–ò–ù–ì–û–í (Sentence-Transformers)
# ========================================

# –ü—Ä–æ–≤–∞–π–¥–µ—Ä —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
MODEL_EMBEDDING=sentence-transformers

# –ú–æ–¥–µ–ª—å Sentence-Transformers –¥–ª—è –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
# –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: intfloat/multilingual-e5-large (–ª—É—á—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞)
SENTENCE_TRANSFORMERS_MODEL=intfloat/multilingual-e5-large

# –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ (cuda/cpu/mps –∏–ª–∏ –ø—É—Å—Ç–æ –¥–ª—è –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è)
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç GPU –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω, –∏–Ω–∞—á–µ CPU
# SENTENCE_TRANSFORMERS_DEVICE=cuda  # –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –¥–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è GPU

# –ú–æ–¥–µ–ª—å –¥–ª—è –ø–æ–ª–∏—Ä–æ–≤–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
# –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: gpt-5-mini (–¥–µ—à–µ–≤–ª–µ —á–µ–º gpt-4)
# –û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –¥–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è
REFINE_MODEL=gpt-5-mini

# –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ –∫ OpenAI API (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö)
# –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: 1.0 —Å–µ–∫—É–Ω–¥–∞
# –£–≤–µ–ª–∏—á—å—Ç–µ –¥–æ 2.0-3.0 –ø—Ä–∏ —á–∞—Å—Ç—ã—Ö –æ—à–∏–±–∫–∞—Ö 429 (Too Many Requests)
OPENAI_API_DELAY=1.0

# ========================================
# –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –ù–ê–°–¢–†–û–ô–ö–ò (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
# ========================================

# –î–ª—è Neo4j (–µ—Å–ª–∏ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –≥—Ä–∞—Ñ-–ë–î)
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=password

# Google Cloud (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
GOOGLE_CLOUD_PROJECT=your-project-id
```

### –®–∞–≥ 3: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ URL

–î–æ–±–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫–∏ –≤ —Ñ–∞–π–ª `urls.txt` (–ø–æ –æ–¥–Ω–æ–π –Ω–∞ —Å—Ç—Ä–æ–∫—É):

```text
https://youtu.be/R39dqh5wA9U
https://youtube.com/watch?v=VIDEO_ID_2
https://youtube.com/live/LIVE_ID_3
```

### –®–∞–≥ 4: –ó–∞–ø—É—Å–∫

```powershell
# –ê–∫—Ç–∏–≤–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è
.\.venv\Scripts\Activate.ps1

# üÜï SAG v2.0 –ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–≥–æ –ø–∞–π–ø–ª–∞–π–Ω–∞
python pipeline_orchestrator.py --config config.yaml

# üÜï SAG v2.0 –ü—Ä—è–º–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å –¥–æ–º–µ–Ω–Ω—ã–º –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–º
python -m text_processor.sarsekenov_processor --input data/subtitles/VIDEO_ID.json --output data/sag_final --primary-model gpt-4o-mini --refine-model gpt-5-mini
```

**üéØ –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. –ß–∏—Ç–∞–µ—Ç URL –∏–∑ `urls.txt`
2. üÜï **–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–µ–µ—Å—Ç—Ä –Ω–∞ –¥—É–±–ª–∏–∫–∞—Ç—ã** - –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç —É–∂–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ
3. üÜï **–ü–æ–ª—É—á–∞–µ—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ YouTube API** - –Ω–∞–∑–≤–∞–Ω–∏–µ, –∫–∞–Ω–∞–ª, –¥–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
4. –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Å—É–±—Ç–∏—Ç—Ä—ã —Å YouTube
5. üÜï **–°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ñ–∞–π–ª—ã —Å –¥–∞—Ç–∞–º–∏ –∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏** - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ `{year}/{month}/`
6. üÜï **SAG v2.0 –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —á–µ—Ä–µ–∑ –¥–æ–º–µ–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä**:
   - –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø–æ–ª–Ω–∞—è –≥—Ä–∞—Ñ-–∫–æ–ª–ª–µ–∫—Ü–∏—è (442 —É–∑–ª–∞ + 259 –æ—Ç–Ω–æ—à–µ–Ω–∏–π)
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –±–ª–æ–∫–æ–≤
   - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–æ 30 –≥—Ä–∞—Ñ-—Å—É—â–Ω–æ—Å—Ç–µ–π —Å –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏–µ–π
   - –ê–Ω–∞–ª–∏–∑ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏—Ö —Å–≤—è–∑–µ–π –º–µ–∂–¥—É –∫–æ–Ω—Ü–µ–ø—Ç–∞–º–∏
   - –ú–æ—Ä—Ñ–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
   - –£–º–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –ø–æ –∫–æ–ª–ª–µ–∫—Ü–∏—è–º
7. üÜï **SAG v2.0 –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ `data/sag_final/{year}/{month}/`**:
   - JSON —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ (—Å—Ö–µ–º–∞ v2.0)
   - –ì—Ä–∞—Ñ-—Å—É—â–Ω–æ—Å—Ç–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞
   - –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ —Å–≤—è–∑–∏ –º–µ–∂–¥—É –∫–æ–Ω—Ü–µ–ø—Ç–∞–º–∏
   - Overview —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –¥–ª–∏–Ω—ã (200+ —Å–∏–º–≤–æ–ª–æ–≤)
   - –ú–æ—Ä—Ñ–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è
8. üÜï **–ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –≤ —Ä–µ–µ—Å—Ç—Ä** - –∏—Å—Ç–æ—Ä–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏, –º–µ—Ç—Ä–∏–∫–∏, –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º

---

## ‚öôÔ∏è –î–µ—Ç–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è `config.yaml`

```yaml
# ========================================
# –ù–ê–°–¢–†–û–ô–ö–ò –õ–û–ì–ò–†–û–í–ê–ù–ò–Ø
# ========================================
logging:
  level: "INFO"          # DEBUG, INFO, WARNING, ERROR
  log_file: "pipeline.log"

# ========================================
# –ù–ê–°–¢–†–û–ô–ö–ò –ü–ê–ô–ü–õ–ê–ô–ù–ê
# ========================================
pipeline:
  # üÜï SAG v2.0 –ù–∞—Å—Ç—Ä–æ–π–∫–∏
  schema_version: "2.0"
  processing_version: "v2.1"
  
  # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Å—É–±—Ç–∏—Ç—Ä–æ–≤
  subtitles:
    output_dir: "data/raw_subtitles"
    language: "ru"         # –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ–º—ã–π —è–∑—ã–∫
    
  # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–µ–∫—Å—Ç–∞ (SAG v2.0)
  text_processing:
    output_dir: "data/sag_final"
    
  # –ü–∞–ø–∫–∞ –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
  results_dir: "data/sag_final"
```

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env) - –ø–æ–¥—Ä–æ–±–Ω–æ

```env
# ========================================
# –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï –ù–ê–°–¢–†–û–ô–ö–ò
# ========================================

# OpenAI API –∫–ª—é—á - –ø–æ–ª—É—á–∏—Ç—å –Ω–∞ https://platform.openai.com/
OPENAI_API_KEY=sk-proj-...

# ========================================
# –ú–û–î–ï–õ–ò (–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏/—Å—Ç–æ–∏–º–æ—Å—Ç–∏)
# ========================================

# –û—Å–Ω–æ–≤–Ω–∞—è –º–æ–¥–µ–ª—å –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞
# –í–∞—Ä–∏–∞–Ω—Ç—ã:
# - gpt-4o-mini: –±—ã—Å—Ç—Ä–æ, –¥–µ—à–µ–≤–æ, —Ö–æ—Ä–æ—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)
# - gpt-4o: –º–µ–¥–ª–µ–Ω–Ω–æ, –¥–æ—Ä–æ–≥–æ, –æ—Ç–ª–∏—á–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
# - gpt-4-turbo: –∫–æ–º–ø—Ä–æ–º–∏—Å—Å —Å–∫–æ—Ä–æ—Å—Ç—å/–∫–∞—á–µ—Å—Ç–≤–æ
PRIMARY_MODEL=gpt-4o-mini

# –ú–æ–¥–µ–ª—å –¥–ª—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –ø–æ–ª–∏—Ä–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
# –í–∞—Ä–∏–∞–Ω—Ç—ã:
# - gpt-5-mini: –¥–µ—à–µ–≤–æ, —Ö–æ—Ä–æ—à–æ –¥–ª—è –ø–æ–ª–∏—Ä–æ–≤–∫–∏ (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)
# - gpt-4: –¥–æ—Ä–æ–≥–æ, –æ—Ç–ª–∏—á–Ω–æ –¥–ª—è –ø–æ–ª–∏—Ä–æ–≤–∫–∏
# - "" (–ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞): –æ—Ç–∫–ª—é—á–∏—Ç—å –ø–æ–ª–∏—Ä–æ–≤–∫—É
REFINE_MODEL=gpt-5-mini

# –ú–æ–¥–µ–ª—å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ (–≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)
# –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Sentence-Transformers –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
# –í–∞—Ä–∏–∞–Ω—Ç—ã:
# - intfloat/multilingual-e5-large: –ª—É—á—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞, 1024 dim (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)
# - paraphrase-multilingual-mpnet-base-v2: –±–∞–ª–∞–Ω—Å —Å–∫–æ—Ä–æ—Å—Ç–∏/–∫–∞—á–µ—Å—Ç–≤–∞, 768 dim
# - paraphrase-multilingual-MiniLM-L12-v2: –±—ã—Å—Ç—Ä–∞—è –º–æ–¥–µ–ª—å, 384 dim
MODEL_EMBEDDING=sentence-transformers
SENTENCE_TRANSFORMERS_MODEL=intfloat/multilingual-e5-large

# –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –¥–ª—è Sentence-Transformers (cuda/cpu/mps –∏–ª–∏ –ø—É—Å—Ç–æ –¥–ª—è –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è)
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç GPU –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω, –∏–Ω–∞—á–µ CPU
# SENTENCE_TRANSFORMERS_DEVICE=cuda  # –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –¥–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è GPU

# ========================================
# –ü–†–û–î–í–ò–ù–£–¢–´–ï –ù–ê–°–¢–†–û–ô–ö–ò (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
# ========================================

# –ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã (–µ—Å–ª–∏ –Ω—É–∂–Ω–∞ —Ç–æ–Ω–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞)
MAIN_PROMPT="""–¢—ã ‚Äî —Ä–µ–¥–∞–∫—Ç–æ—Ä –ª–µ–∫—Ü–∏–π. –†–∞–∑–±–µ–π —Ç–µ–∫—Å—Ç –Ω–∞ –∫—Ä—É–ø–Ω—ã–µ —Å–º—ã—Å–ª–æ–≤—ã–µ –±–ª–æ–∫–∏..."""
REFINE_PROMPT="""–£–ª—É—á—à–∏ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∏ –æ–ø–∏—Å–∞–Ω–∏—è –±–ª–æ–∫–æ–≤..."""
FALLBACK_PROMPT="""–ë–ª–æ–∫ —Å–æ–∑–¥–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑-–∑–∞ –æ—à–∏–±–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏."""

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –≥—Ä–∞—Ñ-–ë–î Neo4j
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=your_password

# Google Cloud (–¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤)
GOOGLE_CLOUD_PROJECT=your-project-id
```

---

## üß© –î–æ–º–µ–Ω–Ω—ã–µ —Ä–µ–∂–∏–º—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏

### –ß—Ç–æ —Ç–∞–∫–æ–µ –¥–æ–º–µ–Ω?

**–î–æ–º–µ–Ω** ‚Äî —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–µ–∫—Å—Ç–∞, –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Ç–µ–º–∞—Ç–∏–∫—É –∏–ª–∏ –∞–≤—Ç–æ—Ä–∞.

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –¥–æ–º–µ–Ω—ã

#### 1. **sarsekenov** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) - **SAG v2.0 READY**
- **–ê–≤—Ç–æ—Ä**: –°–∞–ª–∞–º–∞—Ç –°–∞—Ä—Å–µ–∫–µ–Ω–æ–≤
- **–¢–µ–º–∞—Ç–∏–∫–∞**: –ù–µ–π—Ä–æ—Å—Ç–∞–ª–∫–∏–Ω–≥, –Ω–µ–æ—Å—Ç–∞–ª–∫–∏–Ω–≥
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
  - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∞–≤—Ç–æ—Ä—Å–∫—É—é —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—é
  - –ü—Ä–∞–≤–∏–ª—å–Ω–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä—É–µ—Ç –ø—Ä–∞–∫—Ç–∏–∫–∏ –∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è
  - –í—ã–¥–µ–ª—è–µ—Ç –≤–æ–ø—Ä–æ—Å—ã –∏–∑ –∑–∞–ª–∞ –∏ —Ä–∞–∑–±–æ—Ä—ã
  - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å—Ç–∏–ª—å —Ä–µ—á–∏ –∞–≤—Ç–æ—Ä–∞
- **üÜï SAG v2.0 –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**:
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –±–ª–æ–∫–æ–≤ (monologue/dialogue/practice)
  - –≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–æ–Ω–∞ (contemplative/explanatory/intense/light)
  - –ö–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω–∞—è –≥–ª—É–±–∏–Ω–∞ –∏ —Å–ª–æ–∂–Ω–æ—Å—Ç—å
  - –ì—Ä–∞—Ñ-—Å—É—â–Ω–æ—Å—Ç–∏ —Å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–µ–π
  - –ú–æ—Ä—Ñ–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
  - –£–º–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –ø–æ –∫–æ–ª–ª–µ–∫—Ü–∏—è–º

**–ö–ª—é—á–µ–≤—ã–µ —Ç–µ—Ä–º–∏–Ω—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è:**
- –Ω–µ–π—Ä–æ—Å—Ç–∞–ª–∫–∏–Ω–≥, –Ω–µ–æ—Å—Ç–∞–ª–∫–∏–Ω–≥
- –ø–æ–ª–µ –≤–Ω–∏–º–∞–Ω–∏—è, –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ –∑–∞ —É–º–æ–º
- –º–µ—Ç–∞–Ω–∞–±–ª—é–¥–µ–Ω–∏–µ, –æ—Å–æ–∑–Ω–∞–≤–∞–Ω–∏–µ
- –ø–∞—Ç—Ç–µ—Ä–Ω—ã, —Ç—Ä–∏–≥–≥–µ—Ä—ã, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–º—ã
- –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–∂–∏–≤–∞–Ω–∏–π
- –ø—Ä–∞–∫—Ç–∏–∫–∞, —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ, —Ä–∞–∑–±–æ—Ä

#### 2. **generic**
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
- **–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è**: –õ—é–±–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç –±–µ–∑ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–æ–π —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏–∏
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è –±–µ–∑ –¥–æ–º–µ–Ω–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª

### –í—ã–±–æ—Ä –¥–æ–º–µ–Ω–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ

```powershell
# üÜï SAG v2.0 –î–æ–º–µ–Ω–Ω—ã–π —Ä–µ–∂–∏–º (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
python pipeline_orchestrator.py --config config.yaml --domain sarsekenov

# üÜï SAG v2.0 –ü—Ä—è–º–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å –¥–æ–º–µ–Ω–Ω—ã–º –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–º
python -m text_processor.sarsekenov_processor --input data/subtitles/VIDEO_ID.json --output data/sag_final --primary-model gpt-4o-mini --refine-model gpt-5-mini

# –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º (–±–∞–∑–æ–≤–∞—è —Å—Ö–µ–º–∞ v1.0)
python pipeline_orchestrator.py --config config.yaml --domain generic
```

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫–æ–π –¥–æ–º–µ–Ω

| –¢–∏–ø –∫–æ–Ω—Ç–µ–Ω—Ç–∞ | –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –¥–æ–º–µ–Ω | –ü—Ä–∏—á–∏–Ω–∞ |
|--------------|--------------------|---------| 
| –õ–µ–∫—Ü–∏–∏ –°–∞—Ä—Å–µ–∫–µ–Ω–æ–≤–∞ | `sarsekenov` | üÜï **SAG v2.0 + –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏–∏** |
| –ü—Å–∏—Ö–æ–ª–æ–≥–∏—è, –º–µ–¥–∏—Ç–∞—Ü–∏—è | `sarsekenov` | üÜï **SAG v2.0 + –ü–æ—Ö–æ–∂–∏–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏** |
| –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ª–µ–∫—Ü–∏–∏ | `generic` | –ë–∞–∑–æ–≤–∞—è —Å—Ö–µ–º–∞ v1.0 |
| –ù–æ–≤–æ—Å—Ç–∏, –∏–Ω—Ç–µ—Ä–≤—å—é | `generic` | –ë–∞–∑–æ–≤–∞—è —Å—Ö–µ–º–∞ v1.0 |
| –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç | `generic` | –ë–∞–∑–æ–≤–∞—è —Å—Ö–µ–º–∞ v1.0 |

**üÜï SAG v2.0 –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –¥–æ–º–µ–Ω–∞ `sarsekenov`:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –±–ª–æ–∫–æ–≤
- –ì—Ä–∞—Ñ-—Å—É—â–Ω–æ—Å—Ç–∏ —Å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–µ–π
- –ú–æ—Ä—Ñ–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
- –£–º–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –ø–æ –∫–æ–ª–ª–µ–∫—Ü–∏—è–º
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –¥–ª—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ë–î

---

## üìä –§–æ—Ä–º–∞—Ç –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ JSON —Ñ–∞–π–ª–∞ (–¥–ª—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –ë–î)

#### **–°—Ö–µ–º–∞ v1.0 (–±–∞–∑–æ–≤–∞—è)**
```json
{
  "document_title": "–õ–µ–∫—Ü–∏—è –°–∞—Ä—Å–µ–∫–µ–Ω–æ–≤–∞: Rxoj94WQpsQ",
  "document_summary": "–ö–æ–Ω—Å–ø–µ–∫—Ç –ª–µ–∫—Ü–∏–∏, —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ —Ç–µ–º–∞–º –Ω–µ–π—Ä–æ—Å—Ç–∞–ª–∫–∏–Ω–≥–∞/–Ω–µ–æ—Å—Ç–∞–ª–∫–∏–Ω–≥–∞.",
  
  "document_metadata": {
    "total_blocks": 8,
    "language": "ru",
    "domain": "sarsekenov_neurostalking",
    "video_id": "Rxoj94WQpsQ",
    "source_url": "https://youtube.com/watch?v=Rxoj94WQpsQ",
    "schema_version": "1.0"
  },
```

#### **üÜï –°—Ö–µ–º–∞ v2.0 (SAG - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è)**
```json
{
  "document_title": "–õ–µ–∫—Ü–∏—è –°–∞—Ä—Å–µ–∫–µ–Ω–æ–≤–∞: Rxoj94WQpsQ",
  "document_summary": "–ö–æ–Ω—Å–ø–µ–∫—Ç –ª–µ–∫—Ü–∏–∏, —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ —Ç–µ–º–∞–º –Ω–µ–π—Ä–æ—Å—Ç–∞–ª–∫–∏–Ω–≥–∞/–Ω–µ–æ—Å—Ç–∞–ª–∫–∏–Ω–≥–∞.",
  
  "document_metadata": {
    "total_blocks": 6,
    "language": "ru",
    "domain": "sarsekenov_neurostalking",
    "video_id": "Rxoj94WQpsQ",
    "source_url": "https://youtube.com/watch?v=Rxoj94WQpsQ",
    "schema_version": "2.0",
    
    "lecture_type": "seminar",
    "has_dialogue": true,
    "main_topics": ["–∏—Å—Ü–µ–ª–µ–Ω–∏–µ", "–æ—Å–æ–∑–Ω–∞–≤–∞–Ω–∏–µ", "–±–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å"],
    "difficulty_level": "intermediate",
    "collection_target": "dialogue_sessions",
    "routing_confidence": 0.7,
    "transcript_confidence": 0.85,
    "duration_minutes": 16,
    "processing_version": "v2.1"
  },
  
  "graph_entities": [
    ["–≤–æ—Å–ø—Ä–∏—è—Ç–∏–µ", 3],
    ["–æ—Å–æ–∑–Ω–∞–≤–∞–Ω–∏–µ", 2],
    ["–ø–∞—Ç—Ç–µ—Ä–Ω—ã", 2],
    ["–∞–±—Å–æ–ª—é—Ç", 2],
    ["–±–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å", 1]
  ],
  
  "overview_toc": "–ò—Å—Ü–µ–ª–µ–Ω–∏–µ –∏ —Å–∞–º–æ–ø–æ–∑–Ω–∞–Ω–∏–µ ‚Ä¢ –ü—Ä–∏—Ä–æ–¥–∞ —É–º–∞ –∏ –æ—Å–æ–∑–Ω–∞–≤–∞–Ω–∏–µ ‚Ä¢ –ü—Ä–µ–æ–¥–æ–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –æ–ø—ã—Ç",
  "overview_summary": "–õ–µ–∫—Ü–∏—è –æ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –∏—Å—Ü–µ–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ —Å–∞–º–æ–ø–æ–∑–Ω–∞–Ω–∏–µ, —Ä–∞–±–æ—Ç—É —Å —É–º–æ–º –∏ –≤–∞–∂–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –æ–ø—ã—Ç–∞ –¥–ª—è –æ–±—Ä–µ—Ç–µ–Ω–∏—è –º—É–¥—Ä–æ—Å—Ç–∏.",
  
  "blocks": [
    {
      "block_id": "Rxoj94WQpsQ_001",
      "video_id": "Rxoj94WQpsQ", 
      "start": "00:00:00",
      "end": "00:08:45",
      "source_url": "https://youtube.com/watch?v=Rxoj94WQpsQ",
      "youtube_link": "https://youtube.com/watch?v=Rxoj94WQpsQ&t=0s",
      
      "title": "–ü—Ä–æ—Ü–µ—Å—Å –∏—Å—Ü–µ–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ —Å–∞–º–æ–ø–æ–∑–Ω–∞–Ω–∏–µ –±–µ–∑ –≥–µ—Ä–æ–∏–∑–º–∞",
      "summary": "–û–±—Å—É–∂–¥–∞–µ—Ç—Å—è –≤–∞–∂–Ω–æ—Å—Ç—å –ø–æ–¥–ª–∏–Ω–Ω–æ–≥–æ –∏—Å—Ü–µ–ª–µ–Ω–∏—è –±–µ–∑ –ø–æ–∑–µ—Ä—Å—Ç–≤–∞ –∏ –≥–µ—Ä–æ–∏–∑–º–∞. –ü–æ–¥—á–µ—Ä–∫–∏–≤–∞–µ—Ç—Å—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –∂–∏–≤–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –ª—é–¥—å–º–∏ –Ω–∞ –∏—Ö —É—Ä–æ–≤–Ω–µ –ø–æ–Ω–∏–º–∞–Ω–∏—è.",
      "keywords": ["–∏—Å—Ü–µ–ª–µ–Ω–∏–µ", "—Å–∞–º–æ–ø–æ–∑–Ω–∞–Ω–∏–µ", "–≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ", "–æ—Å–æ–∑–Ω–∞–≤–∞–Ω–∏–µ"],
      
      "content": "–ü—Ä—è–º–æ —Å–µ–π—á–∞—Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –º–æ–º–µ–Ω—Ç –∏—Å—Ü–µ–ª–µ–Ω–∏—è, –Ω–æ –±–µ–∑ —Ç–æ–≥–æ —è, –ø–æ–∑—ë—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π —Å–∫–∞–∑–∞–ª: \"–û—Ö, –∫–∞–∫ —è –ø—Ä–æ—Å—Ç–∏–ª!\" –ü–æ–Ω–∏–º–∞–µ—Ç–µ, –∫–∞–∫ —ç—Ç–æ —Ç—è–∂–µ–ª–æ –≤ —Å–µ–±–µ –¥–µ—Ä–∂–∞—Ç—å —Ç–æ–≥–æ, –∫—Ç–æ —è–∫–æ–±—ã –∫–æ–≥–æ-—Ç–æ –ø—Ä–æ—Å—Ç–∏–ª, —è–∫–æ–±—ã –∫–æ–≥–æ-—Ç–æ –ø–æ–ª—é–±–∏–ª... [–ü–û–õ–ù–´–ô –¢–ï–ö–°–¢ –ë–õ–û–ö–ê 300-500+ –°–õ–û–í]"
    }
  ],
  
  "full_text": "–ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –≤—Å–µ—Ö —Å—É–±—Ç–∏—Ç—Ä–æ–≤ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π..."
}
```

#### **üÜï –ù–æ–≤—ã–µ –ø–æ–ª—è SAG v2.0 –≤ –±–ª–æ–∫–∞—Ö:**
```json
{
  "speaker": "sarsekenov",
  "block_type": "monologue",
  "emotional_tone": "contemplative",
  "conceptual_depth": "high",
  "complexity_score": 8.0,
  "graph_entities": ["–±–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å", "–æ—Å–æ–∑–Ω–∞–≤–∞–Ω–∏–µ", "–∏—Å—Ü–µ–ª–µ–Ω–∏–µ"],
  "semantic_relationships": {
    "conceptual_links": [
      {
        "source": "–±–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å",
        "target": "–æ—Å–æ–∑–Ω–∞–≤–∞–Ω–∏–µ",
        "type": "conceptual",
        "strength": 0.85
      }
    ],
    "causal_links": [],
    "practical_links": []
  },
  "contains_practice": false,
  "dialogue_turn": null,
  "question_type": null,
  "answer_completeness": null,
  "interaction_quality": null,
  "key_insights": 3,
  "transformation_stage": "beginning",
  "transcript_edited": true,
  
  // üÜï –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —ç–∫—Å—Ç—Ä–∞–∫—Ç–æ—Ä–æ–≤ (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω—ã):
  
  "safety": {
    "contraindications": [
      {
        "condition": "–æ—Å—Ç—Ä—ã–π –ø—Å–∏—Ö–æ–∑",
        "reason": "–º–æ–∂–µ—Ç —É—Å–∏–ª–∏—Ç—å —Å–∏–º–ø—Ç–æ–º—ã"
      }
    ],
    "limitations": [],
    "when_to_stop": [],
    "when_to_seek_professional_help": [],
    "notes": []
  },
  
  "causal_chains": [
    {
      "name": "–ø—Ä–æ—Ü–µ—Å—Å –∏—Å—Ü–µ–ª–µ–Ω–∏—è",
      "steps": [
        {"step": 1, "event": "–æ—Å–æ–∑–Ω–∞–≤–∞–Ω–∏–µ", "description": "..."},
        {"step": 2, "event": "–ø—Ä–∏–Ω—è—Ç–∏–µ", "description": "..."}
      ],
      "intervention_points": [
        {
          "after_step": 1,
          "practice": "–º–µ—Ç–∞–Ω–∞–±–ª—é–¥–µ–Ω–∏–µ",
          "effect": "—É—Å–∏–ª–µ–Ω–∏–µ –æ—Å–æ–∑–Ω–∞–≤–∞–Ω–∏—è",
          "related_concepts": ["–æ—Å–æ–∑–Ω–∞–≤–∞–Ω–∏–µ", "–ø–∞—Ç—Ç–µ—Ä–Ω—ã"]
        }
      ]
    }
  ],
  
  "concept_hierarchy": [
    {
      "name": "–æ—Å–æ–∑–Ω–∞–≤–∞–Ω–∏–µ",
      "level": "domain",
      "parent": "–Ω–µ–π—Ä–æ—Å—Ç–∞–ª–∫–∏–Ω–≥",
      "relationship": "is_core_component_of"
    }
  ],
  
  "case_studies": [
    {
      "id": "case_local_1",
      "situation": "–æ–ø–∏—Å–∞–Ω–∏–µ —Å–∏—Ç—É–∞—Ü–∏–∏",
      "root_cause": "–∫–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞",
      "applied_practices": ["–º–µ—Ç–∞–Ω–∞–±–ª—é–¥–µ–Ω–∏–µ"],
      "process": ["—à–∞–≥ 1", "—à–∞–≥ 2"],
      "outcome": "—Ä–µ–∑—É–ª—å—Ç–∞—Ç",
      "lessons": "–≤—ã–≤–æ–¥—ã",
      "related_concepts": ["–æ—Å–æ–∑–Ω–∞–≤–∞–Ω–∏–µ"]
    }
  ],
  
  "prerequisites": {
    "prerequisites": [
      {
        "concept": "–æ—Å–Ω–æ–≤–∞ –æ—Å–æ–∑–Ω–∞–≤–∞–Ω–∏—è",
        "level": "beginner",
        "why_needed": "–Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è"
      }
    ],
    "recommended_sequence": [
      "–æ—Å–æ–∑–Ω–∞–≤–∞–Ω–∏–µ ‚Üí –º–µ—Ç–∞–Ω–∞–±–ª—é–¥–µ–Ω–∏–µ ‚Üí —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤"
    ],
    "common_mistakes": ["–ø–æ–ø—ã—Ç–∫–∞ –ø–æ–¥–∞–≤–∏—Ç—å –≤–º–µ—Å—Ç–æ –æ—Å–æ–∑–Ω–∞–≤–∞–Ω–∏—è"]
  }
}
    }
  ],
  
  "full_text": "–ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –≤—Å–µ—Ö —Å—É–±—Ç–∏—Ç—Ä–æ–≤ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π..."
}
```

### –ö–ª—é—á–µ–≤—ã–µ –ø–æ–ª—è –¥–ª—è RAG-—Å–∏—Å—Ç–µ–º—ã

#### –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ —Å–≤—è–∑–∏
- `block_id`: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –±–ª–æ–∫–∞ (`VIDEO_ID_NNN`)
- `video_id`: ID –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –≤–∏–¥–µ–æ
- `source_url`: –°—Å—ã–ª–∫–∞ –Ω–∞ YouTube –≤–∏–¥–µ–æ
- `youtube_link`: –ü—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞ —Å –≤—Ä–µ–º–µ–Ω–Ω–æ–π –º–µ—Ç–∫–æ–π
- `schema_version`: –í–µ—Ä—Å–∏—è —Å—Ö–µ–º—ã –¥–∞–Ω–Ω—ã—Ö

#### –í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏
- `start`, `end`: –í—Ä–µ–º–µ–Ω–Ω—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã (HH:MM:SS)
- URL –ø–∞—Ä–∞–º–µ—Ç—Ä `&t=Ns`: –ü—Ä—è–º–æ–π –ø–µ—Ä–µ—Ö–æ–¥ –∫ –º–æ–º–µ–Ω—Ç—É

#### –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
- `title`: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ –±–ª–æ–∫–∞
- `summary`: –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ (2-3 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è)
- `keywords`: –ú–∞—Å—Å–∏–≤ –∫–ª—é—á–µ–≤—ã—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤
- `content`: –ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –±–ª–æ–∫–∞ (300-500+ —Å–ª–æ–≤)

#### –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞
- `domain`: –¢–∏–ø –æ–±—Ä–∞–±–æ—Ç–∫–∏
- `total_blocks`: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–ª–æ–∫–æ–≤
- `overview_toc`: –ö—Ä–∞—Ç–∫–æ–µ –æ–≥–ª–∞–≤–ª–µ–Ω–∏–µ
- `overview_summary`: –û–±—â–µ–µ —Ä–µ–∑—é–º–µ

#### **üÜï –ù–æ–≤—ã–µ –ø–æ–ª—è SAG v2.0:**
- `schema_version`: –í–µ—Ä—Å–∏—è —Å—Ö–µ–º—ã (2.0 –¥–ª—è SAG)
- `lecture_type`: –¢–∏–ø –ª–µ–∫—Ü–∏–∏ (seminar/lecture)
- `has_dialogue`: –ù–∞–ª–∏—á–∏–µ –¥–∏–∞–ª–æ–≥–æ–≤
- `main_topics`: –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ–º—ã –ª–µ–∫—Ü–∏–∏
- `difficulty_level`: –£—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
- `collection_target`: –¶–µ–ª–µ–≤–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è –∑–Ω–∞–Ω–∏–π
- `routing_confidence`: –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏
- `graph_entities`: –ì—Ä–∞—Ñ-—Å—É—â–Ω–æ—Å—Ç–∏ —Å —á–∞—Å—Ç–æ—Ç–æ–π (–¥–æ 30)
- `semantic_relationships`: –ê–Ω–∞–ª–∏–∑ —Å–≤—è–∑–µ–π –º–µ–∂–¥—É –∫–æ–Ω—Ü–µ–ø—Ç–∞–º–∏
- `total_graph_nodes`: –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –≥—Ä–∞—Ñ–∞ (442)
- `total_graph_relationships`: –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–Ω–æ—à–µ–Ω–∏–π (259)
- `processing_version`: –í–µ—Ä—Å–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Markdown —Ñ–∞–π–ª–∞ (–¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞)

```markdown
# üß≠ –õ–µ–∫—Ü–∏–∏ –°. –°–∞—Ä—Å–µ–∫–µ–Ω–æ–≤–∞ ‚Äî –∫–æ–Ω—Å–ø–µ–∫—Ç
## –õ–µ–∫—Ü–∏—è –°–∞—Ä—Å–µ–∫–µ–Ω–æ–≤–∞: Rxoj94WQpsQ
*–ö–æ–Ω—Å–ø–µ–∫—Ç –ª–µ–∫—Ü–∏–∏, —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ —Ç–µ–º–∞–º –Ω–µ–π—Ä–æ—Å—Ç–∞–ª–∫–∏–Ω–≥–∞/–Ω–µ–æ—Å—Ç–∞–ª–∫–∏–Ω–≥–∞.*

**–ö–æ—Ä–æ—Ç–∫–æ–µ –æ–≥–ª–∞–≤–ª–µ–Ω–∏–µ:** –ò—Å—Ü–µ–ª–µ–Ω–∏–µ –∏ —Å–∞–º–æ–ø–æ–∑–Ω–∞–Ω–∏–µ ‚Ä¢ –ü—Ä–∏—Ä–æ–¥–∞ —É–º–∞ ‚Ä¢ –ü—Ä–µ–æ–¥–æ–ª–µ–Ω–∏–µ –æ–ø—ã—Ç–∞
**–û–±—â–µ–µ —Ä–µ–∑—é–º–µ:** –õ–µ–∫—Ü–∏—è —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –ø–æ–¥–ª–∏–Ω–Ω–æ–≥–æ –∏—Å—Ü–µ–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ —Å–∞–º–æ–ø–æ–∑–Ω–∞–Ω–∏–µ...

---
## üìë –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ
1. [–ü—Ä–æ—Ü–µ—Å—Å –∏—Å—Ü–µ–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ —Å–∞–º–æ–ø–æ–∑–Ω–∞–Ω–∏–µ –±–µ–∑ –≥–µ—Ä–æ–∏–∑–º–∞](#1-block)
2. [–ü—Ä–∏—Ä–æ–¥–∞ —É–º–∞ –∏ –∑–µ—Ä–∫–∞–ª—å–Ω–æ–µ –æ—Ç—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏](#2-block)
...

---

## <a id='1-block'></a> 1. –ü—Ä–æ—Ü–µ—Å—Å –∏—Å—Ü–µ–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ —Å–∞–º–æ–ø–æ–∑–Ω–∞–Ω–∏–µ –±–µ–∑ –≥–µ—Ä–æ–∏–∑–º–∞
**‚è± –í—Ä–µ–º—è:** [00:00:00 - 00:08:45]
**üìù –ö—Ä–∞—Ç–∫–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:** –û–±—Å—É–∂–¥–∞–µ—Ç—Å—è –≤–∞–∂–Ω–æ—Å—Ç—å –ø–æ–¥–ª–∏–Ω–Ω–æ–≥–æ –∏—Å—Ü–µ–ª–µ–Ω–∏—è...
**üè∑ –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞:** –∏—Å—Ü–µ–ª–µ–Ω–∏–µ, —Å–∞–º–æ–ø–æ–∑–Ω–∞–Ω–∏–µ, –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ

### –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:
–ü—Ä—è–º–æ —Å–µ–π—á–∞—Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –º–æ–º–µ–Ω—Ç –∏—Å—Ü–µ–ª–µ–Ω–∏—è, –Ω–æ –±–µ–∑ —Ç–æ–≥–æ —è, –ø–æ–∑—ë—Ä–∞...
[–ü–û–õ–ù–´–ô –¢–ï–ö–°–¢ –ë–õ–û–ö–ê]

---
```

---

## üîå API –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### –ö–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞

#### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```powershell
# –ü–æ–ª–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —á—Ç–µ–Ω–∏–µ–º urls.txt
python pipeline_orchestrator.py --config config.yaml

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–¥–Ω–æ–≥–æ URL
python pipeline_orchestrator.py --config config.yaml --url "https://youtu.be/VIDEO_ID"

# –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–∞ —Å URL
python pipeline_orchestrator.py --config config.yaml --urls-file custom_urls.txt

# –í—ã–±–æ—Ä –¥–æ–º–µ–Ω–∞
python pipeline_orchestrator.py --config config.yaml --domain generic

# –ö–∞—Å—Ç–æ–º–Ω–æ–µ –∏–º—è –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
python pipeline_orchestrator.py --config config.yaml --url "..." --name "–õ–µ–∫—Ü–∏—è_1"

# üÜï SAG v2.0 –ü—Ä—è–º–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å –¥–æ–º–µ–Ω–Ω—ã–º –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–º
python -m text_processor.sarsekenov_processor --input data/subtitles/VIDEO_ID.json --output data/sag_final --primary-model gpt-4o-mini --refine-model gpt-5-mini
```

#### –¢–æ–ª—å–∫–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—É–±—Ç–∏—Ç—Ä–æ–≤

```powershell
# –ò–∑ urls.txt
python subtitle_extractor\get_subtitles.py

# –û–¥–∏–Ω URL
python subtitle_extractor\get_subtitles.py --url "https://youtu.be/VIDEO_ID"

# –ö–∞—Å—Ç–æ–º–Ω—ã–π —Ñ–∞–π–ª
python subtitle_extractor\get_subtitles.py --urls-file my_urls.txt

# –î—Ä—É–≥–æ–π —è–∑—ã–∫
python subtitle_extractor\get_subtitles.py --language en
```

#### –¢–æ–ª—å–∫–æ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞

```powershell
# üÜï SAG v2.0 –î–æ–º–µ–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä (–°–∞—Ä—Å–µ–∫–µ–Ω–æ–≤)
python -m text_processor.sarsekenov_processor --input data/subtitles/VIDEO_ID.json --output data/sag_final --primary-model gpt-4o-mini --refine-model gpt-5-mini

# üÜï SAG v2.0 —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
python -m text_processor.sarsekenov_processor --input data/subtitles --output data/sag_final --primary-model gpt-4o-mini --refine-model gpt-5-mini

# –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä (–±–∞–∑–æ–≤–∞—è —Å—Ö–µ–º–∞ v1.0)
python text_processor\subtitles_to_blocks.py --input data\subtitles --output data\vector_ready
```

**üÜï –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ SAG v2.0:**
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è**: –¢–∏–ø—ã –±–ª–æ–∫–æ–≤, —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–æ–Ω–∞, —Å–ª–æ–∂–Ω–æ—Å—Ç—å
- **üéØ –ì—Ä–∞—Ñ-—Å—É—â–Ω–æ—Å—Ç–∏**: 442 —É–∑–ª–∞ + 259 –æ—Ç–Ω–æ—à–µ–Ω–∏–π —Å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–µ–π –∏ –∞–≥—Ä–µ–≥–∞—Ü–∏–µ–π
- **üîó –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã—è–≤–ª–µ–Ω–∏–µ —Å–≤—è–∑–µ–π –º–µ–∂–¥—É –∫–æ–Ω—Ü–µ–ø—Ç–∞–º–∏
- **–ú–æ—Ä—Ñ–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞**: –†—É—Å—Å–∫–∏–π —è–∑—ã–∫ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –≥—Ä–∞–º–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ñ–æ—Ä–º–∞–º–∏
- **–£–º–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è**: –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ –∫–æ–ª–ª–µ–∫—Ü–∏—è–º —Å –º–µ—Ç—Ä–∏–∫–æ–π —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏
- **–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ**: –°—Ö–µ–º–∞ v2.0 –¥–ª—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤–µ–∫—Ç–æ—Ä–Ω—ã—Ö –ë–î

### –ü—Ä–æ–≥—Ä–∞–º–º–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

#### Python API

```python
from pathlib import Path
from text_processor.sarsekenov_processor import SarsekenovProcessor
from subtitle_extractor.get_subtitles import YouTubeSubtitlesExtractor

# –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—É–±—Ç–∏—Ç—Ä–æ–≤
extractor = YouTubeSubtitlesExtractor("data/subtitles")
extractor.process_url("https://youtu.be/VIDEO_ID")

# üÜï SAG v2.0 –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤ –±–ª–æ–∫–∏
processor = SarsekenovProcessor(
    primary_model="gpt-4o-mini",
    refine_model="gpt-5-mini"
)
result = processor.process_file(
    Path("data/subtitles/VIDEO_ID.json"),
    Path("data/sag_final")
)

# üÜï –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ SAG v2.0
print(f"–°–æ–∑–¥–∞–Ω–æ –±–ª–æ–∫–æ–≤: {len(result['blocks'])}")
print(f"SAG Schema: {result['document_metadata']['schema_version']}")
print(f"Collection Target: {result['document_metadata']['collection_target']}")
print(f"Routing Confidence: {result['document_metadata']['routing_confidence']}")
print(f"Graph Entities: {len(result['graph_entities'])}")
print(f"JSON: {result['json_output']}")
print(f"MD: {result['md_output']}")

# üÜï –ê–Ω–∞–ª–∏–∑ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –±–ª–æ–∫–æ–≤
block_types = [b['block_type'] for b in result['blocks']]
emotional_tones = [b['emotional_tone'] for b in result['blocks']]
complexity_scores = [b['complexity_score'] for b in result['blocks']]

print(f"Block Types: {set(block_types)}")
print(f"Emotional Tones: {set(emotional_tones)}")
print(f"Avg Complexity: {sum(complexity_scores)/len(complexity_scores):.1f}")
```

#### –ë–∞—Ç—á-–æ–±—Ä–∞–±–æ—Ç–∫–∞

```python
from pipeline_orchestrator import PipelineOrchestrator

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
orchestrator = PipelineOrchestrator("config.yaml", domain="sarsekenov")

# –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ø–∏—Å–∫–∞ URL
urls = [
    "https://youtu.be/VIDEO_1",
    "https://youtu.be/VIDEO_2"
]

results = []
for url in urls:
    result = orchestrator.run_full_pipeline(url)
    results.append(result)
    
# –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
successful = [r for r in results if r["status"] == "success"]
print(f"–£—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ: {len(successful)}/{len(results)}")

# üÜï SAG v2.0 –ê–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞
for result in successful:
    if "document_metadata" in result:
        metadata = result["document_metadata"]
        print(f"Video: {metadata.get('video_id', 'Unknown')}")
        print(f"  SAG Schema: {metadata.get('schema_version', 'Unknown')}")
        print(f"  Collection: {metadata.get('collection_target', 'Unknown')}")
        print(f"  Confidence: {metadata.get('routing_confidence', 'Unknown')}")
        print(f"  Graph Entities: {len(result.get('graph_entities', []))}")
        print(f"  Overview Length: {len(result.get('overview_summary', ''))}")
```

---

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—Ç–ª–∞–¥–∫–∞

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

#### –û—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥: `pipeline.log`

```
2025-01-28 15:30:15,123 | INFO | pipeline | Starting pipeline for: https://youtu.be/VIDEO_ID
2025-01-28 15:30:15,124 | INFO | pipeline | Stage 1: Downloading subtitles from YouTube
2025-01-28 15:30:17,456 | INFO | pipeline | Stage 1 complete: data\raw_subtitles\VIDEO_ID.json
2025-01-28 15:30:17,457 | INFO | pipeline | Stage 2: Processing text for SAG v2.0
2025-01-28 15:30:45,123 | INFO | pipeline | Stage 2 complete: 8 SAG v2.0 blocks created
2025-01-28 15:30:45,124 | INFO | pipeline | Pipeline complete! Total time: 30.0s
2025-01-28 15:30:45,125 | INFO | pipeline | SAG v2.0 JSON: data\sag_final\VIDEO_ID.for_vector.json
```

#### üÜï **SAG v2.0 –õ–æ–≥–∏ —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π**

```
2025-01-28 15:30:17,458 | INFO | sarsekenov_processor | SAG v2.0: Processing with schema version 2.0
2025-01-28 15:30:17,459 | INFO | sarsekenov_processor | Detecting dialogue patterns in full_text
2025-01-28 15:30:17,460 | INFO | sarsekenov_processor | Dialogue detected: True (confidence: 0.85)
2025-01-28 15:30:17,461 | INFO | sarsekenov_processor | Extracting graph entities: 12 entities found
2025-01-28 15:30:17,462 | INFO | sarsekenov_processor | Collection target: dialogue_sessions (confidence: 0.7)
2025-01-28 15:30:17,463 | INFO | sarsekenov_processor | Overview length: 573 chars (validation: PASSED)
2025-01-28 15:30:17,464 | INFO | sarsekenov_processor | Morphological improvements: 2/9 applied
2025-01-28 15:30:45,125 | INFO | sarsekenov_processor | SAG v2.0 complete: 90% readiness score
```

#### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: `data/raw_subtitles/`

**–û–¥–∏–Ω–æ—á–Ω—ã–π –∑–∞–ø—É—Å–∫**: `pipeline_result_YYYYMMDD_HHMMSS.json`
```json
{
  "youtube_url": "https://youtu.be/VIDEO_ID",
  "status": "success",
  "pipeline_start": "2025-01-28 15:30:15",
  "pipeline_end": "2025-01-28 15:30:45", 
  "total_duration": 30.0,
  "stages": {
    "subtitles": {
      "status": "success",
      "duration": 2.3,
      "json_path": "data\\raw_subtitles\\VIDEO_ID.json"
    },
    "text_processing": {
      "status": "success",
      "duration": 27.7,
```

**üÜï SAG v2.0 –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏:**
```json
{
  "sag_metadata": {
    "schema_version": "2.0",
    "processing_version": "v2.1",
    "sag_readiness_score": 90.0,
    "collection_target": "dialogue_sessions",
    "routing_confidence": 0.7,
    "has_dialogue": true,
    "difficulty_level": "intermediate",
    "graph_entities_count": 12,
    "overview_length": 573,
    "morphological_improvements": 2
  }
}
      "blocks_created": 8
    }
  },
  "final_outputs": {
    "sag_v2_json": "data\\sag_final\\VIDEO_ID.for_vector.json",
    "review_markdown": "data\\sag_final\\VIDEO_ID.for_review.md"
  }
}
```

**–ë–∞—Ç—á-—Ä–µ–∂–∏–º**: `batch_pipeline_results_YYYYMMDD_HHMMSS.json`
```json
[
  {
    "youtube_url": "https://youtu.be/VIDEO_1",
    "status": "success",
    "total_duration": 25.3,
    ...
  },
  {
    "youtube_url": "https://youtu.be/VIDEO_2", 
    "status": "failed",
    "error": "Could not extract video_id from URL",
    "total_duration": 0.1
  }
]
```

### –û—Ç–ª–∞–¥–∫–∞ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```powershell
# –ü—Ä–æ–≤–µ—Ä–∫–∞ Python –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
python --version
python -c "import openai, tiktoken, orjson; print('OK')"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ API –∫–ª—é—á–∞
python -c "import os; from env_utils import load_env; load_env(); print('API Key loaded:', bool(os.getenv('OPENAI_API_KEY')))"

# –¢–µ—Å—Ç OpenAI API
python -c "from openai import OpenAI; client = OpenAI(); print('API connection: OK')"
```

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```powershell
# –¢–µ—Å—Ç –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Å—É–±—Ç–∏—Ç—Ä–æ–≤
python subtitle_extractor\get_subtitles.py --url "https://youtu.be/dQw4w9WgXcQ"

# –¢–µ—Å—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ (–Ω–∞ –≥–æ—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö)
python text_processor\sarsekenov_processor.py --input data\subtitles\VIDEO_ID.json

# –ü–æ–ª–Ω—ã–π —Ç–µ—Å—Ç –ø–∞–π–ø–ª–∞–π–Ω–∞
python pipeline_orchestrator.py --config config.yaml --url "https://youtu.be/dQw4w9WgXcQ"
```

#### –ê–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

```powershell
# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –±–ª–æ–∫–∞–º
python -c "
import json
from pathlib import Path

for f in Path('data/sag_final').glob('*.for_vector.json'):
    with open(f) as file:
        data = json.load(file)
    blocks = data['blocks']
    words_per_block = [len(b['content'].split()) for b in blocks]
    print(f'{f.stem}: {len(blocks)} –±–ª–æ–∫–æ–≤, {min(words_per_block)}-{max(words_per_block)} —Å–ª–æ–≤')
"
```

---

## üîß –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –¥–æ–º–µ–Ω–∞

#### 1. –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞

```python
# text_processor/my_domain_processor.py
from .sarsekenov_processor import SarsekenovProcessor

class MyDomainProcessor(SarsekenovProcessor):
    def __init__(self, primary_model="gpt-4o-mini", refine_model="gpt-5-mini"):
        super().__init__(primary_model, refine_model)
        
        # –î–æ–º–µ–Ω–Ω—ã–µ —É–∫–∞–∑–∞–Ω–∏—è
        self.domain_context = (
            "–≠—Ç–æ –ª–µ–∫—Ü–∏—è –ø–æ [–í–ê–®–ï–ô –¢–ï–ú–ê–¢–ò–ö–ï]. "
            "–°–æ—Ö—Ä–∞–Ω—è–π —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—é: [–¢–ï–†–ú–ò–ù1], [–¢–ï–†–ú–ò–ù2], [–¢–ï–†–ú–ò–ù3]. "
            "–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏: [–û–ü–ò–°–ê–ù–ò–ï –û–°–û–ë–ï–ù–ù–û–°–¢–ï–ô]."
        )
```

#### 2. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–µ

```python
# pipeline_orchestrator.py
from text_processor.my_domain_processor import MyDomainProcessor

class PipelineOrchestrator:
    def __init__(self, config_path: str, domain: str = "sarsekenov"):
        # ...
        if domain.lower() == "sarsekenov":
            self.text_processor = SarsekenovProcessor()
        elif domain.lower() == "mydomain":
            self.text_processor = MyDomainProcessor()
        else:
            self.text_processor = SubtitlesProcessor()
```

#### 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```powershell
python pipeline_orchestrator.py --config config.yaml --domain mydomain
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–µ–∫—Ç–æ—Ä–Ω—ã–º–∏ –ë–î

#### –ü—Ä–∏–º–µ—Ä –¥–ª—è Qdrant

```python
# vector_indexer.py
from qdrant_client import QdrantClient
from qdrant_client.http import models
import json
from openai import OpenAI

class VectorIndexer:
    def __init__(self):
        self.qdrant = QdrantClient(host="localhost", port=6333)
        self.openai = OpenAI()
        
    def create_collection(self, collection_name: str):
        self.qdrant.create_collection(
            collection_name=collection_name,
            vectors_config=models.VectorParams(
                size=1024,  # Sentence-Transformers embedding dimension (multilingual-e5-large)
                distance=models.Distance.COSINE
            )
        )
    
    def index_document(self, json_path: str, collection_name: str):
        with open(json_path) as f:
            doc = json.load(f)
            
        points = []
        for block in doc['blocks']:
            # –°–æ–∑–¥–∞–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–∞ —á–µ—Ä–µ–∑ Sentence-Transformers
            from sentence_transformers import SentenceTransformer
            model = SentenceTransformer('intfloat/multilingual-e5-large')
            embedding = model.encode(block['content']).tolist()
            
            # –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ç–æ—á–∫–∏ –¥–ª—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏
            point = models.PointStruct(
                id=block['block_id'],
                vector=embedding,
                payload={
                    "title": block['title'],
                    "summary": block['summary'],
                    "keywords": block['keywords'],
                    "content": block['content'],
                    "video_id": block['video_id'],
                    "youtube_link": block['youtube_link'],
                    "start_time": block['start'],
                    "end_time": block['end']
                }
            )
            points.append(point)
        
        # –ó–∞–≥—Ä—É–∑–∫–∞ –≤ Qdrant
        self.qdrant.upsert(
            collection_name=collection_name,
            points=points
        )

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
indexer = VectorIndexer()
indexer.create_collection("sarsekenov_lectures")
indexer.index_document("data/sag_final/VIDEO_ID.for_vector.json", "sarsekenov_lectures")
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Neo4j (–≥—Ä–∞—Ñ –∑–Ω–∞–Ω–∏–π)

```python
# graph_builder.py
from neo4j import GraphDatabase
import json
import re

class GraphBuilder:
    def __init__(self, uri, user, password):
        self.driver = GraphDatabase.driver(uri, auth=(user, password))
    
    def extract_entities(self, text: str):
        # –ü—Ä–æ—Å—Ç–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–µ–π (–º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ NER)
        entities = []
        
        # –ü–æ–∏—Å–∫ —Ç–µ—Ä–º–∏–Ω–æ–≤ –Ω–µ–π—Ä–æ—Å—Ç–∞–ª–∫–∏–Ω–≥–∞
        neuro_terms = [
            "–Ω–µ–π—Ä–æ—Å—Ç–∞–ª–∫–∏–Ω–≥", "–Ω–µ–æ—Å—Ç–∞–ª–∫–∏–Ω–≥", "–ø–æ–ª–µ –≤–Ω–∏–º–∞–Ω–∏—è",
            "–Ω–∞–±–ª—é–¥–µ–Ω–∏–µ –∑–∞ —É–º–æ–º", "–º–µ—Ç–∞–Ω–∞–±–ª—é–¥–µ–Ω–∏–µ", "–æ—Å–æ–∑–Ω–∞–≤–∞–Ω–∏–µ"
        ]
        
        for term in neuro_terms:
            if term.lower() in text.lower():
                entities.append(("CONCEPT", term))
        
        return entities
    
    def create_graph_from_document(self, json_path: str):
        with open(json_path) as f:
            doc = json.load(f)
        
        with self.driver.session() as session:
            # –°–æ–∑–¥–∞–Ω–∏–µ —É–∑–ª–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞
            session.run(
                "CREATE (d:Document {id: $doc_id, title: $title, url: $url})",
                doc_id=doc['document_metadata']['video_id'],
                title=doc['document_title'],
                url=doc['document_metadata']['source_url']
            )
            
            # –û–±—Ä–∞–±–æ—Ç–∫–∞ –±–ª–æ–∫–æ–≤
            for block in doc['blocks']:
                # –°–æ–∑–¥–∞–Ω–∏–µ —É–∑–ª–∞ –±–ª–æ–∫–∞
                session.run(
                    """
                    CREATE (b:Block {
                        id: $block_id,
                        title: $title,
                        start_time: $start,
                        end_time: $end,
                        youtube_link: $youtube_link
                    })
                    """,
                    block_id=block['block_id'],
                    title=block['title'],
                    start=block['start'],
                    end=block['end'],
                    youtube_link=block['youtube_link']
                )
                
                # –°–≤—è–∑—å –±–ª–æ–∫–∞ —Å –¥–æ–∫—É–º–µ–Ω—Ç–æ–º
                session.run(
                    """
                    MATCH (d:Document {id: $doc_id})
                    MATCH (b:Block {id: $block_id})
                    CREATE (d)-[:CONTAINS]->(b)
                    """,
                    doc_id=doc['document_metadata']['video_id'],
                    block_id=block['block_id']
                )
                
                # –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ü–µ–ø—Ç–æ–≤
                entities = self.extract_entities(block['content'])
                for entity_type, entity_name in entities:
                    session.run(
                        f"MERGE (c:{entity_type} {{name: $name}})",
                        name=entity_name
                    )
                    
                    session.run(
                        f"""
                        MATCH (b:Block {{id: $block_id}})
                        MATCH (c:{entity_type} {{name: $name}})
                        CREATE (b)-[:MENTIONS]->(c)
                        """,
                        block_id=block['block_id'],
                        name=entity_name
                    )

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
graph = GraphBuilder("bolt://localhost:7687", "neo4j", "password")
graph.create_graph_from_document("data/sag_final/VIDEO_ID.for_vector.json")
```

---

## üîç –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

#### 1. **–û—à–∏–±–∫–∏ API –∫–ª—é—á–µ–π**

**–ü—Ä–æ–±–ª–µ–º–∞**: `[ERROR] OPENAI_API_KEY –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω`

**–†–µ—à–µ–Ω–∏–µ**:
```powershell
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Ñ–∞–π–ª–∞ .env
ls .env

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ
Get-Content .env

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≤ Python
python -c "import os; from env_utils import load_env; load_env(); print(os.getenv('OPENAI_API_KEY'))"
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã**:
- –§–∞–π–ª `.env` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏–ª–∏ –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –º–µ—Å—Ç–µ
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∫–ª—é—á–∞
- –ü—Ä–æ–±–ª–µ–º—ã —Å –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π —Ñ–∞–π–ª–∞

#### 2. **–ü—Ä–æ–±–ª–µ–º—ã —Å —Å—É–±—Ç–∏—Ç—Ä–∞–º–∏**

**–ü—Ä–æ–±–ª–µ–º–∞**: `[ERROR] –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å —Å—É–±—Ç–∏—Ç—Ä—ã`

**–†–µ—à–µ–Ω–∏–µ**:
```powershell
# –ü—Ä–æ–≤–µ—Ä–∫–∞ URL –≤—Ä—É—á–Ω—É—é
python subtitle_extractor\get_subtitles.py --url "–í–ê–®–ê_–°–°–´–õ–ö–ê"

# –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π —è–∑—ã–∫
python subtitle_extractor\get_subtitles.py --url "–í–ê–®–ê_–°–°–´–õ–ö–ê" --language en
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã**:
- –í–∏–¥–µ–æ –Ω–µ –∏–º–µ–µ—Ç —Å—É–±—Ç–∏—Ç—Ä–æ–≤
- –í–∏–¥–µ–æ –ø—Ä–∏–≤–∞—Ç–Ω–æ–µ –∏–ª–∏ —É–¥–∞–ª–µ–Ω–Ω–æ–µ
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç URL
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ —Ä–µ–≥–∏–æ–Ω—É

#### 3. **–û—à–∏–±–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–µ–∫—Å—Ç–∞**

**–ü—Ä–æ–±–ª–µ–º–∞**: `[INFO] Processing chunk X/Y` –∑–∞–≤–∏—Å–∞–µ—Ç –∏–ª–∏ –º–Ω–æ–≥–æ –æ—à–∏–±–æ–∫ `429 Too Many Requests`

**–†–µ—à–µ–Ω–∏–µ**:
```powershell
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞ OpenAI
# –ó–∞–π—Ç–∏ –Ω–∞ https://platform.openai.com/usage

# –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ –∫ API (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1.0 —Å–µ–∫—É–Ω–¥–∞)
# –î–æ–±–∞–≤—å—Ç–µ –≤ .env:
OPENAI_API_DELAY=2.0  # –£–≤–µ–ª–∏—á—å—Ç–µ –¥–æ 2-3 —Å–µ–∫—É–Ω–¥ –ø—Ä–∏ —á–∞—Å—Ç—ã—Ö –æ—à–∏–±–∫–∞—Ö 429

# –°–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏
# –í .env –∏–∑–º–µ–Ω–∏—Ç—å:
PRIMARY_MODEL=gpt-4o-mini
REFINE_MODEL=

# üÜï SAG v2.0 –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –±–ª–æ–∫–∞
python -m text_processor.sarsekenov_processor --input data/subtitles/VIDEO_ID.json --output data/sag_final --primary-model gpt-4o-mini --refine-model gpt-5-mini
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –∑–∞–¥–µ—Ä–∂–∫—É –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ –∫ OpenAI API –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è rate limit –æ—à–∏–±–æ–∫. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∑–∞–¥–µ—Ä–∂–∫–∞ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç 1.0 —Å–µ–∫—É–Ω–¥—É. –ï—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ –º–Ω–æ–≥–æ –æ—à–∏–±–æ–∫ 429, —É–≤–µ–ª–∏—á—å—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ `OPENAI_API_DELAY` –≤ `.env` —Ñ–∞–π–ª–µ –¥–æ 2.0-3.0 —Å–µ–∫—É–Ω–¥.

#### 4. **üÜï SAG v2.0 –°–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã**

**–ü—Ä–æ–±–ª–µ–º–∞**: `too many values to unpack (expected 2)`

**–†–µ—à–µ–Ω–∏–µ**:
```powershell
# –≠—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ ETAP 5 - –æ–±–Ω–æ–≤–∏—Ç–µ –∫–æ–¥
# –ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –≤ —Ä–∞—Å–ø–∞–∫–æ–≤–∫–µ –∫–æ—Ä—Ç–µ–∂–µ–π
# –¢–µ–ø–µ—Ä—å –µ—Å—Ç—å –∑–∞—â–∏—Ç–∞ –æ—Ç –æ—à–∏–±–æ–∫
```

**–ü—Ä–æ–±–ª–µ–º–∞**: `overview_summary —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π`

**–†–µ—à–µ–Ω–∏–µ**:
```powershell
# –í ETAP 5 –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–ª–∏–Ω—ã
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback –Ω–∞ –º–æ—Ä—Ñ–æ–ª–æ–≥–∏—é
# –ú–∏–Ω–∏–º—É–º 200 —Å–∏–º–≤–æ–ª–æ–≤ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω
```

**–ü—Ä–æ–±–ª–µ–º–∞**: –ì—Ä–∞—Ñ-—Å—É—â–Ω–æ—Å—Ç–∏ –Ω–µ –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ**:
```powershell
# –í ETAP 5 –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∞–≥—Ä–µ–≥–∞—Ü–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–ª–µ graph_entities –≤ JSON
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 12+ —Å—É—â–Ω–æ—Å—Ç–µ–π –¥–ª—è –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
```

#### 5. **–ü—Ä–æ–±–ª–µ–º—ã —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏**

**–ü—Ä–æ–±–ª–µ–º–∞**: `ModuleNotFoundError: No module named 'XXX'`

**–†–µ—à–µ–Ω–∏–µ**:
```powershell
# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
Remove-Item -Recurse -Force .venv
python -m venv .venv
.\.venv\Scripts\Activate.ps1
pip install -r requirements.txt

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
pip list | Select-String "openai|tiktoken|orjson"
```

#### 6. **–ü—Ä–æ–±–ª–µ–º—ã —Å PowerShell**

**–ü—Ä–æ–±–ª–µ–º–∞**: –û—à–∏–±–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–æ–≤

**–†–µ—à–µ–Ω–∏–µ**:
```powershell
# –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–æ–≤ (–æ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞)
Set-ExecutionPolicy RemoteSigned

# –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ - –ø—Ä—è–º—ã–µ –∫–æ–º–∞–Ω–¥—ã
python pipeline_orchestrator.py --config config.yaml
```

### –û—Ç–ª–∞–¥–æ—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```powershell
# –ü–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã
python -c "
import sys
print('Python:', sys.version)
print('Path:', sys.executable)

try:
    import openai, tiktoken, orjson
    print('Dependencies: OK')
except Exception as e:
    print('Dependencies error:', e)

import os
from pathlib import Path
print('.env exists:', Path('.env').exists())
print('config.yaml exists:', Path('config.yaml').exists())
print('urls.txt exists:', Path('urls.txt').exists())

from env_utils import load_env
load_env()
print('API key loaded:', bool(os.getenv('OPENAI_API_KEY')))
"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ YouTube
python -c "
from subtitle_extractor.get_subtitles import YouTubeSubtitlesExtractor
extractor = YouTubeSubtitlesExtractor('temp')
result = extractor.extract_video_id('https://youtu.be/dQw4w9WgXcQ')
print('YouTube parsing:', 'OK' if result else 'FAILED')
"

# –¢–µ—Å—Ç OpenAI API
python -c "
from openai import OpenAI
try:
    client = OpenAI()
    response = client.chat.completions.create(
        model='gpt-4o-mini',
        messages=[{'role': 'user', 'content': 'test'}],
        max_tokens=5
    )
    print('OpenAI API: OK')
except Exception as e:
    print('OpenAI API error:', e)
"
```

### –õ–æ–≥–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

```powershell
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
Get-Content pipeline.log -Wait

# –ê–Ω–∞–ª–∏–∑ –æ—à–∏–±–æ–∫
Select-String "ERROR" pipeline.log | Select-Object -Last 10

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
Select-String "Pipeline complete" pipeline.log | Measure-Object

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–æ–≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
Get-ChildItem data\sag_final\*.json | Select-Object Name, Length | Sort-Object Length
```

---

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ GitHub

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –ø–µ—Ä–≤–æ–º—É –ø—É—à—É

#### 1. **–°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**
```bash
# –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub
# –ù–ï –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Å README, .gitignore –∏–ª–∏ –ª–∏—Ü–µ–Ω–∑–∏–µ–π
```

#### 2. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Git –≤ –ø—Ä–æ–µ–∫—Ç–µ**
```powershell
# –í –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ voice_bot_pipeline
git init
git add .
git commit -m "Initial commit: Voice Bot Pipeline for YouTube to Vector DB"
```

#### 3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**
```powershell
# –ó–∞–º–µ–Ω–∏—Ç–µ YOUR_USERNAME –∏ YOUR_REPO –Ω–∞ –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ
git remote add origin https://github.com/YOUR_USERNAME/YOUR_REPO.git
git branch -M main
```

### ‚ö†Ô∏è **–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –ó–∞—â–∏—Ç–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤**

#### **–ü—Ä–æ–±–ª–µ–º–∞**: GitHub Push Protection –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø—É—à–∏ —Å —Å–µ–∫—Ä–µ—Ç–∞–º–∏
```bash
# ‚ùå –û–®–ò–ë–ö–ê: Push cannot contain secrets
# GitHub –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç API –∫–ª—é—á–∏ –∏ –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø—É—à
```

#### **–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ .gitignore –∏ .env
```powershell
# 1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ .env –ù–ï –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è Git
git status  # .env –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ "Untracked files"

# 2. –ï—Å–ª–∏ .env —É–∂–µ –≤ Git - —É–¥–∞–ª–∏—Ç–µ –µ–≥–æ –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏
git rm --cached .env
git commit -m "Remove .env from tracking"

# 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .gitignore —Å–æ–¥–µ—Ä–∂–∏—Ç:
# .env
# .venv/
# __pycache__/
# *.log
# data/
```

#### **–°–æ–∑–¥–∞–Ω–∏–µ .env.example (–±–µ–∑ —Å–µ–∫—Ä–µ—Ç–æ–≤)**
```bash
# –°–æ–∑–¥–∞–π—Ç–µ .env.example —Å –ø—Ä–∏–º–µ—Ä–æ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
OPENAI_API_KEY=your_openai_api_key_here
REFINE_MODEL=gpt-5-mini
PRIMARY_MODEL=gpt-4o-mini
```

### üîê **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è GitHub**

#### **–í–∞—Ä–∏–∞–Ω—Ç A: Personal Access Token (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**
```powershell
# 1. –°–æ–∑–¥–∞–π—Ç–µ PAT –Ω–∞ GitHub: Settings ‚Üí Developer settings ‚Üí Personal access tokens
# 2. –í—ã–±–µ—Ä–∏—Ç–µ scopes: repo, workflow
# 3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω

# 4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Git –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ç–æ–∫–µ–Ω–∞
git config --global credential.helper store
# –ü—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º push –≤–≤–µ–¥–∏—Ç–µ username –∏ —Ç–æ–∫–µ–Ω –∫–∞–∫ –ø–∞—Ä–æ–ª—å
```

#### **–í–∞—Ä–∏–∞–Ω—Ç B: SSH –∫–ª—é—á–∏**
```powershell
# 1. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è SSH –∫–ª—é—á–∞
ssh-keygen -t ed25519 -C "your_email@example.com"

# 2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ GitHub: Settings ‚Üí SSH and GPG keys
# 3. –ò–∑–º–µ–Ω–µ–Ω–∏–µ remote URL
git remote set-url origin git@github.com:YOUR_USERNAME/YOUR_REPO.git
```

### üì§ **–ü–µ—Ä–≤—ã–π –ø—É—à –ø—Ä–æ–µ–∫—Ç–∞**

#### **–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø—É—à**
```powershell
# 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
git status

# 2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ (–∏—Å–∫–ª—é—á–∞—è —Å–µ–∫—Ä–µ—Ç—ã)
git add .

# 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ .env –ù–ï –¥–æ–±–∞–≤–ª–µ–Ω
git status  # .env –¥–æ–ª–∂–µ–Ω –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å

# 4. –ö–æ–º–º–∏—Ç
git commit -m "Initial commit: Complete Voice Bot Pipeline with SAG v2.0

- YouTube subtitle extraction
- Text processing with LLM
- üÜï SAG v2.0: Structured Augmented Generation
- üÜï Automatic block classification and graph entities
- üÜï Morphological processing for Russian language
- üÜï Smart routing with confidence metrics
- üÜï ETAP 5: Fine-tuning completed (90% readiness)
- Vector-ready JSON output
- Domain-specific processors
- Pipeline orchestration"

# 5. –ü—É—à (GitHub –∑–∞–ø—Ä–æ—Å–∏—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é)
git push -u origin main
```

### üîÑ **–ü–æ—Å–ª–µ–¥—É—é—â–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**

#### **–ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞**
```powershell
# 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π
git status
git diff

# 2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏ –∫–æ–º–º–∏—Ç
git add .
git commit -m "Update: [–∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π]"

# 3. –ü—É—à
git push origin main
```

#### **–†–∞–±–æ—Ç–∞ —Å –≤–µ—Ç–∫–∞–º–∏**
```powershell
# –°–æ–∑–¥–∞–Ω–∏–µ feature –≤–µ—Ç–∫–∏
git checkout -b feature/improve-text-processing

# –†–∞–±–æ—Ç–∞ –Ω–∞–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏...
git add .
git commit -m "Feature: Enhanced text cleaning and polishing"

# –°–ª–∏—è–Ω–∏–µ —Å main
git checkout main
git merge feature/improve-text-processing
git push origin main

# –£–¥–∞–ª–µ–Ω–∏–µ feature –≤–µ—Ç–∫–∏
git branch -d feature/improve-text-processing
```

### üö® **–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å –ø—É—à–µ–º**

#### **–û—à–∏–±–∫–∞: "Push cannot contain secrets"**
```powershell
# 1. –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ –æ—Ç–º–µ–Ω–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π –∫–æ–º–º–∏—Ç
git reset --soft HEAD~1

# 2. –£–¥–∞–ª–∏—Ç–µ .env –∏–∑ Git
git rm --cached .env
git commit -m "Remove .env file"

# 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .gitignore
# 4. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –∫–æ–º–º–∏—Ç –∏ –ø—É—à
```

#### **–û—à–∏–±–∫–∞: "Authentication failed"**
```powershell
# 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω/SSH –∫–ª—é—á
# 2. –û–±–Ω–æ–≤–∏—Ç–µ credentials
git config --global credential.helper store

# 3. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ SSH
git remote set-url origin git@github.com:YOUR_USERNAME/YOUR_REPO.git
```

#### **–û—à–∏–±–∫–∞: "Large file detected"**
```powershell
# 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–º–µ—Ä—ã —Ñ–∞–π–ª–æ–≤
git status

# 2. –î–æ–±–∞–≤—å—Ç–µ –±–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã –≤ .gitignore
# 3. –£–¥–∞–ª–∏—Ç–µ –∏–∑ Git –µ—Å–ª–∏ —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã
git rm --cached large_file.mp4
```

### üìã **–ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –ø—É—à–µ–º**

- [ ] `.env` —Ñ–∞–π–ª –ù–ï –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è Git
- [ ] `.gitignore` –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- [ ] –ù–µ—Ç API –∫–ª—é—á–µ–π –≤ –∫–æ–¥–µ
- [ ] –ù–µ—Ç –±–æ–ª—å—à–∏—Ö –º–µ–¥–∏–∞—Ñ–∞–π–ª–æ–≤
- [ ] –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ `requirements.txt`
- [ ] README.md –∞–∫—Ç—É–∞–ª–µ–Ω
- [ ] –õ–æ–≥–∏ –æ—á–∏—â–µ–Ω—ã –æ—Ç —Å–µ–∫—Ä–µ—Ç–æ–≤

### üåü **–õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏**

1. **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ `.env` —Ñ–∞–π–ª—ã**
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `.env.example` –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏**
3. **–†–µ–≥—É–ª—è—Ä–Ω–æ –¥–µ–ª–∞–π—Ç–µ –∫–æ–º–º–∏—Ç—ã —Å –ø–æ–Ω—è—Ç–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏**
4. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å—Ç–∞—Ç—É—Å –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –∫–æ–º–º–∏—Ç–æ–º**
5. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ feature –≤–µ—Ç–∫–∏ –¥–ª—è –∫—Ä—É–ø–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π**
6. **–î–µ—Ä–∂–∏—Ç–µ main –≤–µ—Ç–∫—É —Å—Ç–∞–±–∏–ª—å–Ω–æ–π**

### üÜï **SAG v2.0 –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏**

7. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏**: `gpt-4o-mini` + `gpt-5-mini`
8. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ SAG Readiness Score**: –î–æ–ª–∂–µ–Ω –±—ã—Ç—å 80%+
9. **–í–∞–ª–∏–¥–∏—Ä—É–π—Ç–µ overview_length**: –ú–∏–Ω–∏–º—É–º 200 —Å–∏–º–≤–æ–ª–æ–≤
10. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –≥—Ä–∞—Ñ-—Å—É—â–Ω–æ—Å—Ç–∏**: 10+ —Å—É—â–Ω–æ—Å—Ç–µ–π –¥–ª—è –∫–∞—á–µ—Å—Ç–≤–∞
11. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –º–æ—Ä—Ñ–æ–ª–æ–≥–∏—é**: 2+ —É–ª—É—á—à–µ–Ω–∏–π –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
12. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ —Ä–∞–∑–≤–∏—Ç–∏–µ

### –ö–æ–Ω—Ç–∞–∫—Ç—ã
- **GitHub Issues**: [–°–æ–∑–¥–∞—Ç—å issue](https://github.com/your-repo/issues)
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: –≠—Ç–æ—Ç README —Ñ–∞–π–ª
- **–õ–æ–≥–∏**: `pipeline.log` –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
- **üÜï SAG v2.0 –ê–Ω–∞–ª–∏–∑**: `ETAP_5_FINAL_REPORT.md` –¥–ª—è –¥–µ—Ç–∞–ª–µ–π
- **üÜï –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ**: `DEVELOPMENT_GUIDELINES.md` –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

---

## üîç **–í–ï–ö–¢–û–†–ù–ê–Ø –ë–ê–ó–ê –î–ê–ù–ù–´–• (ChromaDB + Sentence-Transformers)**

### **–û–±–∑–æ—Ä**

–°–∏—Å—Ç–µ–º–∞ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ —Å **ChromaDB** –¥–ª—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø–æ –≤—Å–µ–º –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–º SAG v2.0 –¥–∞–Ω–Ω—ã–º. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–∞ —Ç—Ä–µ—Ö —É—Ä–æ–≤–Ω—è—Ö: –¥–æ–∫—É–º–µ–Ω—Ç—ã, –±–ª–æ–∫–∏ –∏ –≥—Ä–∞—Ñ-—Å—É—â–Ω–æ—Å—Ç–∏.

**üöÄ –ù–û–í–û–ï:** –°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **Sentence-Transformers** –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç OpenAI API. –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:
- ‚úÖ **–ù–µ—Ç –∑–∞—Ç—Ä–∞—Ç –Ω–∞ API** - –≤—Å–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ
- ‚úÖ **–ù–µ—Ç rate limits** - –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ —Å–∫–æ–ª—å–∫–æ —É–≥–æ–¥–Ω–æ —Ç–µ–∫—Å—Ç–æ–≤
- ‚úÖ **–ë—ã—Å—Ç—Ä–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** - –æ—Å–æ–±–µ–Ω–Ω–æ –Ω–∞ GPU (–≤ 10-50 —Ä–∞–∑ –±—ã—Å—Ç—Ä–µ–µ)
- ‚úÖ **–ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å** - –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å fine-tuning –º–æ–¥–µ–ª–µ–π

### **–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**

- **–ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è**: –î–æ–∫—É–º–µ–Ω—Ç—ã, –±–ª–æ–∫–∏ –∏ –≥—Ä–∞—Ñ-—Å—É—â–Ω–æ—Å—Ç–∏ –∏–Ω–¥–µ–∫—Å–∏—Ä—É—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ
- **–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫**: –ü–æ–∏—Å–∫ –ø–æ —Å–º—ã—Å–ª—É, –∞ –Ω–µ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º
- **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è**: –ü–æ–∏—Å–∫ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ –ø–æ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º (video_id, block_type, collection_target –∏ –¥—Ä.)
- **–ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫**: –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ –≤—Å–µ–º –∫–æ–ª–ª–µ–∫—Ü–∏—è–º —Å –≤–µ—Å–∞–º–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è**: –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ pipeline

### **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**

#### **–ö–æ–ª–ª–µ–∫—Ü–∏–∏ ChromaDB:**

1. **`sag_v2_documents`** - –í–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞
   - –¢–µ–∫—Å—Ç: `document_title + document_summary`
   - –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ: video_id, main_topics, collection_target, difficulty_level –∏ –¥—Ä.

2. **`sag_v2_blocks`** - –í–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –±–ª–æ–∫–æ–≤
   - –¢–µ–∫—Å—Ç: `title + summary + keywords + content`
   - –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ: block_id, start, end, block_type, graph_entities, youtube_link –∏ –¥—Ä.

3. **`sag_v2_graph_entities`** - –í–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≥—Ä–∞—Ñ-—Å—É—â–Ω–æ—Å—Ç–µ–π
   - –¢–µ–∫—Å—Ç: `entity_name + context` (–∏–∑ –±–ª–æ–∫–æ–≤ –≥–¥–µ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è)
   - –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ: entity_name, video_id, frequency, domain

### **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç**

#### **1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**

```powershell
# –ê–∫—Ç–∏–≤–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
.\.venv\Scripts\Activate.ps1

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ chromadb (—É–∂–µ –≤ requirements.txt)
pip install chromadb
```

#### **2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Sentence-Transformers**

```powershell
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–≤–∫–ª—é—á–∞—è sentence-transformers, transformers, torch)
pip install -r requirements.txt

# –ü—Ä–∏ –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–µ –º–æ–¥–µ–ª–∏ –æ–Ω–∞ –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫–∞—á–∞–Ω–∞ (~1.2 GB –¥–ª—è multilingual-e5-large)
```

#### **3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ config.yaml**

–í `config.yaml` —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è `vector_db`:

```yaml
vector_db:
  db_path: "data/chromadb"
  collection_prefix: "sag_v2"
  auto_index: false  # –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ true –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏
  index_levels:
    - "documents"
    - "blocks"
    - "graph_entities"
  embedding:
    provider: "sentence-transformers"  # –ü—Ä–æ–≤–∞–π–¥–µ—Ä —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
    model: "intfloat/multilingual-e5-large"  # –ú–æ–¥–µ–ª—å Sentence-Transformers
    dimension: 1024  # –†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ (–¥–ª—è multilingual-e5-large)
  batch_size: 100
```

#### **4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)**

–î–æ–±–∞–≤—å—Ç–µ –≤ `.env`:
```env
MODEL_EMBEDDING=sentence-transformers
SENTENCE_TRANSFORMERS_MODEL=intfloat/multilingual-e5-large
# SENTENCE_TRANSFORMERS_DEVICE=cuda  # –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è GPU
```

#### **5. –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è —á–µ—Ä–µ–∑ Pipeline**

```powershell
# –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ (—Ñ–ª–∞–≥ --index-to-vector-db)
python pipeline_orchestrator.py --url "https://youtu.be/VIDEO_ID" --config config.yaml --index-to-vector-db

# –ò–ª–∏ –≤–∫–ª—é—á–∏—Ç–µ auto_index: true –≤ config.yaml
```

#### **6. –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ–∞–π–ª–æ–≤**

```powershell
# –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –≤—Å–µ—Ö —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö SAG v2.0 —Ñ–∞–π–ª–æ–≤
python scripts/index_existing_files.py --config config.yaml --input-dir data/sag_final

# –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ –±–ª–æ–∫–æ–≤
python scripts/index_existing_files.py --levels blocks

# –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º —à–∞–±–ª–æ–Ω–æ–º
python scripts/index_existing_files.py --pattern "*.for_vector.json"
```

#### **7. –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫**

```powershell
# –¢–µ—Å—Ç —Å–æ–∑–¥–∞–Ω–∏—è —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ (–ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã Sentence-Transformers)
python scripts/test_vector_search.py --query "—Ç–µ—Å—Ç–æ–≤—ã–π —Ç–µ–∫—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤" --type test_embeddings

# –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫ (–ø–æ –≤—Å–µ–º –∫–æ–ª–ª–µ–∫—Ü–∏—è–º)
python scripts/test_vector_search.py --query "—á—Ç–æ —Ç–∞–∫–æ–µ –Ω–µ–π—Ä–æ—Å—Ç–∞–ª–∫–∏–Ω–≥" --type hybrid --top-k 10

# –ü–æ–∏—Å–∫ –ø–æ –±–ª–æ–∫–∞–º
python scripts/test_vector_search.py --query "–ø—Ä–∏–Ω—è—Ç–∏–µ –∏ –æ—Å–æ–∑–Ω–∞–≤–∞–Ω–∏–µ" --type blocks --top-k 5

# –ü–æ–∏—Å–∫ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
python scripts/test_vector_search.py --query "–º–µ–¥–∏—Ç–∞—Ü–∏—è" --type blocks --filter '{"video_id": "hDtLWJApJDQ"}'
```

### **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ**

```python
from vector_db import VectorDBManager, EmbeddingService, VectorSearch
import yaml

# –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
with open('config.yaml', 'r') as f:
    config = yaml.safe_load(f)

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
db_manager = VectorDBManager(
    db_path=config['vector_db']['db_path'],
    collection_prefix=config['vector_db']['collection_prefix']
)
# EmbeddingService –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–æ–¥–µ–ª—å –∏–∑ SENTENCE_TRANSFORMERS_MODEL –∏–ª–∏ config
embedding_service = EmbeddingService(
    model=config['vector_db']['embedding'].get('model')  # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –º–æ–∂–Ω–æ –Ω–µ —É–∫–∞–∑—ã–≤–∞—Ç—å
)
search = VectorSearch(db_manager, embedding_service)

# –ü–æ–∏—Å–∫ –ø–æ –±–ª–æ–∫–∞–º
results = search.search_blocks(
    query="—á—Ç–æ —Ç–∞–∫–æ–µ –ø—Ä–æ–±—É–∂–¥–µ–Ω–∏–µ",
    top_k=5,
    filters={"block_type": "theory"}
)

# –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫
results = search.hybrid_search(
    query="–ø—Ä–∏–Ω—è—Ç–∏–µ –∏ –ª—é–±–æ–≤—å",
    top_k=10
)
```

### **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞**

```python
{
    "id": "hDtLWJApJDQ_000",
    "document": "–ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –±–ª–æ–∫–∞...",
    "metadata": {
        "block_id": "hDtLWJApJDQ_000",
        "video_id": "hDtLWJApJDQ",
        "start": "00:00:00",
        "end": "00:15:18",
        "block_type": "question",
        "youtube_link": "https://youtube.com/watch?v=hDtLWJApJDQ&t=0s",
        # ... –¥—Ä—É–≥–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
    },
    "distance": 0.234,  # –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ (—á–µ–º –º–µ–Ω—å—à–µ, —Ç–µ–º —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–µ–µ)
    "source": "block"  # –î–ª—è –≥–∏–±—Ä–∏–¥–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞
}
```

### **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏**

```python
from vector_db import VectorDBManager

db_manager = VectorDBManager(db_path="data/chromadb")

# –°–ø–∏—Å–æ–∫ –∫–æ–ª–ª–µ–∫—Ü–∏–π
collections = db_manager.list_collections()
print(collections)  # ['sag_v2_documents', 'sag_v2_blocks', 'sag_v2_graph_entities']

# –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
db_manager.delete_collection("documents")

# –°–±—Ä–æ—Å –≤—Å–µ–π –±–∞–∑—ã (–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ!)
# db_manager.reset_database()
```

### **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**

- **–†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤**: 1024 (intfloat/multilingual-e5-large)
- **–ú–µ—Ç—Ä–∏–∫–∞**: Cosine similarity
- **–ë–∞—Ç—á-–æ–±—Ä–∞–±–æ—Ç–∫–∞**: –î–æ 100 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∑–∞ —Ä–∞–∑ (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è)
- **–õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ**: –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `data/chromadb/`
- **–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç GPU –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω, –∏–Ω–∞—á–µ CPU

### **üöÄ –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø –í–ï–ö–¢–û–†–ò–ó–ê–¶–ò–ò**

–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **Sentence-Transformers** –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤:

- **–õ–æ–∫–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞**: –ù–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–Ω–µ—à–Ω–∏—Ö API
- **–ë–∞—Ç—á-–æ–±—Ä–∞–±–æ—Ç–∫–∞**: –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ —Ç–µ–∫—Å—Ç–∞
- **GPU —É—Å–∫–æ—Ä–µ–Ω–∏–µ**: –í 10-50 —Ä–∞–∑ –±—ã—Å—Ç—Ä–µ–µ –Ω–∞ GPU (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω)
- **–ù–µ—Ç rate limits**: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ —Å–∫–æ–ª—å–∫–æ —É–≥–æ–¥–Ω–æ —Ç–µ–∫—Å—Ç–æ–≤ –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π

**–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–Ω–∞ CPU):**
- –î–æ–∫—É–º–µ–Ω—Ç (30 –±–ª–æ–∫–æ–≤): ~2-5 —Å–µ–∫—É–Ω–¥
- 180-–º–∏–Ω—É—Ç–Ω–∞—è –ª–µ–∫—Ü–∏—è: ~10-20 —Å–µ–∫—É–Ω–¥
- –ë–∞—Ç—á –∏–∑ 100 —Ç–µ–∫—Å—Ç–æ–≤: ~5-10 —Å–µ–∫—É–Ω–¥

**–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–Ω–∞ GPU):**
- –î–æ–∫—É–º–µ–Ω—Ç (30 –±–ª–æ–∫–æ–≤): ~0.2-0.5 —Å–µ–∫—É–Ω–¥—ã
- 180-–º–∏–Ω—É—Ç–Ω–∞—è –ª–µ–∫—Ü–∏—è: ~1-2 —Å–µ–∫—É–Ω–¥—ã
- –ë–∞—Ç—á –∏–∑ 100 —Ç–µ–∫—Å—Ç–æ–≤: ~0.5-1 —Å–µ–∫—É–Ω–¥–∞

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ **–ù–µ—Ç –∑–∞—Ç—Ä–∞—Ç –Ω–∞ API** - –≤—Å–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ
- ‚úÖ **–ù–µ—Ç rate limits** - –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ —Å–∫–æ–ª—å–∫–æ —É–≥–æ–¥–Ω–æ —Ç–µ–∫—Å—Ç–æ–≤
- ‚úÖ **–ë—ã—Å—Ç—Ä–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** - –æ—Å–æ–±–µ–Ω–Ω–æ –Ω–∞ GPU
- ‚úÖ **–ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å** - –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å fine-tuning –º–æ–¥–µ–ª–µ–π

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
python scripts/test_vectorization_speed.py
```

### **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**

```powershell
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
Get-ChildItem data\chromadb -Recurse | Measure-Object -Property Length -Sum

# –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–æ–ª–ª–µ–∫—Ü–∏–π
python -c "from vector_db import VectorDBManager; db = VectorDBManager(); print(db.list_collections())"
```

### **–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫**

**–ü—Ä–æ–±–ª–µ–º–∞**: –ö–æ–ª–ª–µ–∫—Ü–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
```powershell
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª—ã –ø—Ä–æ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω—ã
python scripts/index_existing_files.py --config config.yaml
```

**–ü—Ä–æ–±–ª–µ–º–∞**: –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
```powershell
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É Sentence-Transformers
pip install sentence-transformers transformers torch

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ .env
# SENTENCE_TRANSFORMERS_MODEL=intfloat/multilingual-e5-large

# –ü—Ä–∏ –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–µ –º–æ–¥–µ–ª—å –±—É–¥–µ—Ç —Å–∫–∞—á–∞–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (~1.2 GB)
# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –µ—Å—Ç—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ
```

**–ü—Ä–æ–±–ª–µ–º–∞**: –ú–µ–¥–ª–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
```powershell
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ GPU –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω)
# –î–æ–±–∞–≤—å—Ç–µ –≤ .env: SENTENCE_TRANSFORMERS_DEVICE=cuda

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PyTorch —Å CUDA –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π:
pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–∞–∫–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:
python scripts/test_vector_search.py --query "—Ç–µ—Å—Ç" --type test_embeddings
# –í –ª–æ–≥–∞—Ö –±—É–¥–µ—Ç —É–∫–∞–∑–∞–Ω–æ: "—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ: cpu" –∏–ª–∏ "—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ: cuda:0"
```

**–ü—Ä–æ–±–ª–µ–º–∞**: –ú–µ–¥–ª–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫
```powershell
# –£–º–µ–Ω—å—à–∏—Ç–µ top_k –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∏–ª—å—Ç—Ä—ã –¥–ª—è —Å—É–∂–µ–Ω–∏—è –æ–±–ª–∞—Å—Ç–∏ –ø–æ–∏—Å–∫–∞
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–º–µ—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```

**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å–æ —Å—Ç–∞—Ä—ã–º–∏ –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏
```powershell
# –°—Ç–∞—Ä—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω—ã —Å —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å—é 1536 (OpenAI), –Ω–æ–≤—ã–µ - 1024 (Sentence-Transformers)
# –£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –∏ –ø–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∏—Ä—É–π—Ç–µ:
python scripts/reset_vector_db.py
python scripts/index_existing_files.py --config config.yaml
```

### **üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è —Å OpenAI –Ω–∞ Sentence-Transformers**

–°–∏—Å—Ç–µ–º–∞ –±—ã–ª–∞ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ —Å OpenAI embeddings –Ω–∞ Sentence-Transformers:

**–ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:**
- ‚úÖ –≠–º–±–µ–¥–¥–∏–Ω–≥–∏ —Ç–µ–ø–µ—Ä—å –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ —á–µ—Ä–µ–∑ Sentence-Transformers
- ‚úÖ –ù–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç OpenAI API –¥–ª—è –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- ‚úÖ –†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∞ —Å 1536 –Ω–∞ 1024
- ‚úÖ OpenAI API –æ—Å—Ç–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ (–ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Å—ã—Ä–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –≤ JSON)

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `pip install -r requirements.txt`
2. –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å): `python scripts/reset_vector_db.py`
3. –ü–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ: `python scripts/index_existing_files.py --config config.yaml`

**–í–∞–∂–Ω–æ:** OpenAI API (`OPENAI_API_KEY`) –≤—Å–µ –µ—â–µ –Ω—É–∂–µ–Ω –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤ `text_processor/` - –Ω–µ —É–¥–∞–ª—è–π—Ç–µ –µ–≥–æ –∏–∑ `.env`!

---

## üìù **–ü–û–°–õ–ï–î–ù–ò–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø (2025-12-04)**

### **üéØ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∏–¥–µ–æ-—Ä–µ–µ—Å—Ç—Ä–æ–º**

#### **–ß—Ç–æ –±—ã–ª–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ:**

1. **üìä Video Registry (`utils/video_registry.py`)**
   - –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Ä–µ–µ—Å—Ç—Ä –≤—Å–µ—Ö –≤–∏–¥–µ–æ —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π
   - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤: `pending`, `processing`, `processed`, `failed`, `skipped`
   - –ò—Å—Ç–æ—Ä–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏ (–±–ª–æ–∫–∏, —Å—É—â–Ω–æ—Å—Ç–∏, –≤—Ä–µ–º—è, —Å—Ç–æ–∏–º–æ—Å—Ç—å API)
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—É—Ç–µ–π –∫ —Ñ–∞–π–ª–∞–º
   - –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ–µ—Å—Ç—Ä–∞

2. **üì• YouTube Metadata Fetcher (`utils/youtube_metadata_fetcher.py`)**
   - –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª–Ω—ã—Ö –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ YouTube Data API v3
   - –ù–∞–∑–≤–∞–Ω–∏–µ, –∫–∞–Ω–∞–ª, –¥–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –æ–ø–∏—Å–∞–Ω–∏–µ, —Ç–µ–≥–∏
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Å—É–±—Ç–∏—Ç—Ä–æ–≤ –∏ –∏—Ö —Ç–∏–ø–∞
   - Fallback –Ω–∞ –±–∞–∑–æ–≤—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API

3. **üìÅ File Utils (`utils/file_utils.py`)**
   - –°–æ–∑–¥–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –∏–º–µ–Ω —Ñ–∞–π–ª–æ–≤ –∏–∑ –Ω–∞–∑–≤–∞–Ω–∏–π –≤–∏–¥–µ–æ
   - –§–æ—Ä–º–∞—Ç –∏–º–µ–Ω: `{date}_{video_id}_{safe_title}.{ext}`
   - –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –ø–æ –¥–∞—Ç–∞–º: `{year}/{month}/`

4. **üõ†Ô∏è CLI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (`scripts/manage_registry.py`)**
   - –ö–æ–º–∞–Ω–¥–∞ `stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ–µ—Å—Ç—Ä–∞
   - –ö–æ–º–∞–Ω–¥–∞ `info <video_id>` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–∏–¥–µ–æ
   - –ö–æ–º–∞–Ω–¥–∞ `pending` - —Å–ø–∏—Å–æ–∫ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –≤–∏–¥–µ–æ
   - –ö–æ–º–∞–Ω–¥–∞ `failed` - —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö –≤–∏–¥–µ–æ

5. **üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö (`scripts/migrate_existing_videos.py`)**
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —É–∂–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –≤–∏–¥–µ–æ –≤ —Ä–µ–µ—Å—Ç—Ä
   - –ü–æ–ª—É—á–µ–Ω–∏–µ –∏—Ö –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ API
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—É—Ç–µ–π –∫ —Ñ–∞–π–ª–∞–º

#### **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ Pipeline:**

- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ YouTube API
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ —Å –¥–∞—Ç–∞–º–∏ –∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ `{year}/{month}/`
- ‚úÖ –ó–∞–ø–∏—Å—å –∏—Å—Ç–æ—Ä–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤ —Ä–µ–µ—Å—Ç—Ä
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ —Å –¥–∞—Ç–∞–º–∏ –∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—É—Ç–µ–π –∫ —Ñ–∞–π–ª–∞–º –≤ —Ä–µ–µ—Å—Ç—Ä–µ

#### **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö:**

- **–°—ã—Ä—ã–µ —Å—É–±—Ç–∏—Ç—Ä—ã**: `data/raw_subtitles/{year}/{month}/{date}_{video_id}_{title}.{json|srt|txt}`
- **SAG —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã**: `data/sag_final/{year}/{month}/{date}_{video_id}_{title}.{for_vector.json|for_review.md}`
- **–†–µ–µ—Å—Ç—Ä**: `data/video_registry.json`
- **Batch –ª–æ–≥–∏**: `data/raw_subtitles/batch_pipeline_results_{timestamp}.json`

#### **–û–±–Ω–æ–≤–ª–µ–Ω–∏—è:**

- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `google-api-python-client`, `click`
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `.gitignore` - –¥–æ–±–∞–≤–ª–µ–Ω `data/video_registry.json`
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `pipeline_orchestrator.py` - –ø–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–µ–µ—Å—Ç—Ä–∞
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `subtitle_extractor/get_subtitles.py` - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–æ–≤—ã—Ö –∏–º–µ–Ω —Ñ–∞–π–ª–æ–≤
- ‚úÖ –£–±—Ä–∞–Ω–æ —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–≥–æ `batch_results.json` - —Ç–æ–ª—å–∫–æ —Ñ–∏–Ω–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏

#### **üìä –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —ç–∫—Å—Ç—Ä–∞–∫—Ç–æ—Ä—ã –¥–∞–Ω–Ω—ã—Ö:**

–°–∏—Å—Ç–µ–º–∞ –≤–∫–ª—é—á–∞–µ—Ç 5 —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —ç–∫—Å—Ç—Ä–∞–∫—Ç–æ—Ä–æ–≤ –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:

1. **Safety Extractor** (`safety_extractor.py`)
   - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–∫–∞–∑–∞–Ω–∏—è—Ö, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è—Ö
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ø–æ–ª–µ `safety` –∫–∞–∂–¥–æ–≥–æ –±–ª–æ–∫–∞

2. **Causal Chain Extractor** (`causal_chain_extractor.py`)
   - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø—Ä–∏—á–∏–Ω–Ω–æ-—Å–ª–µ–¥—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ü–µ–ø–æ—á–µ–∫ –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
   - –¢–æ—á–∫–∏ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –∏ –ø—Ä–∞–∫—Ç–∏–∫–∏
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ø–æ–ª–µ `causal_chains` –∫–∞–∂–¥–æ–≥–æ –±–ª–æ–∫–∞

3. **Concept Hierarchy Extractor** (`concept_hierarchy_extractor.py`)
   - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–µ—Ä–∞—Ä—Ö–∏–∏ –∫–æ–Ω—Ü–µ–ø—Ç–æ–≤ (root/domain/practice/technique/exercise)
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ø–æ–ª–µ `concept_hierarchy` –∫–∞–∂–¥–æ–≥–æ –±–ª–æ–∫–∞

4. **Case Study Extractor** (`case_study_extractor.py`)
   - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–µ–π—Å–æ–≤ (—Ä–µ–∞–ª—å–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∞–∫—Ç–∏–∫)
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ø–æ–ª–µ `case_studies` –∫–∞–∂–¥–æ–≥–æ –±–ª–æ–∫–∞

5. **Prerequisite Extractor** (`prerequisite_extractor.py`)
   - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø—Ä–µ–¥–ø–æ—Å—ã–ª–æ–∫ –∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –æ–±—É—á–µ–Ω–∏—è
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ø–æ–ª–µ `prerequisites` –∫–∞–∂–¥–æ–≥–æ –±–ª–æ–∫–∞

**–ì–¥–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ:**
- –í—Å–µ –¥–∞–Ω–Ω—ã–µ —ç–∫—Å—Ç—Ä–∞–∫—Ç–æ—Ä–æ–≤ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è **–ø—Ä—è–º–æ –≤ –±–ª–æ–∫–∏** —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ JSON —Ñ–∞–π–ª–∞
- –ü—É—Ç—å: `data/sag_final/{year}/{month}/{date}_{video_id}_{title}.for_vector.json`
- –ö–∞–∂–¥—ã–π –±–ª–æ–∫ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª—è: `safety`, `causal_chains`, `concept_hierarchy`, `case_studies`, `prerequisites`
- –î–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ –∏ RAG-—Å–∏—Å—Ç–µ–º
- –î–∞–Ω–Ω—ã–µ –∏–Ω–¥–µ–∫—Å–∏—Ä—É—é—Ç—Å—è –≤ ChromaDB –≤–º–µ—Å—Ç–µ —Å –æ—Å—Ç–∞–ª—å–Ω—ã–º–∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ –±–ª–æ–∫–æ–≤

**–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö –≤ –±–ª–æ–∫–µ:**
```json
{
  "block_id": "...",
  "content": "...",
  "safety": {...},           // –ò–∑ safety_extractor.py
  "causal_chains": [...],    // –ò–∑ causal_chain_extractor.py
  "concept_hierarchy": [...], // –ò–∑ concept_hierarchy_extractor.py
  "case_studies": [...],     // –ò–∑ case_study_extractor.py
  "prerequisites": {...}     // –ò–∑ prerequisite_extractor.py
}
```

#### **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

‚úÖ **–ó–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π  
‚úÖ **–ü–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è** - –∫–æ–≥–¥–∞ –∏ –∫–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª–æ—Å—å –∫–∞–∂–¥–æ–µ –≤–∏–¥–µ–æ  
‚úÖ **–ß–∏—Ç–∞–µ–º—ã–µ –∏–º–µ–Ω–∞** - —Å—Ä–∞–∑—É –ø–æ–Ω—è—Ç–Ω–æ, —á—Ç–æ –∑–∞ —Ñ–∞–π–ª  
‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–µ —Ä–∞–∑–≤–∞–ª–∏—Ç—Å—è –Ω–∞ 1000+ –≤–∏–¥–µ–æ  
‚úÖ **–õ–µ–≥–∫–∏–π –ø–æ–∏—Å–∫** - –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –ø–æ –¥–∞—Ç–∞–º  
‚úÖ **–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∑–∞—Ç—Ä–∞—Ç** - —Å–∫–æ–ª—å–∫–æ –ø–æ—Ç—Ä–∞—á–µ–Ω–æ –Ω–∞ API  
‚úÖ **–í–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏** - –≤–∏–¥–Ω–æ, —á—Ç–æ –æ—Å—Ç–∞–ª–æ—Å—å –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å  
‚úÖ **CLI —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** - —É–¥–æ–±–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞  

---

### –ü–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è
- [x] **SAG v2.0 —Å–∏—Å—Ç–µ–º–∞** - ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û (ETAP 5)
- [x] **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –±–ª–æ–∫–æ–≤** - ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û
- [x] **üéØ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è "—Å–ø—è—â–µ–≥–æ –≥–∏–≥–∞–Ω—Ç–∞"** - ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û (442 —É–∑–ª–∞ + 259 –æ—Ç–Ω–æ—à–µ–Ω–∏–π)
- [x] **–ì—Ä–∞—Ñ-—Å—É—â–Ω–æ—Å—Ç–∏ –∏ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è** - ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û
- [x] **üîó –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ —Å–≤—è–∑–µ–π** - ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û
- [x] **–ú–æ—Ä—Ñ–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞** - ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û
- [x] **–£–º–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –ø–æ –∫–æ–ª–ª–µ–∫—Ü–∏—è–º** - ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û
- [x] **üèóÔ∏è –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã** - ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û (Codex)
- [x] **üßπ –û—á–∏—Å—Ç–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞** - ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û (—á–∏—Å—Ç–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
- [x] **üîç –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –ë–î (ChromaDB)** - ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û
- [x] **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –≤–µ–∫—Ç–æ—Ä–Ω—ã—Ö –∏–Ω–¥–µ–∫—Å–æ–≤** - ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û
- [x] **üìä –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∏–¥–µ–æ-—Ä–µ–µ—Å—Ç—Ä–æ–º** - ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û (2025-12-04)
- [x] **üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤** - ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û (2025-12-04)
- [x] **üìÖ –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤ –ø–æ –¥–∞—Ç–∞–º** - ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û (2025-12-04)
- [x] **üìù –ü–æ–ª—É—á–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ YouTube API** - ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û (2025-12-04)
- [x] **üõ†Ô∏è CLI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ–µ—Å—Ç—Ä–æ–º** - ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û (2025-12-04)
- [x] **üîç –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —ç–∫—Å—Ç—Ä–∞–∫—Ç–æ—Ä—ã –¥–∞–Ω–Ω—ã—Ö** - ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û (5 —ç–∫—Å—Ç—Ä–∞–∫—Ç–æ—Ä–æ–≤: safety, causal chains, concept hierarchy, case studies, prerequisites)
- [ ] **–≠—Ç–∞–ø 2**: –ü–æ–ª–Ω–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è –≥—Ä–∞—Ñ-–∫–æ–ª–ª–µ–∫—Ü–∏–∏
- [ ] **–≠—Ç–∞–ø 3**: SAG Pipeline —Å –≤–µ–∫—Ç–æ—Ä–Ω—ã–º –ø–æ–∏—Å–∫–æ–º (—á–∞—Å—Ç–∏—á–Ω–æ - –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞)
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ –≤–µ–∫—Ç–æ—Ä–Ω—ã–º–∏ –ë–î (Pinecone, Weaviate, Qdrant)
- [ ] –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- [ ] API –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —è–∑—ã–∫–æ–≤
- [ ] –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –≥—Ä–∞—Ñ-—Å—É—â–Ω–æ—Å—Ç–µ–π –¥–ª—è –¥—Ä—É–≥–∏—Ö –¥–æ–º–µ–Ω–æ–≤

### –õ–∏—Ü–µ–Ω–∑–∏—è
–ü—Ä–æ–µ–∫—Ç –¥–ª—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª–µ–π. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å —É—Å–ª–æ–≤–∏—è–º–∏ YouTube API –∏ OpenAI.

### üÜï **SAG v2.0 –°—Ç–∞—Ç—É—Å**
- **–í–µ—Ä—Å–∏—è**: 2.0 (Structured Augmented Generation)
- **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å**: 95% (–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å)
- **ETAP 5**: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω (10/10 –∑–∞–¥–∞—á)
- **–í–µ–∫—Ç–æ—Ä–Ω–∞—è –ë–î**: ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ (ChromaDB)
- **üìä –í–∏–¥–µ–æ-—Ä–µ–µ—Å—Ç—Ä**: ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω (–ø—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤, –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –ø–æ –¥–∞—Ç–∞–º)
- **–°—Ç–∞—Ç—É—Å**: üü¢ –ì–æ—Ç–æ–≤ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
- **–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∏–¥–µ–æ-—Ä–µ–µ—Å—Ç—Ä–æ–º + –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤ –ø–æ –¥–∞—Ç–∞–º

---

**üéâ –ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è AI-–±–æ—Ç–æ–≤ —Å –≤–µ–∫—Ç–æ—Ä–Ω—ã–º –ø–æ–∏—Å–∫–æ–º, –≥—Ä–∞—Ñ-RAG —Å–∏—Å—Ç–µ–º–∞–º–∏ –∏ SAG v2.0!**

### **üöÄ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã:**
- **SAG v2.0**: ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ (95% –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏)
- **ETAP 5**: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω (10/10 –∑–∞–¥–∞—á)
- **üéØ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è "—Å–ø—è—â–µ–≥–æ –≥–∏–≥–∞–Ω—Ç–∞"**: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞ (442 —É–∑–ª–∞ + 259 –æ—Ç–Ω–æ—à–µ–Ω–∏–π)
- **üîó –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑**: ‚úÖ –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω
- **üîç –í–µ–∫—Ç–æ—Ä–Ω–∞—è –ë–î**: ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ (ChromaDB)
- **üìä –í–∏–¥–µ–æ-—Ä–µ–µ—Å—Ç—Ä**: ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω (–ø—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤, –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –ø–æ –¥–∞—Ç–∞–º)
- **üèóÔ∏è –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã**: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞ (Codex)
- **üßπ –û—á–∏—Å—Ç–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞**: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞ (—á–∏—Å—Ç–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
- **–ö–∞—á–µ—Å—Ç–≤–æ**: üü¢ –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å
- **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å**: üü¢ –í—ã—Å–æ–∫–∞—è, —Å –∑–∞—â–∏—Ç–æ–π –æ—Ç –æ—à–∏–±–æ–∫
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: üü¢ –ì–æ—Ç–æ–≤ –∫ 500+ –≤–∏–¥–µ–æ
- **–°—Ç–∞—Ç—É—Å**: üü¢ **–ì–û–¢–û–í –î–õ–Ø –ü–†–û–î–ê–ö–®–ï–ù–ê**

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 2025-12-04*  
*–í–µ—Ä—Å–∏—è: SAG v2.0 + ETAP 5 (–¢–æ–Ω–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞) + –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è "—Å–ø—è—â–µ–≥–æ –≥–∏–≥–∞–Ω—Ç–∞" + –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã (Codex) + –û—á–∏—Å—Ç–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ + –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∏–¥–µ–æ-—Ä–µ–µ—Å—Ç—Ä–æ–º*
