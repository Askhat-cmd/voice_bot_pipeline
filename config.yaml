# Configuration for the Voice Bot Pipeline (SAG v2.0 Optimized)

# Logging configuration
logging:
  level: "INFO" # DEBUG, INFO, WARNING, ERROR
  log_file: "pipeline.log"

# Global pipeline settings
pipeline:
  # YouTube subtitles download settings (—Å–æ—Ö—Ä–∞–Ω—è–µ–º –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞)
  subtitles:
    output_dir: "data/raw_subtitles"  # –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å—ã—Ä—ã–µ —Å—É–±—Ç–∏—Ç—Ä—ã
    # Options: "ru", "en", etc.
    language: "ru"

  # Text processing settings - DIRECT TO SAG v2.0
  text_processing:
    output_dir: "data/sag_final"  # –ü—Ä—è–º–æ –≤ —Ñ–∏–Ω–∞–ª—å–Ω—É—é –ø–∞–ø–∫—É SAG v2.0

  # SAG v2.0 extractors configuration
  sag_v2:
    use_safety_extractor: true
    use_causal_chain_extractor: true
    use_concept_hierarchy_extractor: true
    use_case_study_extractor: true
    use_prerequisite_extractor: true
    models:
      safety: gpt-4o-mini
      causal: gpt-4o-mini
      hierarchy: gpt-4o-mini
      case_study: gpt-4o-mini
      prerequisite: gpt-4o-mini

  # Directory for pipeline run results and logs
  results_dir: "data/sag_final"  # –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–æ–∂–µ –≤ SAG v2.0

# Vector Database settings (ChromaDB)
vector_db:
  # –ü—É—Ç—å –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö ChromaDB
  db_path: "data/chromadb"
  
  # –ü—Ä–µ—Ñ–∏–∫—Å –¥–ª—è –∏–º–µ–Ω –∫–æ–ª–ª–µ–∫—Ü–∏–π
  collection_prefix: "sag_v2"
  
  # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏
  auto_index: true  # –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ true –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏
  
  # –£—Ä–æ–≤–Ω–∏ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ (documents, blocks, graph_entities, knowledge_graph)
  index_levels:
    - "documents"
    - "blocks"
    - "graph_entities"
    - "knowledge_graph"  # üöÄ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–æ–ª–Ω–∞—è –±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π —Å–æ –≤—Å–µ–º–∏ –≤–∑–∞–∏–º–æ—Å–≤—è–∑—è–º–∏
  
  # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
  embedding:
    provider: "sentence-transformers"  # –ü—Ä–æ–≤–∞–π–¥–µ—Ä —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
    model: "intfloat/multilingual-e5-large"  # –ú–æ–¥–µ–ª—å Sentence-Transformers
    dimension: 1024  # –†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ (–¥–ª—è multilingual-e5-large)
  
  # –†–∞–∑–º–µ—Ä –±–∞—Ç—á–∞ –¥–ª—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏
  batch_size: 100
  
  # –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: rate_limiting –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–µ–Ω –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π Sentence-Transformers
  # –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ rate limiting —É–¥–∞–ª–µ–Ω—ã, —Ç–∞–∫ –∫–∞–∫ –º–æ–¥–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ –±–µ–∑ API –∑–∞–ø—Ä–æ—Å–æ–≤